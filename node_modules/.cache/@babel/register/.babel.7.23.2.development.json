{"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// CONEXION A LA BASE DE DATOS.\n_mongoose.default.Promise = global.Promise;\nconst dburl = \"mongodb://localhost:27017/ecommerce_udemy\";\n_mongoose.default.connect(dburl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(mongoose => console.log(\"CONECTADO A LA DB EN EL PUERTO 27017\")).catch(err => console.log(err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extend: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log('EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vbmdvb3NlIiwiUHJvbWlzZSIsImdsb2JhbCIsImRidXJsIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kIiwic3RhdGljIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJyb3V0ZXIiLCJzZXQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImxpc3RlbiIsImdldCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgcm91dGVyIGZyb20gXCIuL3JvdXRlclwiO1xuXG4vLyBDT05FWElPTiBBIExBIEJBU0UgREUgREFUT1MuXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG5jb25zdCBkYnVybCA9IFwibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9lY29tbWVyY2VfdWRlbXlcIjtcbm1vbmdvb3NlLmNvbm5lY3QgKFxuICAgIGRidXJsLCB7XG4gICAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlXG4gICAgfVxuKS50aGVuKG1vbmdvb3NlID0+IGNvbnNvbGUubG9nKFwiQ09ORUNUQURPIEEgTEEgREIgRU4gRUwgUFVFUlRPIDI3MDE3XCIpKVxuLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShjb3JzKCkpO1xuXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHtleHRlbmQ6IHRydWV9KSk7XG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsJ3B1YmxpYycpKSk7XG5hcHAudXNlKCcvYXBpLycsIHJvdXRlcik7XG5cbmFwcC5zZXQoJ3BvcnQnLCBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDApO1xuYXBwLmxpc3RlbihhcHAuZ2V0KCdwb3J0JyksICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnRUwgU0VSVklET1IgU0UgRUpFQ1VUTyBQRVJGRUNUQU1FTlRFIEVOIEVMIFBVRVJUTyAzMDAwJyk7XG59KSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFNLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFOUI7QUFDQUcsaUJBQVEsQ0FBQ0MsT0FBTyxHQUFHQyxNQUFNLENBQUNELE9BQU87QUFDakMsTUFBTUUsS0FBSyxHQUFHLDJDQUEyQztBQUN6REgsaUJBQVEsQ0FBQ0ksT0FBTyxDQUNaRCxLQUFLLEVBQUU7RUFDSEUsZUFBZSxFQUFFLElBQUk7RUFDckJDLGtCQUFrQixFQUFFO0FBQ3hCLENBQ0osQ0FBQyxDQUFDQyxJQUFJLENBQUNQLFFBQVEsSUFBSVEsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0NBQXNDLENBQUMsQ0FBQyxDQUN0RUMsS0FBSyxDQUFDQyxHQUFHLElBQUlILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQztBQUUvQixNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEVBQUMsQ0FBQyxDQUFDO0FBRWZILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCSixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0ksVUFBVSxDQUFDO0VBQUNDLE1BQU0sRUFBRTtBQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzNDTixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ00sTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdERWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBRVMsZUFBTSxDQUFDO0FBRXhCWCxHQUFHLENBQUNZLEdBQUcsQ0FBQyxNQUFNLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJLElBQUksSUFBSSxDQUFDO0FBQ3pDZixHQUFHLENBQUNnQixNQUFNLENBQUNoQixHQUFHLENBQUNpQixHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTTtFQUM5QnJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdEQUF3RCxDQUFDO0FBQ3pFLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","obj","__esModule","default","mongoose","Promise","global","dburl","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extend","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/","sources":["index.js"],"sourcesContent":["import express from \"express\";\nimport cors from \"cors\";\nimport path from \"path\";\nimport mongoose from \"mongoose\";\nimport router from \"./router\";\n\n// CONEXION A LA BASE DE DATOS.\nmongoose.Promise = global.Promise;\nconst dburl = \"mongodb://localhost:27017/ecommerce_udemy\";\nmongoose.connect (\n    dburl, {\n        useNewUrlParser: true,\n        useUnifiedTopology: true\n    }\n).then(mongoose => console.log(\"CONECTADO A LA DB EN EL PUERTO 27017\"))\n.catch(err => console.log(err));\n\nconst app = express();\napp.use(cors());\n\napp.use(express.json());\napp.use(express.urlencoded({extend: true}));\napp.use(express.static(path.join(__dirname,'public')));\napp.use('/api/', router);\n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n    console.log('EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000');\n})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9B;AACAG,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjC,MAAME,KAAK,GAAG,2CAA2C;AACzDH,iBAAQ,CAACI,OAAO,CACZD,KAAK,EAAE;EACHE,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AACxB,CACJ,CAAC,CAACC,IAAI,CAACP,QAAQ,IAAIQ,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC,CAAC,CACtEC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;AAE/B,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AAEfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAACC,MAAM,EAAE;AAAI,CAAC,CAAC,CAAC;AAC3CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC;AACtDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAAES,eAAM,CAAC;AAExBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACzCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAC9BrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACzE,CAAC,CAAC"}},"mtime":1698089710411},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use(\"/users\", _User.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwidXNlIiwiVXNlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIjtcbmltcG9ydCBVc2VyIGZyb20gXCIuL1VzZXJcIjtcblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xucm91dGVyLnVzZShcIi91c2Vyc1wiLCBVc2VyKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUEwQixTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUUxQixNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBTixPQUFBLEdBRVpDLE1BQU0ifQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","obj","__esModule","default","router","routerx","use","User","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\";\nimport User from \"./User\";\n\nconst router = routerx();\nrouter.use(\"/users\", User);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE1B,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GAEZC,MAAM"}},"mtime":1698089569619},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\n//const router = routerx();\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", _UserController.default.register);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _UserController.default.list);\nrouter.put(\"/login\", _UserController.default.login);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJ1c2VyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImxvZ2luIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiBpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlclwiO1xuXG4vL2NvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy8gaHR0cDovL2xvY2FsaG9zdDovMzAwMC9hcGkvdXNlci9yZWdpc3Rlclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgdXNlckNvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIiwgdXNlckNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLCB1c2VyQ29udHJvbGxlci5saXN0KTtcbnJvdXRlci5wdXQoXCIvbG9naW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW4pO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgdXNlckNvbnRyb2xsZXIucmVtb3ZlKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUMsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVELElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUEyRCxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUQzRDs7QUFHQTtBQUNBLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7O0FBRXhCO0FBQ0FELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRUMsdUJBQWMsQ0FBQ0MsUUFBUSxDQUFDO0FBQ2pESixNQUFNLENBQUNLLEdBQUcsQ0FBQyxTQUFTLEVBQUVGLHVCQUFjLENBQUNHLE1BQU0sQ0FBQztBQUM1Q04sTUFBTSxDQUFDTyxHQUFHLENBQUMsT0FBTyxFQUFFSix1QkFBYyxDQUFDSyxJQUFJLENBQUM7QUFDeENSLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLFFBQVEsRUFBRUYsdUJBQWMsQ0FBQ00sS0FBSyxDQUFDO0FBQzFDVCxNQUFNLENBQUNVLE1BQU0sQ0FBQyxTQUFTLEVBQUVQLHVCQUFjLENBQUNRLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBZCxPQUFBLEdBRWpDQyxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","obj","__esModule","default","router","routerx","post","userController","register","put","update","get","list","login","delete","remove","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/","sources":["User.js"],"sourcesContent":[" import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport userController from \"../controllers/UserController\";\n\n//const router = routerx();\nconst router = routerx();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", userController.register);\nrouter.put(\"/update\", userController.update);\nrouter.get(\"/list\", userController.list);\nrouter.put(\"/login\", userController.login);\nrouter.delete(\"/delete\", userController.remove);\n\nexport default router;"],"mappings":";;;;;;AAAC,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAED,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA2D,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAD3D;;AAGA;AACA,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;AACAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAAEF,uBAAc,CAACG,MAAM,CAAC;AAC5CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAAEJ,uBAAc,CAACK,IAAI,CAAC;AACxCR,MAAM,CAACK,GAAG,CAAC,QAAQ,EAAEF,uBAAc,CAACM,KAAK,CAAC;AAC1CT,MAAM,CAACU,MAAM,CAAC,SAAS,EAAEP,uBAAc,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAd,OAAA,GAEjCC,MAAM"}},"mtime":1698089510143},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(\"debbug:-------------\");\n      console.log(error);\n      console.log(\"debbug:-------------\");\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(\"debbug:-------------\");\n      console.log(error);\n      console.log(\"debbug:-------------\");\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      const UserT = await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: UserT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.body.search;\n      const Users = await _models.default.User.find({\n        $or: [{\n          \"name\": RegExp(search, \"i\")\n        }, {\n          \"surname\": RegExp(search, \"i\")\n        }, {\n          \"email\": RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYmNyeXB0anMiLCJfdG9rZW4iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiYm9keSIsInBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwibG9naW4iLCJmaW5kT25lIiwiZW1haWwiLCJzdGF0ZSIsImNvbXBhcmUiLCJ0b2tlblQiLCJ0b2tlbiIsImVuY29kZSIsIl9pZCIsInJvbCIsIlVTRVJfRlJPTlRFRCIsIm5hbWUiLCJzdXJuYW1lIiwiYXZhdGFyIiwibG9naW5fYWRtaW4iLCJ1cGRhdGUiLCJmaWxlcyIsImltZ19wYXRoIiwicGF0aCIsInNwbGl0IiwiYXZhdGFyX25hbWUiLCJVc2VyVCIsImZpbmRCeUlkQW5kVXBkYXRlIiwibGlzdCIsInNlYXJjaCIsIlVzZXJzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJ1c2VycyIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XG5pbXBvcnQgdG9rZW4gZnJvbSBcIi4uL3NlcnZpY2VzL3Rva2VuXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5jcmVhdGUocmVxLmJvZHkpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcik7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIHJlZ2lzdGVyIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxvZ2luOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCwgc3RhdGU6MX0pO1xuICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBTSSBFU1TDgSBSRUdJU1RSQURPIEVOIEVMIFNJU1RFTUFcbiAgICAgICAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLCB1c2VyLnJvbCwgdXNlci5lbWFpbCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlblQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciBsb2dpbiAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJkZWJidWc6LS0tLS0tLS0tLS0tLVwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZGViYnVnOi0tLS0tLS0tLS0tLS1cIik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxvZ2luX2FkbWluOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCwgc3RhdGU6MSwgcm9sOlwiYWRtaW5cIn0pO1xuICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBTSSBFU1TDgSBSRUdJU1RSQURPIEVOIEVMIFNJU1RFTUFcbiAgICAgICAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLCB1c2VyLnJvbCwgdXNlci5lbWFpbCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlblQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbDogdXNlci5yb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciBsb2dpbiAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJkZWJidWc6LS0tLS0tLS0tLS0tLVwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZGViYnVnOi0tLS0tLS0tLS0tLS1cIik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxLmJvZHkucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBVc2VyVCA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6cmVxLmJvZHkuX2lkfSwgcmVxLmJvZHkpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBTRSBIQSBNT0RJRklDQURPIENPUlJFQ1RBTUVOVEVcIixcbiAgICAgICAgICAgICAgICB1c2VyOiBVc2VyVCwgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGlzdDogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEuYm9keS5zZWFyY2g7XG4gICAgICAgICAgICBjb25zdCBVc2VycyA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmQoe1xuICAgICAgICAgICAgICAgICRvcjpbXG4gICAgICAgICAgICAgICAgICAgIHtcIm5hbWVcIjogUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgICAgICAgICAgICAge1wic3VybmFtZVwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgICAgICB7XCJlbWFpbFwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXJzOiBVc2Vyc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IFVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEuYm9keS5faWR9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOw5MgQ09SUkVDVEFNRU5URVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRXZCO0VBQ1hHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUN6QixJQUFJO01BQ0FELEdBQUcsQ0FBQ0UsSUFBSSxDQUFDQyxRQUFRLEdBQUcsTUFBTUMsaUJBQU0sQ0FBQ0MsSUFBSSxDQUFDTCxHQUFHLENBQUNFLElBQUksQ0FBQ0MsUUFBUSxFQUFFLEVBQUUsQ0FBQztNQUM1RCxNQUFNRyxJQUFJLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxJQUFJLENBQUNDLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRSxJQUFJLENBQUM7TUFDL0NELEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNMLElBQUksQ0FBQztJQUM5QixDQUFDLENBQUMsT0FBT00sS0FBSyxFQUFFO01BQ1pYLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_bcryptjs","_token","obj","__esModule","default","_default","exports","register","req","res","body","password","bcrypt","hash","user","models","User","create","status","json","error","send","message","console","log","login","findOne","email","state","compare","tokenT","token","encode","_id","rol","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","UserT","findByIdAndUpdate","list","search","Users","find","$or","RegExp","sort","users","remove","findByIdAndDelete"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\n\nexport default {\n    register: async(req, res) => {\n        try {\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            const user = await models.User.create(req.body);\n            res.status(200).json(user);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    login: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(\"debbug:-------------\");\n            console.log(error);\n            console.log(\"debbug:-------------\");\n        }\n    },\n    login_admin: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1, rol:\"admin\"});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar,\n                            rol: user.rol,\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(\"debbug:-------------\");\n            console.log(error);\n            console.log(\"debbug:-------------\");\n        }\n    },\n\n    update: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.avatar.path;\n                var name = img_path.split('\\\\');\n                var avatar_name = name[2];\n                console.log(avatar_name);\n            }\n            if (req.body.password) {\n                req.body.password = await bcrypt.hash(req.body.password, 10);\n            }\n            const UserT = await models.User.findByIdAndUpdate({_id:req.body._id}, req.body);\n            res.status(200).json({\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n                user: UserT, \n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.body.search;\n            const Users = await models.User.find({\n                $or:[\n                    {\"name\": RegExp(search, \"i\")},\n                    {\"surname\": RegExp(search, \"i\")},\n                    {\"email\": RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n            res.status(200).json({\n                users: Users\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            const User = await models.User.findByIdAndDelete({_id: req.body._id});\n            res.status(200).json({\n                message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":"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"}},"mtime":1698498969101},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use(\"/users\", _User.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwidXNlIiwiVXNlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIjtcbmltcG9ydCBVc2VyIGZyb20gXCIuL1VzZXJcIjtcblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xucm91dGVyLnVzZShcIi91c2Vyc1wiLCBVc2VyKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUEwQixTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUUxQixNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBTixPQUFBLEdBRVpDLE1BQU0ifQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","obj","__esModule","default","router","routerx","use","User","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\";\nimport User from \"./User\";\n\nconst router = routerx();\nrouter.use(\"/users\", User);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE1B,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GAEZC,MAAM"}},"mtime":1698089569619},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\n//const router = routerx();\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", _UserController.default.register);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJyZWdpc3Rlcl9hZG1pbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiBpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlclwiO1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCc7XG5cbi8vY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBodHRwOi8vbG9jYWxob3N0Oi8zMDAwL2FwaS91c2VyL3JlZ2lzdGVyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9hZG1pblwiLCBhdXRoLnZlcmlmeUFkbWluLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCB1c2VyQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsIGF1dGgudmVyaWZ5QWRtaW4sIHVzZXJDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW4pO1xucm91dGVyLnBvc3QoXCIvbG9naW5fYWRtaW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW5fYWRtaW4pO1xuXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLCB1c2VyQ29udHJvbGxlci5yZW1vdmUpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQyxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUQsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRnZDOztBQUlBO0FBQ0EsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7QUFDQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDakRKLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGlCQUFpQixFQUFFRyxhQUFJLENBQUNDLFdBQVcsRUFBRUgsdUJBQWMsQ0FBQ0ksY0FBYyxDQUFDO0FBQy9FUCxNQUFNLENBQUNRLEdBQUcsQ0FBQyxTQUFTLEVBQUVMLHVCQUFjLENBQUNNLE1BQU0sQ0FBQztBQUM1Q1QsTUFBTSxDQUFDVSxHQUFHLENBQUMsT0FBTyxFQUFFTCxhQUFJLENBQUNDLFdBQVcsRUFBRUgsdUJBQWMsQ0FBQ1EsSUFBSSxDQUFDO0FBQzFEWCxNQUFNLENBQUNFLElBQUksQ0FBQyxRQUFRLEVBQUVDLHVCQUFjLENBQUNTLEtBQUssQ0FBQztBQUMzQ1osTUFBTSxDQUFDRSxJQUFJLENBQUMsY0FBYyxFQUFFQyx1QkFBYyxDQUFDVSxXQUFXLENBQUM7QUFFdkRiLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDLFNBQVMsRUFBRVgsdUJBQWMsQ0FBQ1ksTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFsQixPQUFBLEdBRWpDQyxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","userController","register","auth","verifyAdmin","register_admin","put","update","get","list","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/","sources":["User.js"],"sourcesContent":[" import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport userController from \"../controllers/UserController\";\nimport auth from '../middlewares/auth';\n\n//const router = routerx();\nconst router = routerx();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", userController.register);\nrouter.post(\"/register_admin\", auth.verifyAdmin, userController.register_admin);\nrouter.put(\"/update\", userController.update);\nrouter.get(\"/list\", auth.verifyAdmin, userController.list);\nrouter.post(\"/login\", userController.login);\nrouter.post(\"/login_admin\", userController.login_admin);\n\nrouter.delete(\"/delete\", userController.remove);\n\nexport default router;"],"mappings":";;;;;;AAAC,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAED,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAFvC;;AAIA;AACA,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;AACAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAAEG,aAAI,CAACC,WAAW,EAAEH,uBAAc,CAACI,cAAc,CAAC;AAC/EP,MAAM,CAACQ,GAAG,CAAC,SAAS,EAAEL,uBAAc,CAACM,MAAM,CAAC;AAC5CT,MAAM,CAACU,GAAG,CAAC,OAAO,EAAEL,aAAI,CAACC,WAAW,EAAEH,uBAAc,CAACQ,IAAI,CAAC;AAC1DX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACS,KAAK,CAAC;AAC3CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACU,WAAW,CAAC;AAEvDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAAEX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAEjCC,MAAM"}},"mtime":1698570665742},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register_admin: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(\"debbug:-------------\");\n      console.log(error);\n      console.log(\"debbug:-------------\");\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(\"debbug:-------------\");\n      console.log(error);\n      console.log(\"debbug:-------------\");\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      const UserT = await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: UserT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.body.search;\n      const Users = await _models.default.User.find({\n        $or: [{\n          \"name\": RegExp(search, \"i\")\n        }, {\n          \"surname\": RegExp(search, \"i\")\n        }, {\n          \"email\": RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYmNyeXB0anMiLCJfdG9rZW4iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyX2FkbWluIiwicmVxIiwicmVzIiwiYm9keSIsInBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXIiLCJsb2dpbiIsImZpbmRPbmUiLCJlbWFpbCIsInN0YXRlIiwiY29tcGFyZSIsInRva2VuVCIsInRva2VuIiwiZW5jb2RlIiwiX2lkIiwicm9sIiwiVVNFUl9GUk9OVEVEIiwibmFtZSIsInN1cm5hbWUiLCJhdmF0YXIiLCJsb2dpbl9hZG1pbiIsInVwZGF0ZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsIlVzZXJUIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJsaXN0Iiwic2VhcmNoIiwiVXNlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsInVzZXJzIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRvcy9EZXNhcnJvbGxvL3d3dy9FY29tbWVyY2UtTUVBTi9hcGlfZWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcbmltcG9ydCB0b2tlbiBmcm9tIFwiLi4vc2VydmljZXMvdG9rZW5cIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHJlZ2lzdGVyX2FkbWluOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwgMTApO1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgcmVnaXN0ZXIgLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICByZWdpc3RlcjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5jcmVhdGUocmVxLmJvZHkpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcik7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIHJlZ2lzdGVyIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxvZ2luOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCwgc3RhdGU6MX0pO1xuICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBTSSBFU1TDgSBSRUdJU1RSQURPIEVOIEVMIFNJU1RFTUFcbiAgICAgICAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLCB1c2VyLnJvbCwgdXNlci5lbWFpbCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlblQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciBsb2dpbiAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJkZWJidWc6LS0tLS0tLS0tLS0tLVwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZGViYnVnOi0tLS0tLS0tLS0tLS1cIik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxvZ2luX2FkbWluOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCwgc3RhdGU6MSwgcm9sOlwiYWRtaW5cIn0pO1xuICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBTSSBFU1TDgSBSRUdJU1RSQURPIEVOIEVMIFNJU1RFTUFcbiAgICAgICAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLCB1c2VyLnJvbCwgdXNlci5lbWFpbCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlblQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbDogdXNlci5yb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciBsb2dpbiAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJkZWJidWc6LS0tLS0tLS0tLS0tLVwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZGViYnVnOi0tLS0tLS0tLS0tLS1cIik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxLmJvZHkucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBVc2VyVCA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6cmVxLmJvZHkuX2lkfSwgcmVxLmJvZHkpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBTRSBIQSBNT0RJRklDQURPIENPUlJFQ1RBTUVOVEVcIixcbiAgICAgICAgICAgICAgICB1c2VyOiBVc2VyVCwgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGlzdDogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEuYm9keS5zZWFyY2g7XG4gICAgICAgICAgICBjb25zdCBVc2VycyA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmQoe1xuICAgICAgICAgICAgICAgICRvcjpbXG4gICAgICAgICAgICAgICAgICAgIHtcIm5hbWVcIjogUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgICAgICAgICAgICAge1wic3VybmFtZVwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgICAgICB7XCJlbWFpbFwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXJzOiBVc2Vyc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IFVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEuYm9keS5faWR9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOw5MgQ09SUkVDVEFNRU5URVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxH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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_bcryptjs","_token","obj","__esModule","default","_default","exports","register_admin","req","res","body","password","bcrypt","hash","user","models","User","create","status","json","error","send","message","console","log","register","login","findOne","email","state","compare","tokenT","token","encode","_id","rol","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","UserT","findByIdAndUpdate","list","search","Users","find","$or","RegExp","sort","users","remove","findByIdAndDelete"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\n\nexport default {\n    register_admin: async(req, res) => {\n        try {\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            const user = await models.User.create(req.body);\n            res.status(200).json(user);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n\n    register: async(req, res) => {\n        try {\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            const user = await models.User.create(req.body);\n            res.status(200).json(user);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    login: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(\"debbug:-------------\");\n            console.log(error);\n            console.log(\"debbug:-------------\");\n        }\n    },\n    login_admin: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1, rol:\"admin\"});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar,\n                            rol: user.rol,\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(\"debbug:-------------\");\n            console.log(error);\n            console.log(\"debbug:-------------\");\n        }\n    },\n\n    update: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.avatar.path;\n                var name = img_path.split('\\\\');\n                var avatar_name = name[2];\n                console.log(avatar_name);\n            }\n            if (req.body.password) {\n                req.body.password = await bcrypt.hash(req.body.password, 10);\n            }\n            const UserT = await models.User.findByIdAndUpdate({_id:req.body._id}, req.body);\n            res.status(200).json({\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n                user: UserT, \n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.body.search;\n            const Users = await models.User.find({\n                $or:[\n                    {\"name\": RegExp(search, \"i\")},\n                    {\"surname\": RegExp(search, \"i\")},\n                    {\"email\": RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n            res.status(200).json({\n                users: Users\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            const User = await models.User.findByIdAndDelete({_id: req.body._id});\n            res.status(200).json({\n                message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":"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"}},"mtime":1698571036833},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBVc2VyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBMEIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVYO0VBQ1hHLElBQUksRUFBSkE7QUFDSixDQUFDIn0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","obj","__esModule","default","_default","exports","User"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/","sources":["index.js"],"sourcesContent":["import User from \"./User\";\n\nexport default {\n    User\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEX;EACXG,IAAI,EAAJA;AACJ,CAAC"}},"mtime":1698004775421},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es des activo.\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwic3RhdGUiLCJOdW1iZXIiLCJwaG9uZSIsImJpcnRoZGF5IiwidGltZXN0YW1wcyIsIlVzZXIiLCJtb29uZ29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb29uZ29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICByb2w6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjMwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBuYW1lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIHN1cm5hbWU6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGVtYWlsOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWUsIHVuaXF1ZTp0cnVlfSxcbiAgICBwYXNzd29yZDp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBhdmF0YXI6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHN0YXRlOnt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6MX0sIC8vIDEgZXMgYWN0aXZvIHkgMiBlcyBkZXMgYWN0aXZvLlxuICAgIHBob25lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGJpcnRoZGF5Ont0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxufSx7XG4gICAgdGltZXN0YW1wczogdHJ1ZVxufSk7XG5cbmNvbnN0IFVzZXIgPSBtb29uZ29zZS5tb2RlbChcInVzZXJcIiwgVXNlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixD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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","required","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","moongose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/","sources":["User.js"],"sourcesContent":["import moongose, {Schema} from \"mongoose\";\n\nconst UserSchema = new Schema({\n    rol:{type: String, maxlength:30, required:true},\n    name:{type: String, maxlength:250, required:true},\n    surname:{type: String, maxlength:250, required:false},\n    email:{type: String, maxlength:250, required:true, unique:true},\n    password:{type: String, maxlength:250, required:true},\n    avatar:{type: String, maxlength:250, required:false},\n    state:{type: Number, default:1}, // 1 es activo y 2 es des activo.\n    phone:{type: String, maxlength:20, required:false},\n    birthday:{type: String, maxlength:20, required:false},\n},{\n    timestamps: true\n});\n\nconst User = moongose.model(\"user\", UserSchema);\nexport default User;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMY,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC/CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACjDE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACrDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC,IAAI;IAAEI,MAAM,EAAC;EAAI,CAAC;EAC/DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACpDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAAE7B,OAAO,EAAC;EAAC,CAAC;EAAE;EACjC8B,KAAK,EAAC;IAACZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK,CAAC;EAClDU,QAAQ,EAAC;IAACb,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK;AACxD,CAAC,EAAC;EACEW,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAArC,OAAA,GACjCiC,IAAI"}},"mtime":1698004942578},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_udemy', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      /**\n       * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n       * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n       * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n       * \n       * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n       * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n       */\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_udemy');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(\"Debbug - token.js: \", error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbInRva2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZW5jb2RlOiBhc3luYyhfaWQsIHJvbCwgZW1haWwpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7X2lkOiBfaWQsIHJvbDpyb2wsIGVtYWlsOmVtYWlsfSwgJ2Vjb21tZXJjZV91ZGVteScsIHtleHBpcmVzSW46ICcxZCd9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgZGVjb2RlOiBhc3luYyh0b2tlbikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPQlRFTkVSIEVMIF9pZCBERUwgUEFZTE9BRCBWRVJJRklDQURPLlxuICAgICAgICAgICAgICogTFVFR08gU0UgQlVTQ0EgRVNBIENPTEVDQ0lPTiBFTiBFTCBNT0RFTFMgVVNFUlMgWSBERVNQVUVTIERFIFZFUklGSUNBIFxuICAgICAgICAgICAgICogUVVFIFNJIEVTVMOBIEVOIFVOIEVTVEFETyBBQ1RJVk8uXG4gICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAqIFkgU0kgRUwgVVNVQVJJTyBTSSBFWElTVEUsIFBVRVMgU0UgUkVUT1JOQSBFU0UgVVNVQVJJTy5cbiAgICAgICAgICAgICAqIEVOIENBU08gREUgUVVFIE5PIEVYSVNUQSwgU0UgUkVUT1JNQSBGQUxTRS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3Qge19pZH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCAnZWNvbW1lcmNlX3VkZW15Jyk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiBfaWQsIHN0YXRlOiAxfSk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEZWJidWcgLSB0b2tlbi5qczogXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVoQjtFQUNYRyxNQUFNLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssS0FBSztJQUM5QixNQUFNQyxLQUFLLEdBQUdDLHFCQUFHLENBQUNDLElBQUksQ0FBQztNQUFDTCxHQUFHLEVBQUVBLEdBQUc7TUFBRUMsR0FBRyxFQUFDQSxHQUFHO01BQUVDLEtBQUssRUFBQ0E7SUFBSyxDQUFDLEVBQUUsaUJBQWlCLEVBQUU7TUFBQ0ksU0FBUyxFQUFFO0lBQUksQ0FBQyxDQUFDO0lBQzlGLE9BQU9ILEtBQUs7RUFDaEIsQ0FBQztFQUNESSxNQUFNLEVBQUUsTUFBTUosS0FBSyxJQUFLO0lBQ3BCLElBQUk7TUFDQTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO01BQ1ksTUFBTTtRQUFDSDtNQUFHLENBQUMsR0FBRyxNQUFNSSxxQkFBRyxDQUFDSSxNQUFNLENBQUNMLEtBQUssRUFBRSxpQkFBaUIsQ0FBQztNQUN4RCxNQUFNTSxJQUFJLEdBQUdDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ1osR0FBRyxFQUFFQSxHQUFHO1FBQUVhLEtBQUssRUFBRTtNQUFDLENBQUMsQ0FBQztNQUN0RCxJQUFJSixJQUFJLEVBQUU7UUFDTixPQUFPQSxJQUFJO01BQ2Y7TUFDQSxPQUFPLEtBQUs7SUFDaEIsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRUYsS0FBSyxDQUFDO01BQ3pDLE9BQU8sS0FBSztJQUNoQjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\nimport models from '../models';\n\nexport default {\n    encode: async(_id, rol, email) => {\n        const token = jwt.sign({_id: _id, rol:rol, email:email}, 'ecommerce_udemy', {expiresIn: '1d'});\n        return token;\n    },\n    decode: async(token) => {\n        try {\n            /**\n             * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n             * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n             * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n             * \n             * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n             * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n             */\n            const {_id} = await jwt.verify(token, 'ecommerce_udemy');\n            const user = models.User.findOne({_id: _id, state: 1});\n            if (user) {\n                return user;\n            }\n            return false;\n        } catch (error) {\n            console.log(\"Debbug - token.js: \", error);\n            return false;\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACXG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAK;IAC9B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAAEA,GAAG;MAAEC,GAAG,EAACA,GAAG;MAAEC,KAAK,EAACA;IAAK,CAAC,EAAE,iBAAiB,EAAE;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IAC9F,OAAOH,KAAK;EAChB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;MACY,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,iBAAiB,CAAC;MACxD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAAEa,KAAK,EAAE;MAAC,CAAC,CAAC;MACtD,IAAIJ,IAAI,EAAE;QACN,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEF,KAAK,CAAC;MACzC,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC"}},"mtime":1698006494342},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBVc2VyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBMEIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVYO0VBQ1hHLElBQUksRUFBSkE7QUFDSixDQUFDIn0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","obj","__esModule","default","_default","exports","User"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/","sources":["index.js"],"sourcesContent":["import User from \"./User\";\n\nexport default {\n    User\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEX;EACXG,IAAI,EAAJA;AACJ,CAAC"}},"mtime":1698004775421},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es des activo.\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwic3RhdGUiLCJOdW1iZXIiLCJwaG9uZSIsImJpcnRoZGF5IiwidGltZXN0YW1wcyIsIlVzZXIiLCJtb29uZ29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb29uZ29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICByb2w6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjMwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBuYW1lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIHN1cm5hbWU6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGVtYWlsOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWUsIHVuaXF1ZTp0cnVlfSxcbiAgICBwYXNzd29yZDp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBhdmF0YXI6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHN0YXRlOnt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6MX0sIC8vIDEgZXMgYWN0aXZvIHkgMiBlcyBkZXMgYWN0aXZvLlxuICAgIHBob25lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGJpcnRoZGF5Ont0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxufSx7XG4gICAgdGltZXN0YW1wczogdHJ1ZVxufSk7XG5cbmNvbnN0IFVzZXIgPSBtb29uZ29zZS5tb2RlbChcInVzZXJcIiwgVXNlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixD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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","required","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","moongose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/","sources":["User.js"],"sourcesContent":["import moongose, {Schema} from \"mongoose\";\n\nconst UserSchema = new Schema({\n    rol:{type: String, maxlength:30, required:true},\n    name:{type: String, maxlength:250, required:true},\n    surname:{type: String, maxlength:250, required:false},\n    email:{type: String, maxlength:250, required:true, unique:true},\n    password:{type: String, maxlength:250, required:true},\n    avatar:{type: String, maxlength:250, required:false},\n    state:{type: Number, default:1}, // 1 es activo y 2 es des activo.\n    phone:{type: String, maxlength:20, required:false},\n    birthday:{type: String, maxlength:20, required:false},\n},{\n    timestamps: true\n});\n\nconst User = moongose.model(\"user\", UserSchema);\nexport default User;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMY,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC/CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACjDE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACrDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC,IAAI;IAAEI,MAAM,EAAC;EAAI,CAAC;EAC/DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACpDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAAE7B,OAAO,EAAC;EAAC,CAAC;EAAE;EACjC8B,KAAK,EAAC;IAACZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK,CAAC;EAClDU,QAAQ,EAAC;IAACb,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK;AACxD,CAAC,EAAC;EACEW,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAArC,OAAA,GACjCiC,IAAI"}},"mtime":1698004942578},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_udemy', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      /**\n       * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n       * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n       * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n       * \n       * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n       * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n       */\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_udemy');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(\"Debbug - token.js: \", error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbInRva2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZW5jb2RlOiBhc3luYyhfaWQsIHJvbCwgZW1haWwpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7X2lkOiBfaWQsIHJvbDpyb2wsIGVtYWlsOmVtYWlsfSwgJ2Vjb21tZXJjZV91ZGVteScsIHtleHBpcmVzSW46ICcxZCd9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgZGVjb2RlOiBhc3luYyh0b2tlbikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPQlRFTkVSIEVMIF9pZCBERUwgUEFZTE9BRCBWRVJJRklDQURPLlxuICAgICAgICAgICAgICogTFVFR08gU0UgQlVTQ0EgRVNBIENPTEVDQ0lPTiBFTiBFTCBNT0RFTFMgVVNFUlMgWSBERVNQVUVTIERFIFZFUklGSUNBIFxuICAgICAgICAgICAgICogUVVFIFNJIEVTVMOBIEVOIFVOIEVTVEFETyBBQ1RJVk8uXG4gICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAqIFkgU0kgRUwgVVNVQVJJTyBTSSBFWElTVEUsIFBVRVMgU0UgUkVUT1JOQSBFU0UgVVNVQVJJTy5cbiAgICAgICAgICAgICAqIEVOIENBU08gREUgUVVFIE5PIEVYSVNUQSwgU0UgUkVUT1JNQSBGQUxTRS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3Qge19pZH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCAnZWNvbW1lcmNlX3VkZW15Jyk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiBfaWQsIHN0YXRlOiAxfSk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEZWJidWcgLSB0b2tlbi5qczogXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVoQjtFQUNYRyxNQUFNLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssS0FBSztJQUM5QixNQUFNQyxLQUFLLEdBQUdDLHFCQUFHLENBQUNDLElBQUksQ0FBQztNQUFDTCxHQUFHLEVBQUVBLEdBQUc7TUFBRUMsR0FBRyxFQUFDQSxHQUFHO01BQUVDLEtBQUssRUFBQ0E7SUFBSyxDQUFDLEVBQUUsaUJBQWlCLEVBQUU7TUFBQ0ksU0FBUyxFQUFFO0lBQUksQ0FBQyxDQUFDO0lBQzlGLE9BQU9ILEtBQUs7RUFDaEIsQ0FBQztFQUNESSxNQUFNLEVBQUUsTUFBTUosS0FBSyxJQUFLO0lBQ3BCLElBQUk7TUFDQTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO01BQ1ksTUFBTTtRQUFDSDtNQUFHLENBQUMsR0FBRyxNQUFNSSxxQkFBRyxDQUFDSSxNQUFNLENBQUNMLEtBQUssRUFBRSxpQkFBaUIsQ0FBQztNQUN4RCxNQUFNTSxJQUFJLEdBQUdDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ1osR0FBRyxFQUFFQSxHQUFHO1FBQUVhLEtBQUssRUFBRTtNQUFDLENBQUMsQ0FBQztNQUN0RCxJQUFJSixJQUFJLEVBQUU7UUFDTixPQUFPQSxJQUFJO01BQ2Y7TUFDQSxPQUFPLEtBQUs7SUFDaEIsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRUYsS0FBSyxDQUFDO01BQ3pDLE9BQU8sS0FBSztJQUNoQjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\nimport models from '../models';\n\nexport default {\n    encode: async(_id, rol, email) => {\n        const token = jwt.sign({_id: _id, rol:rol, email:email}, 'ecommerce_udemy', {expiresIn: '1d'});\n        return token;\n    },\n    decode: async(token) => {\n        try {\n            /**\n             * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n             * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n             * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n             * \n             * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n             * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n             */\n            const {_id} = await jwt.verify(token, 'ecommerce_udemy');\n            const user = models.User.findOne({_id: _id, state: 1});\n            if (user) {\n                return user;\n            }\n            return false;\n        } catch (error) {\n            console.log(\"Debbug - token.js: \", error);\n            return false;\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACXG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAK;IAC9B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAAEA,GAAG;MAAEC,GAAG,EAACA,GAAG;MAAEC,KAAK,EAACA;IAAK,CAAC,EAAE,iBAAiB,EAAE;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IAC9F,OAAOH,KAAK;EAChB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;MACY,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,iBAAiB,CAAC;MACxD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAAEa,KAAK,EAAE;MAAC,CAAC,CAAC;MACtD,IAAIJ,IAAI,EAAE;QACN,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEF,KAAK,CAAC;MACzC,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC"}},"mtime":1698006494342},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwidmVyaWZ5RWNvbW1lcmNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlcnMiLCJ0b2tlbiIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJkZWNvZGUiLCJyb2wiLCJ2ZXJpZnlBZG1pbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJjbGllbnRlXCIgfHwgcmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIikge1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gRVNUw4EgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFTCBUT0tFTiBOTyBFUyBWQUxJRE8nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdmVyaWZ5QWRtaW46IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKSB7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBFU1TDgSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEEsIFBPUlFVRSBFUkVTIFVOIENMSUVOVCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgVE9LRU4gTk8gRVMgVkFMSURPJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFdkI7RUFDWEcsZUFBZSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDdEMsSUFBSSxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFFO01BQ3BCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFJSSxRQUFRLEVBQUU7TUFDVixJQUFJQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxTQUFTLElBQUlGLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBRTtRQUN0RFIsSUFBSSxDQUFDLENBQUM7TUFDVixDQUFDLE1BQU07UUFDSEQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFFO1FBQ2IsQ0FBQyxDQUFDO01BQ047SUFDSixDQUFDLE1BQU07TUFDSE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RJLFdBQVcsRUFBRSxNQUFBQSxDQUFNWCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0lBQ2xDLElBQUksQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBRTtNQUNwQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBSUksUUFBUSxFQUFFO01BQ1YsSUFBSUEsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFFO1FBQ3pCUixJQUFJLENBQUMsQ0FBQztNQUNWLENBQUMsTUFBTTtRQUNIRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsTUFBTTtNQUNITixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/middlewares/","sources":["auth.js"],"sourcesContent":["import token from '../services/token';\n\nexport default {\n    verifyEcommerce: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"cliente\" || response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n    verifyAdmin: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEvB;EACXG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACtC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACtDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IAClC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACzBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC"}},"mtime":1698091495014},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwidmVyaWZ5RWNvbW1lcmNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlcnMiLCJ0b2tlbiIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJkZWNvZGUiLCJyb2wiLCJ2ZXJpZnlBZG1pbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJjbGllbnRlXCIgfHwgcmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIikge1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gRVNUw4EgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFTCBUT0tFTiBOTyBFUyBWQUxJRE8nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdmVyaWZ5QWRtaW46IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKSB7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBFU1TDgSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEEsIFBPUlFVRSBFUkVTIFVOIENMSUVOVCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgVE9LRU4gTk8gRVMgVkFMSURPJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFdkI7RUFDWEcsZUFBZSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDdEMsSUFBSSxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFFO01BQ3BCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFJSSxRQUFRLEVBQUU7TUFDVixJQUFJQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxTQUFTLElBQUlGLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBRTtRQUN0RFIsSUFBSSxDQUFDLENBQUM7TUFDVixDQUFDLE1BQU07UUFDSEQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFFO1FBQ2IsQ0FBQyxDQUFDO01BQ047SUFDSixDQUFDLE1BQU07TUFDSE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RJLFdBQVcsRUFBRSxNQUFBQSxDQUFNWCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0lBQ2xDLElBQUksQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBRTtNQUNwQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBSUksUUFBUSxFQUFFO01BQ1YsSUFBSUEsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFFO1FBQ3pCUixJQUFJLENBQUMsQ0FBQztNQUNWLENBQUMsTUFBTTtRQUNIRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsTUFBTTtNQUNITixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/middlewares/","sources":["auth.js"],"sourcesContent":["import token from '../services/token';\n\nexport default {\n    verifyEcommerce: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"cliente\" || response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n    verifyAdmin: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEvB;EACXG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACtC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACtDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IAClC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACzBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC"}},"mtime":1698091495014}}