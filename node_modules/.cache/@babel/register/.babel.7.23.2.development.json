{"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// CONEXION A LA BASE DE DATOS.\n_mongoose.default.Promise = global.Promise;\nconst dburl = \"mongodb://localhost:27017/ecommerce_udemy\";\n_mongoose.default.connect(dburl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(mongoose => console.log(\"CONECTADO A LA DB EN EL PUERTO 27017\")).catch(err => console.log(err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extend: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log('EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vbmdvb3NlIiwiUHJvbWlzZSIsImdsb2JhbCIsImRidXJsIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kIiwic3RhdGljIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJyb3V0ZXIiLCJzZXQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImxpc3RlbiIsImdldCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgcm91dGVyIGZyb20gXCIuL3JvdXRlclwiO1xuXG4vLyBDT05FWElPTiBBIExBIEJBU0UgREUgREFUT1MuXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG5jb25zdCBkYnVybCA9IFwibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9lY29tbWVyY2VfdWRlbXlcIjtcbm1vbmdvb3NlLmNvbm5lY3QgKFxuICAgIGRidXJsLCB7XG4gICAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlXG4gICAgfVxuKS50aGVuKG1vbmdvb3NlID0+IGNvbnNvbGUubG9nKFwiQ09ORUNUQURPIEEgTEEgREIgRU4gRUwgUFVFUlRPIDI3MDE3XCIpKVxuLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShjb3JzKCkpO1xuXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHtleHRlbmQ6IHRydWV9KSk7XG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsJ3B1YmxpYycpKSk7XG5hcHAudXNlKCcvYXBpLycsIHJvdXRlcik7XG5cbmFwcC5zZXQoJ3BvcnQnLCBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDApO1xuYXBwLmxpc3RlbihhcHAuZ2V0KCdwb3J0JyksICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnRUwgU0VSVklET1IgU0UgRUpFQ1VUTyBQRVJGRUNUQU1FTlRFIEVOIEVMIFBVRVJUTyAzMDAwJyk7XG59KSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFNLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFOUI7QUFDQUcsaUJBQVEsQ0FBQ0MsT0FBTyxHQUFHQyxNQUFNLENBQUNELE9BQU87QUFDakMsTUFBTUUsS0FBSyxHQUFHLDJDQUEyQztBQUN6REgsaUJBQVEsQ0FBQ0ksT0FBTyxDQUNaRCxLQUFLLEVBQUU7RUFDSEUsZUFBZSxFQUFFLElBQUk7RUFDckJDLGtCQUFrQixFQUFFO0FBQ3hCLENBQ0osQ0FBQyxDQUFDQyxJQUFJLENBQUNQLFFBQVEsSUFBSVEsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0NBQXNDLENBQUMsQ0FBQyxDQUN0RUMsS0FBSyxDQUFDQyxHQUFHLElBQUlILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQztBQUUvQixNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEVBQUMsQ0FBQyxDQUFDO0FBRWZILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCSixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0ksVUFBVSxDQUFDO0VBQUNDLE1BQU0sRUFBRTtBQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzNDTixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ00sTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdERWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBRVMsZUFBTSxDQUFDO0FBRXhCWCxHQUFHLENBQUNZLEdBQUcsQ0FBQyxNQUFNLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJLElBQUksSUFBSSxDQUFDO0FBQ3pDZixHQUFHLENBQUNnQixNQUFNLENBQUNoQixHQUFHLENBQUNpQixHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTTtFQUM5QnJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdEQUF3RCxDQUFDO0FBQ3pFLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","obj","__esModule","default","mongoose","Promise","global","dburl","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extend","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/","sources":["index.js"],"sourcesContent":["import express from \"express\";\nimport cors from \"cors\";\nimport path from \"path\";\nimport mongoose from \"mongoose\";\nimport router from \"./router\";\n\n// CONEXION A LA BASE DE DATOS.\nmongoose.Promise = global.Promise;\nconst dburl = \"mongodb://localhost:27017/ecommerce_udemy\";\nmongoose.connect (\n    dburl, {\n        useNewUrlParser: true,\n        useUnifiedTopology: true\n    }\n).then(mongoose => console.log(\"CONECTADO A LA DB EN EL PUERTO 27017\"))\n.catch(err => console.log(err));\n\nconst app = express();\napp.use(cors());\n\napp.use(express.json());\napp.use(express.urlencoded({extend: true}));\napp.use(express.static(path.join(__dirname,'public')));\napp.use('/api/', router);\n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n    console.log('EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000');\n})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9B;AACAG,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjC,MAAME,KAAK,GAAG,2CAA2C;AACzDH,iBAAQ,CAACI,OAAO,CACZD,KAAK,EAAE;EACHE,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AACxB,CACJ,CAAC,CAACC,IAAI,CAACP,QAAQ,IAAIQ,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC,CAAC,CACtEC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;AAE/B,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AAEfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAACC,MAAM,EAAE;AAAI,CAAC,CAAC,CAAC;AAC3CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC;AACtDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAAES,eAAM,CAAC;AAExBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACzCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAC9BrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACzE,CAAC,CAAC"}},"mtime":1698089710411},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use(\"/users\", _User.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwidXNlIiwiVXNlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIjtcbmltcG9ydCBVc2VyIGZyb20gXCIuL1VzZXJcIjtcblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xucm91dGVyLnVzZShcIi91c2Vyc1wiLCBVc2VyKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUEwQixTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUUxQixNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBTixPQUFBLEdBRVpDLE1BQU0ifQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","obj","__esModule","default","router","routerx","use","User","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\";\nimport User from \"./User\";\n\nconst router = routerx();\nrouter.use(\"/users\", User);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE1B,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GAEZC,MAAM"}},"mtime":1698089569619},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\n//const router = routerx();\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", _UserController.default.register);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJyZWdpc3Rlcl9hZG1pbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiBpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlclwiO1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCc7XG5cbi8vY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBodHRwOi8vbG9jYWxob3N0Oi8zMDAwL2FwaS91c2VyL3JlZ2lzdGVyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9hZG1pblwiLCBhdXRoLnZlcmlmeUFkbWluLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCB1c2VyQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsIGF1dGgudmVyaWZ5QWRtaW4sIHVzZXJDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW4pO1xucm91dGVyLnBvc3QoXCIvbG9naW5fYWRtaW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW5fYWRtaW4pO1xuXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLCB1c2VyQ29udHJvbGxlci5yZW1vdmUpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQyxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUQsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRnZDOztBQUlBO0FBQ0EsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7QUFDQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDakRKLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGlCQUFpQixFQUFFRyxhQUFJLENBQUNDLFdBQVcsRUFBRUgsdUJBQWMsQ0FBQ0ksY0FBYyxDQUFDO0FBQy9FUCxNQUFNLENBQUNRLEdBQUcsQ0FBQyxTQUFTLEVBQUVMLHVCQUFjLENBQUNNLE1BQU0sQ0FBQztBQUM1Q1QsTUFBTSxDQUFDVSxHQUFHLENBQUMsT0FBTyxFQUFFTCxhQUFJLENBQUNDLFdBQVcsRUFBRUgsdUJBQWMsQ0FBQ1EsSUFBSSxDQUFDO0FBQzFEWCxNQUFNLENBQUNFLElBQUksQ0FBQyxRQUFRLEVBQUVDLHVCQUFjLENBQUNTLEtBQUssQ0FBQztBQUMzQ1osTUFBTSxDQUFDRSxJQUFJLENBQUMsY0FBYyxFQUFFQyx1QkFBYyxDQUFDVSxXQUFXLENBQUM7QUFFdkRiLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDLFNBQVMsRUFBRVgsdUJBQWMsQ0FBQ1ksTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFsQixPQUFBLEdBRWpDQyxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","userController","register","auth","verifyAdmin","register_admin","put","update","get","list","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/","sources":["User.js"],"sourcesContent":[" import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport userController from \"../controllers/UserController\";\nimport auth from '../middlewares/auth';\n\n//const router = routerx();\nconst router = routerx();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", userController.register);\nrouter.post(\"/register_admin\", auth.verifyAdmin, userController.register_admin);\nrouter.put(\"/update\", userController.update);\nrouter.get(\"/list\", auth.verifyAdmin, userController.list);\nrouter.post(\"/login\", userController.login);\nrouter.post(\"/login_admin\", userController.login_admin);\n\nrouter.delete(\"/delete\", userController.remove);\n\nexport default router;"],"mappings":";;;;;;AAAC,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAED,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAFvC;;AAIA;AACA,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;AACAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAAEG,aAAI,CAACC,WAAW,EAAEH,uBAAc,CAACI,cAAc,CAAC;AAC/EP,MAAM,CAACQ,GAAG,CAAC,SAAS,EAAEL,uBAAc,CAACM,MAAM,CAAC;AAC5CT,MAAM,CAACU,GAAG,CAAC,OAAO,EAAEL,aAAI,CAACC,WAAW,EAAEH,uBAAc,CAACQ,IAAI,CAAC;AAC1DX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACS,KAAK,CAAC;AAC3CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACU,WAAW,CAAC;AAEvDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAAEX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAEjCC,MAAM"}},"mtime":1698616383931},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register_admin: async (req, res) => {\n    try {\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"El usuario que intentas registrar ya exsite.\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register_admin - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": RegExp(search, \"i\")\n        }, {\n          \"surname\": RegExp(search, \"i\")\n        }, {\n          \"email\": RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYmNyeXB0anMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3Rlcl9hZG1pbiIsInJlcSIsInJlcyIsInVzZXJWIiwibW9kZWxzIiwiVXNlciIsImZpbmRPbmUiLCJlbWFpbCIsImJvZHkiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInJvbCIsInBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsInVzZXIiLCJjcmVhdGUiLCJqc29uIiwicmVzb3VyY2VzIiwidXNlcl9saXN0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXIiLCJsb2dpbiIsInN0YXRlIiwiY29tcGFyZSIsInRva2VuVCIsInRva2VuIiwiZW5jb2RlIiwiX2lkIiwiVVNFUl9GUk9OVEVEIiwibmFtZSIsInN1cm5hbWUiLCJhdmF0YXIiLCJsb2dpbl9hZG1pbiIsInVwZGF0ZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiVXNlclQiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJVc2VycyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlcnMiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHRva2VuIGZyb20gXCIuLi9zZXJ2aWNlcy90b2tlblwiO1xuaW1wb3J0IHJlc291cmNlcyBmcm9tIFwiLi4vcmVzb3VyY2VzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZWdpc3Rlcl9hZG1pbjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJWID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsfSk7XG4gICAgICAgICAgICBpZiAodXNlclYpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRWwgdXN1YXJpbyBxdWUgaW50ZW50YXMgcmVnaXN0cmFyIHlhIGV4c2l0ZS5cIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXEuYm9keS5yb2wgPSBcImFkbWluXCI7XG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICBsZXQgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2VzLlVzZXIudXNlcl9saXN0KHVzZXIpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgcmVnaXN0ZXJfYWRtaW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXIpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciByZWdpc3RlciAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsb2dpbjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWwsIHN0YXRlOjF9KTtcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgLy8gU0kgRVNUw4EgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BXG4gICAgICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCwgdXNlci5yb2wsIHVzZXIuZW1haWwpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW5ULFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVTRVJfRlJPTlRFRDpVU0VSX0ZST05URURcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbG9naW5fYWRtaW46IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLCBzdGF0ZToxLCByb2w6XCJhZG1pblwifSk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIC8vIFNJIEVTVMOBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wYXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsIHVzZXIucm9sLCB1c2VyLmVtYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2VuVCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sOiB1c2VyLnJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVEXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxLmJvZHkucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6cmVxLmJvZHkuX2lkfSwgcmVxLmJvZHkpO1xuICAgICAgICAgICAgbGV0IFVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdChVc2VyVCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGlzdDogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xuICAgICAgICAgICAgbGV0IFVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XG4gICAgICAgICAgICAgICAgJG9yOltcbiAgICAgICAgICAgICAgICAgICAge1wibmFtZVwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgICAgICB7XCJzdXJuYW1lXCI6IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImVtYWlsXCI6IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XG5cbiAgICAgICAgICAgIFVzZXJzID0gVXNlcnMubWFwKCh1c2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgdXNlcnM6IFVzZXJzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOw5MgQ09SUkVDVEFNRU5URVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFxQyxTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRXRCO0VBQ1hHLGNBQWMsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUMvQixJQUFJO01BQ0EsTUFBTUMsS0FBSyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixHQUFHLENBQUNPLElBQUksQ0FBQ0Q7TUFBSyxDQUFDLENBQUM7TUFDaEUsSUFBSUosS0FBSyxFQUFFO1FBQ1BELEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO01BRUFWLEdBQUcsQ0FBQ08sSUFBSSxDQUFDSSxHQUFHLEdBQUcs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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_bcryptjs","_token","_resources","obj","__esModule","default","_default","exports","register_admin","req","res","userV","models","User","findOne","email","body","status","send","message","rol","password","bcrypt","hash","user","create","json","resources","user_list","error","console","log","register","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";\n\nexport default {\n    register_admin: async(req, res) => {\n        try {\n            const userV = await models.User.findOne({email: req.body.email});\n            if (userV) {\n                res.status(500).send({\n                    message: \"El usuario que intentas registrar ya exsite.\"\n                });\n            }\n\n            req.body.rol = \"admin\";\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            let user = await models.User.create(req.body);\n            res.status(200).json({\n                user: resources.User.user_list(user)\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register_admin - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    register: async(req, res) => {\n        try {\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            const user = await models.User.create(req.body);\n            res.status(200).json(user);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    login: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    login_admin: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1, rol:\"admin\"});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar,\n                            rol: user.rol,\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n\n    update: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.avatar.path;\n                var name = img_path.split('\\\\');\n                var avatar_name = name[2];\n                console.log(avatar_name);\n            }\n            if (req.body.password) {\n                req.body.password = await bcrypt.hash(req.body.password, 10);\n            }\n\n            await models.User.findByIdAndUpdate({_id:req.body._id}, req.body);\n            let UserT = await models.User.findOne({_id:req.body._id});\n\n            res.status(200).json({\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n                user: resources.User.user_list(UserT),\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            let Users = await models.User.find({\n                $or:[\n                    {\"name\": RegExp(search, \"i\")},\n                    {\"surname\": RegExp(search, \"i\")},\n                    {\"email\": RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            Users = Users.map((user) => {\n                return resources.User.user_list(user);\n            });\n\n            res.status(200).json({\n                users: Users\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            const User = await models.User.findByIdAndDelete({_id: req.query._id});\n            res.status(200).json({\n                message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":"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"}},"mtime":1698616383923},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use(\"/users\", _User.default);\nrouter.use(\"/categories\", _Categorie.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInVzZSIsIlVzZXIiLCJDYXRlZ29yaWUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRvcy9EZXNhcnJvbGxvL3d3dy9FY29tbWVyY2UtTUVBTi9hcGlfZWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCI7XG5pbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCI7XG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gXCIuL0NhdGVnb3JpZVwiO1xuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5yb3V0ZXIudXNlKFwiL3VzZXJzXCIsIFVzZXIpO1xucm91dGVyLnVzZShcIi9jYXRlZ29yaWVzXCIsIENhdGVnb3JpZSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBb0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFcEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4QkQsTUFBTSxDQUFDRSxHQUFHLENBQUMsUUFBUSxFQUFFQyxhQUFJLENBQUM7QUFDMUJILE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGFBQWEsRUFBRUUsa0JBQVMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBUCxPQUFBLEdBRXRCQyxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","obj","__esModule","default","router","routerx","use","User","Categorie","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\";\nimport User from \"./User\";\nimport Categorie from \"./Categorie\";\n\nconst router = routerx();\nrouter.use(\"/users\", User);\nrouter.use(\"/categories\", Categorie);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEpC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAP,OAAA,GAEtBC,MAAM"}},"mtime":1698617510847},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\n//const router = routerx();\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", _UserController.default.register);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJyZWdpc3Rlcl9hZG1pbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiBpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlclwiO1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCc7XG5cbi8vY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBodHRwOi8vbG9jYWxob3N0Oi8zMDAwL2FwaS91c2VyL3JlZ2lzdGVyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9hZG1pblwiLCBhdXRoLnZlcmlmeUFkbWluLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCB1c2VyQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsIGF1dGgudmVyaWZ5QWRtaW4sIHVzZXJDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW4pO1xucm91dGVyLnBvc3QoXCIvbG9naW5fYWRtaW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW5fYWRtaW4pO1xuXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLCB1c2VyQ29udHJvbGxlci5yZW1vdmUpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQyxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUQsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRnZDOztBQUlBO0FBQ0EsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7QUFDQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDakRKLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGlCQUFpQixFQUFFRyxhQUFJLENBQUNDLFdBQVcsRUFBRUgsdUJBQWMsQ0FBQ0ksY0FBYyxDQUFDO0FBQy9FUCxNQUFNLENBQUNRLEdBQUcsQ0FBQyxTQUFTLEVBQUVMLHVCQUFjLENBQUNNLE1BQU0sQ0FBQztBQUM1Q1QsTUFBTSxDQUFDVSxHQUFHLENBQUMsT0FBTyxFQUFFTCxhQUFJLENBQUNDLFdBQVcsRUFBRUgsdUJBQWMsQ0FBQ1EsSUFBSSxDQUFDO0FBQzFEWCxNQUFNLENBQUNFLElBQUksQ0FBQyxRQUFRLEVBQUVDLHVCQUFjLENBQUNTLEtBQUssQ0FBQztBQUMzQ1osTUFBTSxDQUFDRSxJQUFJLENBQUMsY0FBYyxFQUFFQyx1QkFBYyxDQUFDVSxXQUFXLENBQUM7QUFFdkRiLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDLFNBQVMsRUFBRVgsdUJBQWMsQ0FBQ1ksTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFsQixPQUFBLEdBRWpDQyxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","userController","register","auth","verifyAdmin","register_admin","put","update","get","list","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/","sources":["User.js"],"sourcesContent":[" import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport userController from \"../controllers/UserController\";\nimport auth from '../middlewares/auth';\n\n//const router = routerx();\nconst router = routerx();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", userController.register);\nrouter.post(\"/register_admin\", auth.verifyAdmin, userController.register_admin);\nrouter.put(\"/update\", userController.update);\nrouter.get(\"/list\", auth.verifyAdmin, userController.list);\nrouter.post(\"/login\", userController.login);\nrouter.post(\"/login_admin\", userController.login_admin);\n\nrouter.delete(\"/delete\", userController.remove);\n\nexport default router;"],"mappings":";;;;;;AAAC,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAED,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAFvC;;AAIA;AACA,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;AACAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAAEG,aAAI,CAACC,WAAW,EAAEH,uBAAc,CAACI,cAAc,CAAC;AAC/EP,MAAM,CAACQ,GAAG,CAAC,SAAS,EAAEL,uBAAc,CAACM,MAAM,CAAC;AAC5CT,MAAM,CAACU,GAAG,CAAC,OAAO,EAAEL,aAAI,CAACC,WAAW,EAAEH,uBAAc,CAACQ,IAAI,CAAC;AAC1DX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACS,KAAK,CAAC;AAC3CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACU,WAAW,CAAC;AAEvDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAAEX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAEjCC,MAAM"}},"mtime":1698616383931},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register_admin: async (req, res) => {\n    try {\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"El usuario que intentas registrar ya exsite.\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register_admin - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": RegExp(search, \"i\")\n        }, {\n          \"surname\": RegExp(search, \"i\")\n        }, {\n          \"email\": RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYmNyeXB0anMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3Rlcl9hZG1pbiIsInJlcSIsInJlcyIsInVzZXJWIiwibW9kZWxzIiwiVXNlciIsImZpbmRPbmUiLCJlbWFpbCIsImJvZHkiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInJvbCIsInBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsInVzZXIiLCJjcmVhdGUiLCJqc29uIiwicmVzb3VyY2VzIiwidXNlcl9saXN0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXIiLCJsb2dpbiIsInN0YXRlIiwiY29tcGFyZSIsInRva2VuVCIsInRva2VuIiwiZW5jb2RlIiwiX2lkIiwiVVNFUl9GUk9OVEVEIiwibmFtZSIsInN1cm5hbWUiLCJhdmF0YXIiLCJsb2dpbl9hZG1pbiIsInVwZGF0ZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiVXNlclQiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJVc2VycyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlcnMiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHRva2VuIGZyb20gXCIuLi9zZXJ2aWNlcy90b2tlblwiO1xuaW1wb3J0IHJlc291cmNlcyBmcm9tIFwiLi4vcmVzb3VyY2VzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZWdpc3Rlcl9hZG1pbjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJWID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsfSk7XG4gICAgICAgICAgICBpZiAodXNlclYpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRWwgdXN1YXJpbyBxdWUgaW50ZW50YXMgcmVnaXN0cmFyIHlhIGV4c2l0ZS5cIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXEuYm9keS5yb2wgPSBcImFkbWluXCI7XG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICBsZXQgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2VzLlVzZXIudXNlcl9saXN0KHVzZXIpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgcmVnaXN0ZXJfYWRtaW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXIpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciByZWdpc3RlciAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsb2dpbjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWwsIHN0YXRlOjF9KTtcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgLy8gU0kgRVNUw4EgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BXG4gICAgICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCwgdXNlci5yb2wsIHVzZXIuZW1haWwpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW5ULFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVTRVJfRlJPTlRFRDpVU0VSX0ZST05URURcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbG9naW5fYWRtaW46IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLCBzdGF0ZToxLCByb2w6XCJhZG1pblwifSk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIC8vIFNJIEVTVMOBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wYXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsIHVzZXIucm9sLCB1c2VyLmVtYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2VuVCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sOiB1c2VyLnJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVEXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxLmJvZHkucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6cmVxLmJvZHkuX2lkfSwgcmVxLmJvZHkpO1xuICAgICAgICAgICAgbGV0IFVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdChVc2VyVCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGlzdDogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xuICAgICAgICAgICAgbGV0IFVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XG4gICAgICAgICAgICAgICAgJG9yOltcbiAgICAgICAgICAgICAgICAgICAge1wibmFtZVwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgICAgICB7XCJzdXJuYW1lXCI6IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImVtYWlsXCI6IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XG5cbiAgICAgICAgICAgIFVzZXJzID0gVXNlcnMubWFwKCh1c2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgdXNlcnM6IFVzZXJzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOw5MgQ09SUkVDVEFNRU5URVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFxQyxTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRXRCO0VBQ1hHLGNBQWMsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUMvQixJQUFJO01BQ0EsTUFBTUMsS0FBSyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixHQUFHLENBQUNPLElBQUksQ0FBQ0Q7TUFBSyxDQUFDLENBQUM7TUFDaEUsSUFBSUosS0FBSyxFQUFFO1FBQ1BELEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO01BRUFWLEdBQUcsQ0FBQ08sSUFBSSxDQUFDSSxHQUFHLEdBQUcs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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_bcryptjs","_token","_resources","obj","__esModule","default","_default","exports","register_admin","req","res","userV","models","User","findOne","email","body","status","send","message","rol","password","bcrypt","hash","user","create","json","resources","user_list","error","console","log","register","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";\n\nexport default {\n    register_admin: async(req, res) => {\n        try {\n            const userV = await models.User.findOne({email: req.body.email});\n            if (userV) {\n                res.status(500).send({\n                    message: \"El usuario que intentas registrar ya exsite.\"\n                });\n            }\n\n            req.body.rol = \"admin\";\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            let user = await models.User.create(req.body);\n            res.status(200).json({\n                user: resources.User.user_list(user)\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register_admin - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    register: async(req, res) => {\n        try {\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            const user = await models.User.create(req.body);\n            res.status(200).json(user);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    login: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    login_admin: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1, rol:\"admin\"});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar,\n                            rol: user.rol,\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n\n    update: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.avatar.path;\n                var name = img_path.split('\\\\');\n                var avatar_name = name[2];\n                console.log(avatar_name);\n            }\n            if (req.body.password) {\n                req.body.password = await bcrypt.hash(req.body.password, 10);\n            }\n\n            await models.User.findByIdAndUpdate({_id:req.body._id}, req.body);\n            let UserT = await models.User.findOne({_id:req.body._id});\n\n            res.status(200).json({\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n                user: resources.User.user_list(UserT),\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            let Users = await models.User.find({\n                $or:[\n                    {\"name\": RegExp(search, \"i\")},\n                    {\"surname\": RegExp(search, \"i\")},\n                    {\"email\": RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            Users = Users.map((user) => {\n                return resources.User.user_list(user);\n            });\n\n            res.status(200).json({\n                users: Users\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            const User = await models.User.findByIdAndDelete({_id: req.query._id});\n            res.status(200).json({\n                message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":"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"}},"mtime":1699825394229},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiVXNlciIsIkNhdGVnb3JpZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSBcIi4vVXNlclwiO1xuaW1wb3J0IENhdGVnb3JpZSBmcm9tIFwiLi9DYXRlZ29yaWVcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIFVzZXIsXG4gICAgQ2F0ZWdvcmllXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBb0MsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVyQjtFQUNYRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQTtBQUNKLENBQUMifQ==","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","obj","__esModule","default","_default","exports","User","Categorie"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/","sources":["index.js"],"sourcesContent":["import User from \"./User\";\nimport Categorie from \"./Categorie\";\n\nexport default {\n    User,\n    Categorie\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAErB;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA;AACJ,CAAC"}},"mtime":1698617535191},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es des activo.\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwic3RhdGUiLCJOdW1iZXIiLCJwaG9uZSIsImJpcnRoZGF5IiwidGltZXN0YW1wcyIsIlVzZXIiLCJtb29uZ29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb29uZ29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICByb2w6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjMwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBuYW1lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIHN1cm5hbWU6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGVtYWlsOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWUsIHVuaXF1ZTp0cnVlfSxcbiAgICBwYXNzd29yZDp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBhdmF0YXI6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHN0YXRlOnt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6MX0sIC8vIDEgZXMgYWN0aXZvIHkgMiBlcyBkZXMgYWN0aXZvLlxuICAgIHBob25lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGJpcnRoZGF5Ont0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxufSx7XG4gICAgdGltZXN0YW1wczogdHJ1ZVxufSk7XG5cbmNvbnN0IFVzZXIgPSBtb29uZ29zZS5tb2RlbChcInVzZXJcIiwgVXNlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixD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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","required","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","moongose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/","sources":["User.js"],"sourcesContent":["import moongose, {Schema} from \"mongoose\";\n\nconst UserSchema = new Schema({\n    rol:{type: String, maxlength:30, required:true},\n    name:{type: String, maxlength:250, required:true},\n    surname:{type: String, maxlength:250, required:false},\n    email:{type: String, maxlength:250, required:true, unique:true},\n    password:{type: String, maxlength:250, required:true},\n    avatar:{type: String, maxlength:250, required:false},\n    state:{type: Number, default:1}, // 1 es activo y 2 es des activo.\n    phone:{type: String, maxlength:20, required:false},\n    birthday:{type: String, maxlength:20, required:false},\n},{\n    timestamps: true\n});\n\nconst User = moongose.model(\"user\", UserSchema);\nexport default User;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMY,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC/CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACjDE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACrDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC,IAAI;IAAEI,MAAM,EAAC;EAAI,CAAC;EAC/DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACpDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAAE7B,OAAO,EAAC;EAAC,CAAC;EAAE;EACjC8B,KAAK,EAAC;IAACZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK,CAAC;EAClDU,QAAQ,EAAC;IAACb,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK;AACxD,CAAC,EAAC;EACEW,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAArC,OAAA,GACjCiC,IAAI"}},"mtime":1698004942578},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_udemy', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      /**\n       * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n       * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n       * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n       * \n       * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n       * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n       */\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_udemy');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(\"Debbug - token.js: \", error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbInRva2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZW5jb2RlOiBhc3luYyhfaWQsIHJvbCwgZW1haWwpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7X2lkOiBfaWQsIHJvbDpyb2wsIGVtYWlsOmVtYWlsfSwgJ2Vjb21tZXJjZV91ZGVteScsIHtleHBpcmVzSW46ICcxZCd9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgZGVjb2RlOiBhc3luYyh0b2tlbikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPQlRFTkVSIEVMIF9pZCBERUwgUEFZTE9BRCBWRVJJRklDQURPLlxuICAgICAgICAgICAgICogTFVFR08gU0UgQlVTQ0EgRVNBIENPTEVDQ0lPTiBFTiBFTCBNT0RFTFMgVVNFUlMgWSBERVNQVUVTIERFIFZFUklGSUNBIFxuICAgICAgICAgICAgICogUVVFIFNJIEVTVMOBIEVOIFVOIEVTVEFETyBBQ1RJVk8uXG4gICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAqIFkgU0kgRUwgVVNVQVJJTyBTSSBFWElTVEUsIFBVRVMgU0UgUkVUT1JOQSBFU0UgVVNVQVJJTy5cbiAgICAgICAgICAgICAqIEVOIENBU08gREUgUVVFIE5PIEVYSVNUQSwgU0UgUkVUT1JNQSBGQUxTRS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3Qge19pZH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCAnZWNvbW1lcmNlX3VkZW15Jyk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiBfaWQsIHN0YXRlOiAxfSk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEZWJidWcgLSB0b2tlbi5qczogXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVoQjtFQUNYRyxNQUFNLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssS0FBSztJQUM5QixNQUFNQyxLQUFLLEdBQUdDLHFCQUFHLENBQUNDLElBQUksQ0FBQztNQUFDTCxHQUFHLEVBQUVBLEdBQUc7TUFBRUMsR0FBRyxFQUFDQSxHQUFHO01BQUVDLEtBQUssRUFBQ0E7SUFBSyxDQUFDLEVBQUUsaUJBQWlCLEVBQUU7TUFBQ0ksU0FBUyxFQUFFO0lBQUksQ0FBQyxDQUFDO0lBQzlGLE9BQU9ILEtBQUs7RUFDaEIsQ0FBQztFQUNESSxNQUFNLEVBQUUsTUFBTUosS0FBSyxJQUFLO0lBQ3BCLElBQUk7TUFDQTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO01BQ1ksTUFBTTtRQUFDSDtNQUFHLENBQUMsR0FBRyxNQUFNSSxxQkFBRyxDQUFDSSxNQUFNLENBQUNMLEtBQUssRUFBRSxpQkFBaUIsQ0FBQztNQUN4RCxNQUFNTSxJQUFJLEdBQUdDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ1osR0FBRyxFQUFFQSxHQUFHO1FBQUVhLEtBQUssRUFBRTtNQUFDLENBQUMsQ0FBQztNQUN0RCxJQUFJSixJQUFJLEVBQUU7UUFDTixPQUFPQSxJQUFJO01BQ2Y7TUFDQSxPQUFPLEtBQUs7SUFDaEIsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRUYsS0FBSyxDQUFDO01BQ3pDLE9BQU8sS0FBSztJQUNoQjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\nimport models from '../models';\n\nexport default {\n    encode: async(_id, rol, email) => {\n        const token = jwt.sign({_id: _id, rol:rol, email:email}, 'ecommerce_udemy', {expiresIn: '1d'});\n        return token;\n    },\n    decode: async(token) => {\n        try {\n            /**\n             * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n             * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n             * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n             * \n             * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n             * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n             */\n            const {_id} = await jwt.verify(token, 'ecommerce_udemy');\n            const user = models.User.findOne({_id: _id, state: 1});\n            if (user) {\n                return user;\n            }\n            return false;\n        } catch (error) {\n            console.log(\"Debbug - token.js: \", error);\n            return false;\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACXG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAK;IAC9B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAAEA,GAAG;MAAEC,GAAG,EAACA,GAAG;MAAEC,KAAK,EAACA;IAAK,CAAC,EAAE,iBAAiB,EAAE;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IAC9F,OAAOH,KAAK;EAChB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;MACY,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,iBAAiB,CAAC;MACxD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAAEa,KAAK,EAAE;MAAC,CAAC,CAAC;MACtD,IAAIJ,IAAI,EAAE;QACN,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEF,KAAK,CAAC;MACzC,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC"}},"mtime":1698006494342},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiVXNlciIsIkNhdGVnb3JpZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSBcIi4vVXNlclwiO1xuaW1wb3J0IENhdGVnb3JpZSBmcm9tIFwiLi9DYXRlZ29yaWVcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIFVzZXIsXG4gICAgQ2F0ZWdvcmllXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBb0MsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVyQjtFQUNYRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQTtBQUNKLENBQUMifQ==","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","obj","__esModule","default","_default","exports","User","Categorie"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/","sources":["index.js"],"sourcesContent":["import User from \"./User\";\nimport Categorie from \"./Categorie\";\n\nexport default {\n    User,\n    Categorie\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAErB;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA;AACJ,CAAC"}},"mtime":1698617535191},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es des activo.\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwic3RhdGUiLCJOdW1iZXIiLCJwaG9uZSIsImJpcnRoZGF5IiwidGltZXN0YW1wcyIsIlVzZXIiLCJtb29uZ29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb29uZ29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICByb2w6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjMwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBuYW1lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIHN1cm5hbWU6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGVtYWlsOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWUsIHVuaXF1ZTp0cnVlfSxcbiAgICBwYXNzd29yZDp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBhdmF0YXI6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHN0YXRlOnt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6MX0sIC8vIDEgZXMgYWN0aXZvIHkgMiBlcyBkZXMgYWN0aXZvLlxuICAgIHBob25lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGJpcnRoZGF5Ont0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxufSx7XG4gICAgdGltZXN0YW1wczogdHJ1ZVxufSk7XG5cbmNvbnN0IFVzZXIgPSBtb29uZ29zZS5tb2RlbChcInVzZXJcIiwgVXNlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixD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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","required","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","moongose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/","sources":["User.js"],"sourcesContent":["import moongose, {Schema} from \"mongoose\";\n\nconst UserSchema = new Schema({\n    rol:{type: String, maxlength:30, required:true},\n    name:{type: String, maxlength:250, required:true},\n    surname:{type: String, maxlength:250, required:false},\n    email:{type: String, maxlength:250, required:true, unique:true},\n    password:{type: String, maxlength:250, required:true},\n    avatar:{type: String, maxlength:250, required:false},\n    state:{type: Number, default:1}, // 1 es activo y 2 es des activo.\n    phone:{type: String, maxlength:20, required:false},\n    birthday:{type: String, maxlength:20, required:false},\n},{\n    timestamps: true\n});\n\nconst User = moongose.model(\"user\", UserSchema);\nexport default User;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMY,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC/CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACjDE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACrDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC,IAAI;IAAEI,MAAM,EAAC;EAAI,CAAC;EAC/DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACpDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAAE7B,OAAO,EAAC;EAAC,CAAC;EAAE;EACjC8B,KAAK,EAAC;IAACZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK,CAAC;EAClDU,QAAQ,EAAC;IAACb,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK;AACxD,CAAC,EAAC;EACEW,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAArC,OAAA,GACjCiC,IAAI"}},"mtime":1698004942578},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_udemy', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      /**\n       * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n       * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n       * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n       * \n       * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n       * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n       */\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_udemy');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(\"Debbug - token.js: \", error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbInRva2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZW5jb2RlOiBhc3luYyhfaWQsIHJvbCwgZW1haWwpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7X2lkOiBfaWQsIHJvbDpyb2wsIGVtYWlsOmVtYWlsfSwgJ2Vjb21tZXJjZV91ZGVteScsIHtleHBpcmVzSW46ICcxZCd9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgZGVjb2RlOiBhc3luYyh0b2tlbikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPQlRFTkVSIEVMIF9pZCBERUwgUEFZTE9BRCBWRVJJRklDQURPLlxuICAgICAgICAgICAgICogTFVFR08gU0UgQlVTQ0EgRVNBIENPTEVDQ0lPTiBFTiBFTCBNT0RFTFMgVVNFUlMgWSBERVNQVUVTIERFIFZFUklGSUNBIFxuICAgICAgICAgICAgICogUVVFIFNJIEVTVMOBIEVOIFVOIEVTVEFETyBBQ1RJVk8uXG4gICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAqIFkgU0kgRUwgVVNVQVJJTyBTSSBFWElTVEUsIFBVRVMgU0UgUkVUT1JOQSBFU0UgVVNVQVJJTy5cbiAgICAgICAgICAgICAqIEVOIENBU08gREUgUVVFIE5PIEVYSVNUQSwgU0UgUkVUT1JNQSBGQUxTRS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3Qge19pZH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCAnZWNvbW1lcmNlX3VkZW15Jyk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiBfaWQsIHN0YXRlOiAxfSk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEZWJidWcgLSB0b2tlbi5qczogXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVoQjtFQUNYRyxNQUFNLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssS0FBSztJQUM5QixNQUFNQyxLQUFLLEdBQUdDLHFCQUFHLENBQUNDLElBQUksQ0FBQztNQUFDTCxHQUFHLEVBQUVBLEdBQUc7TUFBRUMsR0FBRyxFQUFDQSxHQUFHO01BQUVDLEtBQUssRUFBQ0E7SUFBSyxDQUFDLEVBQUUsaUJBQWlCLEVBQUU7TUFBQ0ksU0FBUyxFQUFFO0lBQUksQ0FBQyxDQUFDO0lBQzlGLE9BQU9ILEtBQUs7RUFDaEIsQ0FBQztFQUNESSxNQUFNLEVBQUUsTUFBTUosS0FBSyxJQUFLO0lBQ3BCLElBQUk7TUFDQTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO01BQ1ksTUFBTTtRQUFDSDtNQUFHLENBQUMsR0FBRyxNQUFNSSxxQkFBRyxDQUFDSSxNQUFNLENBQUNMLEtBQUssRUFBRSxpQkFBaUIsQ0FBQztNQUN4RCxNQUFNTSxJQUFJLEdBQUdDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ1osR0FBRyxFQUFFQSxHQUFHO1FBQUVhLEtBQUssRUFBRTtNQUFDLENBQUMsQ0FBQztNQUN0RCxJQUFJSixJQUFJLEVBQUU7UUFDTixPQUFPQSxJQUFJO01BQ2Y7TUFDQSxPQUFPLEtBQUs7SUFDaEIsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRUYsS0FBSyxDQUFDO01BQ3pDLE9BQU8sS0FBSztJQUNoQjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\nimport models from '../models';\n\nexport default {\n    encode: async(_id, rol, email) => {\n        const token = jwt.sign({_id: _id, rol:rol, email:email}, 'ecommerce_udemy', {expiresIn: '1d'});\n        return token;\n    },\n    decode: async(token) => {\n        try {\n            /**\n             * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n             * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n             * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n             * \n             * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n             * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n             */\n            const {_id} = await jwt.verify(token, 'ecommerce_udemy');\n            const user = models.User.findOne({_id: _id, state: 1});\n            if (user) {\n                return user;\n            }\n            return false;\n        } catch (error) {\n            console.log(\"Debbug - token.js: \", error);\n            return false;\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACXG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAK;IAC9B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAAEA,GAAG;MAAEC,GAAG,EAACA,GAAG;MAAEC,KAAK,EAACA;IAAK,CAAC,EAAE,iBAAiB,EAAE;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IAC9F,OAAOH,KAAK;EAChB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;MACY,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,iBAAiB,CAAC;MACxD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAAEa,KAAK,EAAE;MAAC,CAAC,CAAC;MACtD,IAAIJ,IAAI,EAAE;QACN,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEF,KAAK,CAAC;MACzC,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC"}},"mtime":1698006494342},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwidmVyaWZ5RWNvbW1lcmNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlcnMiLCJ0b2tlbiIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJkZWNvZGUiLCJyb2wiLCJ2ZXJpZnlBZG1pbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJjbGllbnRlXCIgfHwgcmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIikge1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gRVNUw4EgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFTCBUT0tFTiBOTyBFUyBWQUxJRE8nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdmVyaWZ5QWRtaW46IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKSB7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBFU1TDgSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEEsIFBPUlFVRSBFUkVTIFVOIENMSUVOVCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgVE9LRU4gTk8gRVMgVkFMSURPJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFdkI7RUFDWEcsZUFBZSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDdEMsSUFBSSxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFFO01BQ3BCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFJSSxRQUFRLEVBQUU7TUFDVixJQUFJQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxTQUFTLElBQUlGLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBRTtRQUN0RFIsSUFBSSxDQUFDLENBQUM7TUFDVixDQUFDLE1BQU07UUFDSEQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFFO1FBQ2IsQ0FBQyxDQUFDO01BQ047SUFDSixDQUFDLE1BQU07TUFDSE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RJLFdBQVcsRUFBRSxNQUFBQSxDQUFNWCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0lBQ2xDLElBQUksQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBRTtNQUNwQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBSUksUUFBUSxFQUFFO01BQ1YsSUFBSUEsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFFO1FBQ3pCUixJQUFJLENBQUMsQ0FBQztNQUNWLENBQUMsTUFBTTtRQUNIRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsTUFBTTtNQUNITixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/middlewares/","sources":["auth.js"],"sourcesContent":["import token from '../services/token';\n\nexport default {\n    verifyEcommerce: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"cliente\" || response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n    verifyAdmin: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEvB;EACXG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACtC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACtDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IAClC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACzBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC"}},"mtime":1698091495014},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwidmVyaWZ5RWNvbW1lcmNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlcnMiLCJ0b2tlbiIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJkZWNvZGUiLCJyb2wiLCJ2ZXJpZnlBZG1pbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJjbGllbnRlXCIgfHwgcmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIikge1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gRVNUw4EgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFTCBUT0tFTiBOTyBFUyBWQUxJRE8nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdmVyaWZ5QWRtaW46IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKSB7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBFU1TDgSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEEsIFBPUlFVRSBFUkVTIFVOIENMSUVOVCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgVE9LRU4gTk8gRVMgVkFMSURPJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFdkI7RUFDWEcsZUFBZSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDdEMsSUFBSSxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFFO01BQ3BCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFJSSxRQUFRLEVBQUU7TUFDVixJQUFJQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxTQUFTLElBQUlGLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBRTtRQUN0RFIsSUFBSSxDQUFDLENBQUM7TUFDVixDQUFDLE1BQU07UUFDSEQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFFO1FBQ2IsQ0FBQyxDQUFDO01BQ047SUFDSixDQUFDLE1BQU07TUFDSE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RJLFdBQVcsRUFBRSxNQUFBQSxDQUFNWCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0lBQ2xDLElBQUksQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBRTtNQUNwQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBSUksUUFBUSxFQUFFO01BQ1YsSUFBSUEsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFFO1FBQ3pCUixJQUFJLENBQUMsQ0FBQztNQUNWLENBQUMsTUFBTTtRQUNIRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsTUFBTTtNQUNITixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/middlewares/","sources":["auth.js"],"sourcesContent":["import token from '../services/token';\n\nexport default {\n    verifyEcommerce: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"cliente\" || response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n    verifyAdmin: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEvB;EACXG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACtC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACtDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IAClC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACzBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC"}},"mtime":1698091495014},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiVXNlciIsIkNhdGVnb3JpZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvcmVzb3VyY2VzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJztcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgVXNlcixcbiAgICBDYXRlZ29yaWUsXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBb0MsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVyQjtFQUNYRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQTtBQUNKLENBQUMifQ==","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","obj","__esModule","default","_default","exports","User","Categorie"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/","sources":["index.js"],"sourcesContent":["import User from './User';\nimport Categorie from './Categorie';\n\nexport default {\n    User,\n    Categorie,\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAErB;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA;AACJ,CAAC"}},"mtime":1698618208018},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsImF2YXRhciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvcmVzb3VyY2VzLyIsInNvdXJjZXMiOlsidXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgdXNlcl9saXN0OiAodXNlcikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFSCxJQUFJLENBQUNHLE9BQU87TUFDckJDLEtBQUssRUFBRUosSUFBSSxDQUFDSSxLQUFLO01BQ2pCQyxNQUFNLEVBQUVMLElBQUksQ0FBQ0s7SUFDakIsQ0FBQztFQUNMO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["user_list","user","_id","name","surname","email","avatar"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/","sources":["user.js"],"sourcesContent":["export default {\n    user_list: (user) => {\n        return {\n            _id: user._id,\n            name: user.name,\n            surname: user.surname,\n            email: user.email,\n            avatar: user.avatar\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IACjB,CAAC;EACL;AACJ,CAAC"}},"mtime":1698616383930},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiVXNlciIsIkNhdGVnb3JpZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvcmVzb3VyY2VzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJztcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgVXNlcixcbiAgICBDYXRlZ29yaWUsXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBb0MsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVyQjtFQUNYRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQTtBQUNKLENBQUMifQ==","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","obj","__esModule","default","_default","exports","User","Categorie"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/","sources":["index.js"],"sourcesContent":["import User from './User';\nimport Categorie from './Categorie';\n\nexport default {\n    User,\n    Categorie,\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAErB;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA;AACJ,CAAC"}},"mtime":1698618208018},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsImF2YXRhciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvcmVzb3VyY2VzLyIsInNvdXJjZXMiOlsidXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgdXNlcl9saXN0OiAodXNlcikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFSCxJQUFJLENBQUNHLE9BQU87TUFDckJDLEtBQUssRUFBRUosSUFBSSxDQUFDSSxLQUFLO01BQ2pCQyxNQUFNLEVBQUVMLElBQUksQ0FBQ0s7SUFDakIsQ0FBQztFQUNMO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["user_list","user","_id","name","surname","email","avatar"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/","sources":["user.js"],"sourcesContent":["export default {\n    user_list: (user) => {\n        return {\n            _id: user._id,\n            name: user.name,\n            surname: user.surname,\n            email: user.email,\n            avatar: user.avatar\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IACjB,CAAC;EACL;AACJ,CAAC"}},"mtime":1698616383930},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJjYXRlZ29yaWVDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIjtcbi8vaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBjYXRlZ29yaWVDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9DYXRlZ29yaWVDb250cm9sbGVyXCI7XG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJztcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gXCJjb25uZWN0LW11bHRpcGFydHlcIjtcblxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6ICcuL3VwbG9hZHMvY2F0ZWdvcmllJ30pO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sIGNhdGVnb3JpZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBjYXRlZ29yaWVDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIiwgYXV0aC52ZXJpZnlBZG1pbiwgY2F0ZWdvcmllQ29udHJvbGxlci5saXN0KTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsIGF1dGgudmVyaWZ5QWRtaW4sIGNhdGVnb3JpZUNvbnRyb2xsZXIucmVtb3ZlKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFDLG9CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTRDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBSDVDOztBQUtBLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBRTtBQUFxQixDQUFDLENBQUM7QUFDekQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBRVEsNEJBQW1CLENBQUNDLFFBQVEsQ0FBQztBQUNoRk4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFFLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBRVEsNEJBQW1CLENBQUNHLE1BQU0sQ0FBQztBQUMzRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFFTixhQUFJLENBQUNDLFdBQVcsRUFBRUMsNEJBQW1CLENBQUNLLElBQUksQ0FBQztBQUMvRFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFFUixhQUFJLENBQUNDLFdBQVcsRUFBRUMsNEJBQW1CLENBQUNPLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBbEIsT0FBQSxHQUV4REksTUFBTSJ9","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categorieController","register","put","update","get","list","delete","remove","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/","sources":["Categorie.js"],"sourcesContent":["import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport categorieController from \"../controllers/CategorieController\";\nimport auth from '../middlewares/auth';\nimport multiparty from \"connect-multiparty\";\n\nvar path = multiparty({uploadDir: './uploads/categorie'});\nconst router = routerx();\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], categorieController.register);\nrouter.put(\"/update\", [auth.verifyAdmin, path], categorieController.update);\nrouter.get(\"/list\", auth.verifyAdmin, categorieController.list);\nrouter.delete(\"/delete\", auth.verifyAdmin, categorieController.remove);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAH5C;;AAKA,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAqB,CAAC,CAAC;AACzD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACC,QAAQ,CAAC;AAChFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAE,CAACJ,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACG,MAAM,CAAC;AAC3ER,MAAM,CAACS,GAAG,CAAC,OAAO,EAAEN,aAAI,CAACC,WAAW,EAAEC,4BAAmB,CAACK,IAAI,CAAC;AAC/DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAAER,aAAI,CAACC,WAAW,EAAEC,4BAAmB,CAACO,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAExDI,MAAM"}},"mtime":1698621035116},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/*import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";*/\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name);\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resources.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resources.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        Categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJjYXRlZ29yaWUiLCJtb2RlbHMiLCJDYXRlZ29yaWUiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIkNhdGVnb3JpZVQiLCJmaW5kT25lIiwicmVzb3VyY2VzIiwiY2F0ZWdvcmllX2xpc3QiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJDYXRlZ29yaWVzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJtYXAiLCJ1c2VyIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRvcy9EZXNhcnJvbGxvL3d3dy9FY29tbWVyY2UtTUVBTi9hcGlfZWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKmltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XG5pbXBvcnQgdG9rZW4gZnJvbSBcIi4uL3NlcnZpY2VzL3Rva2VuXCI7XG5pbXBvcnQgcmVzb3VyY2VzIGZyb20gXCIuLi9yZXNvdXJjZXNcIjsqL1xuXG5pbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCByZXNvdXJjZXMgZnJvbSBcIi4uL3Jlc291cmNlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICBcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyZXEuZmlsZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yaWUgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciByZWdpc3RlciAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocmVxLmZpbGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpO1xuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDpyZXEuYm9keS5faWR9LCByZXEuYm9keSk7XG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllVCA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZE9uZSh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBDQVRFR09SSUEgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllOiByZXNvdXJjZXMuQ2F0ZWdvcmllLmNhdGVnb3JpZV9saXN0KENhdGVnb3JpZVQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpc3Q6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtcbiAgICAgICAgICAgICAgICAkb3I6W1xuICAgICAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xuXG4gICAgICAgICAgICBDYXRlZ29yaWVzID0gQ2F0ZWdvcmllcy5tYXAoKHVzZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdCh1c2VyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgQ2F0ZWdvcmllczogQ2F0ZWdvcmllc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgQ0FURUdPUklBIFNFIEVMSU1JTsOTIENPUlJFQ1RBTUVOVEVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFLQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBcUMsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFOckM7QUFDQTtBQUNBO0FBQ0E7QUFIQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQVFlO0VBRVhHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUN6QixJQUFJO01BQ0EsSUFBSUQsR0FBRyxDQUFDRSxLQUFLLEVBQUU7UUFDWCxJQUFJQyxRQUFRLEdBQUdILEdBQUcsQ0FBQ0UsS0FBSyxDQUFDRSxPQUFPLENBQUNDLElBQUk7UUFDckMsSUFBSUMsSUFBSSxHQUFHSCxRQUFRLENBQUNJLEtBQUssQ0FBQyxHQUFHLENBQUM7UUFDOUIsSUFBSUMsWUFBWSxHQUFHRixJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzFCTixHQUFHLENBQUNTLElBQUksQ0FBQ0MsTUFBTSxHQUFHRixZQUFZO01BQ2xDO01BQ0EsTUFBTUcsU0FBUyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsU0FBUyxDQUFDQyxNQUFNLENBQUNkLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDO01BQ3pEUixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDTCxTQUFTLENBQUM7SUFDbkMsQ0FBQyxDQUFDLE9BQU9NLEtBQUssRUFBRTtNQUNaaEIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUNqQkMsT0FBTyxF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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","obj","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resources","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","remove","findByIdAndDelete"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/","sources":["CategorieController.js"],"sourcesContent":["/*import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";*/\n\nimport models from \"../models\";\nimport resources from \"../resources\";\n\nexport default {\n   \n    register: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.portada.path;\n                var name = img_path.split('/');\n                var portada_name = name[2];\n                req.body.imagen = portada_name;\n            }\n            const categorie = await models.Categorie.create(req.body);\n            res.status(200).json(categorie);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    update: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.portada.path;\n                var name = img_path.split('\\\\');\n                var portada_name = name[2];\n                //console.log(portada_name);\n                req.body.imagen = portada_name;\n            }\n            await models.Categorie.findByIdAndUpdate({_id:req.body._id}, req.body);\n            let CategorieT = await models.Categorie.findOne({_id:req.body._id});\n\n            res.status(200).json({\n                message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n                categorie: resources.Categorie.categorie_list(CategorieT),\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            let Categories = await models.Categorie.find({\n                $or:[\n                    {\"title\": RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            Categories = Categories.map((user) => {\n                return resources.Categorie.categorie_list(user);\n            });\n\n            res.status(200).json({\n                Categories: Categories\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            await models.Categorie.findByIdAndDelete({_id: req.query._id});\n            res.status(200).json({\n                message: \"LA CATEGORIA SE ELIMINÓ CORRECTAMENTE\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":"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"}},"mtime":1698795237112},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = exports.default = Categorie;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNhdGVnb3JpZSIsIm1vb25nb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRvcy9EZXNhcnJvbGxvL3d3dy9FY29tbWVyY2UtTUVBTi9hcGlfZWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9vbmdvc2UsIHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDYXRlZ29yaWVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICB0aXRsZTp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBpbWFnZW46e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXG4gICAgc3RhdGU6e3R5cGU6IE51bWJlciwgbWF4bGVuZ3RoOjIsIGRlZmF1bHQ6MX0sXG59LHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlXG59KTtcblxuY29uc3QgQ2F0ZWdvcmllID0gbW9vbmdvc2UubW9kZWwoXCJjYXRlZ29yaWVcIiwgQ2F0ZWdvcmllU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3JpZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsSUFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBakIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFJLENBQUEsR0FBQVIsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBSSxDQUFBLEtBQUFBLENBQUEsQ0FBQVgsR0FBQSxJQUFBVyxDQUFBLENBQUFDLEdBQUEsSUFBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBSSxDQUFBLElBQUFWLENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFnQixHQUFBLENBQUFuQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUUxQyxNQUFNWSxlQUFlLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUMvQkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xEQyxNQUFNLEVBQUM7SUFBQ0osSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkRFLEtBQUssRUFBQztJQUFDTCxJQUFJLEVBQUVNLE1BQU07SUFBRUosU0FBUyxFQUFDLENBQUM7SUFBRXBCLE9BQU8sRUFBQztFQUFDO0FBQy9DLENBQUMsRUFBQztFQUNFeUIsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLFNBQVMsR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFdBQVcsRUFBRWIsZUFBZSxDQUFDO0FBQUMsSUFBQWMsUUFBQSxHQUFBQyxPQUFBLENBQUE5QixPQUFBLEdBQ2hEMEIsU0FBUyJ9","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categorie","moongose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/","sources":["Categorie.js"],"sourcesContent":["import moongose, {Schema} from \"mongoose\";\n\nconst CategorieSchema = new Schema({\n    title:{type: String, maxlength:250, required:true},\n    imagen:{type: String, maxlength:250, required:true},\n    state:{type: Number, maxlength:2, default:1},\n},{\n    timestamps: true\n});\n\nconst Categorie = moongose.model(\"categorie\", CategorieSchema);\nexport default Categorie;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMY,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAC/BC,KAAK,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDC,MAAM,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnDE,KAAK,EAAC;IAACL,IAAI,EAAEM,MAAM;IAAEJ,SAAS,EAAC,CAAC;IAAEpB,OAAO,EAAC;EAAC;AAC/C,CAAC,EAAC;EACEyB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAAEb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAChD0B,SAAS"}},"mtime":1698617341773},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = exports.default = Categorie;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNhdGVnb3JpZSIsIm1vb25nb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRvcy9EZXNhcnJvbGxvL3d3dy9FY29tbWVyY2UtTUVBTi9hcGlfZWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9vbmdvc2UsIHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDYXRlZ29yaWVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICB0aXRsZTp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBpbWFnZW46e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXG4gICAgc3RhdGU6e3R5cGU6IE51bWJlciwgbWF4bGVuZ3RoOjIsIGRlZmF1bHQ6MX0sXG59LHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlXG59KTtcblxuY29uc3QgQ2F0ZWdvcmllID0gbW9vbmdvc2UubW9kZWwoXCJjYXRlZ29yaWVcIiwgQ2F0ZWdvcmllU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3JpZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsSUFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBakIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFJLENBQUEsR0FBQVIsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBSSxDQUFBLEtBQUFBLENBQUEsQ0FBQVgsR0FBQSxJQUFBVyxDQUFBLENBQUFDLEdBQUEsSUFBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBSSxDQUFBLElBQUFWLENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFnQixHQUFBLENBQUFuQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUUxQyxNQUFNWSxlQUFlLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUMvQkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xEQyxNQUFNLEVBQUM7SUFBQ0osSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkRFLEtBQUssRUFBQztJQUFDTCxJQUFJLEVBQUVNLE1BQU07SUFBRUosU0FBUyxFQUFDLENBQUM7SUFBRXBCLE9BQU8sRUFBQztFQUFDO0FBQy9DLENBQUMsRUFBQztFQUNFeUIsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLFNBQVMsR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFdBQVcsRUFBRWIsZUFBZSxDQUFDO0FBQUMsSUFBQWMsUUFBQSxHQUFBQyxPQUFBLENBQUE5QixPQUFBLEdBQ2hEMEIsU0FBUyJ9","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categorie","moongose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/models/","sources":["Categorie.js"],"sourcesContent":["import moongose, {Schema} from \"mongoose\";\n\nconst CategorieSchema = new Schema({\n    title:{type: String, maxlength:250, required:true},\n    imagen:{type: String, maxlength:250, required:true},\n    state:{type: Number, maxlength:2, default:1},\n},{\n    timestamps: true\n});\n\nconst Categorie = moongose.model(\"categorie\", CategorieSchema);\nexport default Categorie;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMY,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAC/BC,KAAK,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDC,MAAM,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnDE,KAAK,EAAC;IAACL,IAAI,EAAEM,MAAM;IAAEJ,SAAS,EAAC,CAAC;IAAEpB,OAAO,EAAC;EAAC;AAC/C,CAAC,EAAC;EACEyB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAAEb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAChD0B,SAAS"}},"mtime":1698617341773},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJjYXRlZ29yaWVDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50b3MvRGVzYXJyb2xsby93d3cvRWNvbW1lcmNlLU1FQU4vYXBpX2Vjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIjtcbi8vaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBjYXRlZ29yaWVDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9DYXRlZ29yaWVDb250cm9sbGVyXCI7XG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJztcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gXCJjb25uZWN0LW11bHRpcGFydHlcIjtcblxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6ICcuL3VwbG9hZHMvY2F0ZWdvcmllJ30pO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sIGNhdGVnb3JpZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBjYXRlZ29yaWVDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIiwgYXV0aC52ZXJpZnlBZG1pbiwgY2F0ZWdvcmllQ29udHJvbGxlci5saXN0KTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsIGF1dGgudmVyaWZ5QWRtaW4sIGNhdGVnb3JpZUNvbnRyb2xsZXIucmVtb3ZlKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFDLG9CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTRDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBSDVDOztBQUtBLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBRTtBQUFxQixDQUFDLENBQUM7QUFDekQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBRVEsNEJBQW1CLENBQUNDLFFBQVEsQ0FBQztBQUNoRk4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFFLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBRVEsNEJBQW1CLENBQUNHLE1BQU0sQ0FBQztBQUMzRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFFTixhQUFJLENBQUNDLFdBQVcsRUFBRUMsNEJBQW1CLENBQUNLLElBQUksQ0FBQztBQUMvRFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFFUixhQUFJLENBQUNDLFdBQVcsRUFBRUMsNEJBQW1CLENBQUNPLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBbEIsT0FBQSxHQUV4REksTUFBTSJ9","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categorieController","register","put","update","get","list","delete","remove","_default","exports"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/router/","sources":["Categorie.js"],"sourcesContent":["import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport categorieController from \"../controllers/CategorieController\";\nimport auth from '../middlewares/auth';\nimport multiparty from \"connect-multiparty\";\n\nvar path = multiparty({uploadDir: './uploads/categorie'});\nconst router = routerx();\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], categorieController.register);\nrouter.put(\"/update\", [auth.verifyAdmin, path], categorieController.update);\nrouter.get(\"/list\", auth.verifyAdmin, categorieController.list);\nrouter.delete(\"/delete\", auth.verifyAdmin, categorieController.remove);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAH5C;;AAKA,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAqB,CAAC,CAAC;AACzD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACC,QAAQ,CAAC;AAChFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAE,CAACJ,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACG,MAAM,CAAC;AAC3ER,MAAM,CAACS,GAAG,CAAC,OAAO,EAAEN,aAAI,CAACC,WAAW,EAAEC,4BAAmB,CAACK,IAAI,CAAC;AAC/DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAAER,aAAI,CAACC,WAAW,EAAEC,4BAAmB,CAACO,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAExDI,MAAM"}},"mtime":1698621035116},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/*import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";*/\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name);\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resources.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resources.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        Categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJjYXRlZ29yaWUiLCJtb2RlbHMiLCJDYXRlZ29yaWUiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIkNhdGVnb3JpZVQiLCJmaW5kT25lIiwicmVzb3VyY2VzIiwiY2F0ZWdvcmllX2xpc3QiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJDYXRlZ29yaWVzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJtYXAiLCJ1c2VyIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRvcy9EZXNhcnJvbGxvL3d3dy9FY29tbWVyY2UtTUVBTi9hcGlfZWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKmltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XG5pbXBvcnQgdG9rZW4gZnJvbSBcIi4uL3NlcnZpY2VzL3Rva2VuXCI7XG5pbXBvcnQgcmVzb3VyY2VzIGZyb20gXCIuLi9yZXNvdXJjZXNcIjsqL1xuXG5pbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCByZXNvdXJjZXMgZnJvbSBcIi4uL3Jlc291cmNlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICBcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyZXEuZmlsZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yaWUgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciByZWdpc3RlciAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocmVxLmZpbGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpO1xuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDpyZXEuYm9keS5faWR9LCByZXEuYm9keSk7XG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllVCA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZE9uZSh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBDQVRFR09SSUEgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllOiByZXNvdXJjZXMuQ2F0ZWdvcmllLmNhdGVnb3JpZV9saXN0KENhdGVnb3JpZVQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpc3Q6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtcbiAgICAgICAgICAgICAgICAkb3I6W1xuICAgICAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xuXG4gICAgICAgICAgICBDYXRlZ29yaWVzID0gQ2F0ZWdvcmllcy5tYXAoKHVzZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdCh1c2VyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgQ2F0ZWdvcmllczogQ2F0ZWdvcmllc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgQ0FURUdPUklBIFNFIEVMSU1JTsOTIENPUlJFQ1RBTUVOVEVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFLQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBcUMsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFOckM7QUFDQTtBQUNBO0FBQ0E7QUFIQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQVFlO0VBRVhHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUN6QixJQUFJO01BQ0EsSUFBSUQsR0FBRyxDQUFDRSxLQUFLLEVBQUU7UUFDWCxJQUFJQyxRQUFRLEdBQUdILEdBQUcsQ0FBQ0UsS0FBSyxDQUFDRSxPQUFPLENBQUNDLElBQUk7UUFDckMsSUFBSUMsSUFBSSxHQUFHSCxRQUFRLENBQUNJLEtBQUssQ0FBQyxHQUFHLENBQUM7UUFDOUIsSUFBSUMsWUFBWSxHQUFHRixJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzFCTixHQUFHLENBQUNTLElBQUksQ0FBQ0MsTUFBTSxHQUFHRixZQUFZO01BQ2xDO01BQ0EsTUFBTUcsU0FBUyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsU0FBUyxDQUFDQyxNQUFNLENBQUNkLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDO01BQ3pEUixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDTCxTQUFTLENBQUM7SUFDbkMsQ0FBQyxDQUFDLE9BQU9NLEtBQUssRUFBRTtNQUNaaEIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUNqQkMsT0FBTyxF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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","obj","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resources","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","remove","findByIdAndDelete"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/controllers/","sources":["CategorieController.js"],"sourcesContent":["/*import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";*/\n\nimport models from \"../models\";\nimport resources from \"../resources\";\n\nexport default {\n   \n    register: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.portada.path;\n                var name = img_path.split('/');\n                var portada_name = name[2];\n                req.body.imagen = portada_name;\n            }\n            const categorie = await models.Categorie.create(req.body);\n            res.status(200).json(categorie);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    update: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.portada.path;\n                var name = img_path.split('\\\\');\n                var portada_name = name[2];\n                //console.log(portada_name);\n                req.body.imagen = portada_name;\n            }\n            await models.Categorie.findByIdAndUpdate({_id:req.body._id}, req.body);\n            let CategorieT = await models.Categorie.findOne({_id:req.body._id});\n\n            res.status(200).json({\n                message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n                categorie: resources.Categorie.categorie_list(CategorieT),\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            let Categories = await models.Categorie.find({\n                $or:[\n                    {\"title\": RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            Categories = Categories.map((user) => {\n                return resources.Categorie.categorie_list(user);\n            });\n\n            res.status(200).json({\n                Categories: Categories\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            await models.Categorie.findByIdAndDelete({_id: req.query._id});\n            res.status(200).json({\n                message: \"LA CATEGORIA SE ELIMINÓ CORRECTAMENTE\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":"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"}},"mtime":1699826009755},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsImF2YXRhciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvcmVzb3VyY2VzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgdXNlcl9saXN0OiAodXNlcikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFSCxJQUFJLENBQUNHLE9BQU87TUFDckJDLEtBQUssRUFBRUosSUFBSSxDQUFDSSxLQUFLO01BQ2pCQyxNQUFNLEVBQUVMLElBQUksQ0FBQ0s7SUFDakIsQ0FBQztFQUNMO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["user_list","user","_id","name","surname","email","avatar"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/","sources":["User.js"],"sourcesContent":["export default {\n    user_list: (user) => {\n        return {\n            _id: user._id,\n            name: user.name,\n            surname: user.surname,\n            email: user.email,\n            avatar: user.avatar\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IACjB,CAAC;EACL;AACJ,CAAC"}},"mtime":1698616383930},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRvcy9EZXNhcnJvbGxvL3d3dy9FY29tbWVyY2UtTUVBTi9hcGlfZWNvbW1lcmNlL3Jlc291cmNlcy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgY2F0ZWdvcmllX2xpc3Q6IChjYXRlZ29yaWUpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9pZDogY2F0ZWdvcmllLl9pZCxcbiAgICAgICAgICAgIHRpdGxlOiBjYXRlZ29yaWUudGl0bGUsXG4gICAgICAgICAgICBpbWFnZW46IGNhdGVnb3JpZS5pbWFnZW4sXG4gICAgICAgICAgICBzdGF0ZTogY2F0ZWdvcmllLnN0YXRlLFxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLGNBQWMsRUFBR0MsU0FBUyxJQUFLO0lBQzNCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxTQUFTLENBQUNDLEdBQUc7TUFDbEJDLEtBQUssRUFBRUYsU0FBUyxDQUFDRSxLQUFLO01BQ3RCQyxNQUFNLEVBQUVILFNBQVMsQ0FBQ0csTUFBTTtNQUN4QkMsS0FBSyxFQUFFSixTQUFTLENBQUNJO0lBQ3JCLENBQUM7RUFDTDtBQUNKLENBQUMifQ==","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","state"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/","sources":["Categorie.js"],"sourcesContent":["export default {\n    categorie_list: (categorie) => {\n        return {\n            _id: categorie._id,\n            title: categorie.title,\n            imagen: categorie.imagen,\n            state: categorie.state,\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,cAAc,EAAGC,SAAS,IAAK;IAC3B,OAAO;MACHC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,KAAK,EAAEJ,SAAS,CAACI;IACrB,CAAC;EACL;AACJ,CAAC"}},"mtime":1698617934704},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsImF2YXRhciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudG9zL0Rlc2Fycm9sbG8vd3d3L0Vjb21tZXJjZS1NRUFOL2FwaV9lY29tbWVyY2UvcmVzb3VyY2VzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgdXNlcl9saXN0OiAodXNlcikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFSCxJQUFJLENBQUNHLE9BQU87TUFDckJDLEtBQUssRUFBRUosSUFBSSxDQUFDSSxLQUFLO01BQ2pCQyxNQUFNLEVBQUVMLElBQUksQ0FBQ0s7SUFDakIsQ0FBQztFQUNMO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["user_list","user","_id","name","surname","email","avatar"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/","sources":["User.js"],"sourcesContent":["export default {\n    user_list: (user) => {\n        return {\n            _id: user._id,\n            name: user.name,\n            surname: user.surname,\n            email: user.email,\n            avatar: user.avatar\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IACjB,CAAC;EACL;AACJ,CAAC"}},"mtime":1698616383930},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRvcy9EZXNhcnJvbGxvL3d3dy9FY29tbWVyY2UtTUVBTi9hcGlfZWNvbW1lcmNlL3Jlc291cmNlcy8iLCJzb3VyY2VzIjpbImNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgY2F0ZWdvcmllX2xpc3Q6IChjYXRlZ29yaWUpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9pZDogY2F0ZWdvcmllLl9pZCxcbiAgICAgICAgICAgIHRpdGxlOiBjYXRlZ29yaWUudGl0bGUsXG4gICAgICAgICAgICBpbWFnZW46IGNhdGVnb3JpZS5pbWFnZW4sXG4gICAgICAgICAgICBzdGF0ZTogY2F0ZWdvcmllLnN0YXRlLFxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLGNBQWMsRUFBR0MsU0FBUyxJQUFLO0lBQzNCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxTQUFTLENBQUNDLEdBQUc7TUFDbEJDLEtBQUssRUFBRUYsU0FBUyxDQUFDRSxLQUFLO01BQ3RCQyxNQUFNLEVBQUVILFNBQVMsQ0FBQ0csTUFBTTtNQUN4QkMsS0FBSyxFQUFFSixTQUFTLENBQUNJO0lBQ3JCLENBQUM7RUFDTDtBQUNKLENBQUMifQ==","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","state"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/","sources":["categorie.js"],"sourcesContent":["export default {\n    categorie_list: (categorie) => {\n        return {\n            _id: categorie._id,\n            title: categorie.title,\n            imagen: categorie.imagen,\n            state: categorie.state,\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,cAAc,EAAGC,SAAS,IAAK;IAC3B,OAAO;MACHC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,KAAK,EAAEJ,SAAS,CAACI;IACrB,CAAC;EACL;AACJ,CAAC"}},"mtime":1698617934704},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRvcy9EZXNhcnJvbGxvL3d3dy9FY29tbWVyY2UtTUVBTi9hcGlfZWNvbW1lcmNlL3Jlc291cmNlcy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgY2F0ZWdvcmllX2xpc3Q6IChjYXRlZ29yaWUpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9pZDogY2F0ZWdvcmllLl9pZCxcbiAgICAgICAgICAgIHRpdGxlOiBjYXRlZ29yaWUudGl0bGUsXG4gICAgICAgICAgICBpbWFnZW46IGNhdGVnb3JpZS5pbWFnZW4sXG4gICAgICAgICAgICBzdGF0ZTogY2F0ZWdvcmllLnN0YXRlLFxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLGNBQWMsRUFBR0MsU0FBUyxJQUFLO0lBQzNCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxTQUFTLENBQUNDLEdBQUc7TUFDbEJDLEtBQUssRUFBRUYsU0FBUyxDQUFDRSxLQUFLO01BQ3RCQyxNQUFNLEVBQUVILFNBQVMsQ0FBQ0csTUFBTTtNQUN4QkMsS0FBSyxFQUFFSixTQUFTLENBQUNJO0lBQ3JCLENBQUM7RUFDTDtBQUNKLENBQUMifQ==","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","state"],"sourceRoot":"/Users/eddylujan/Documentos/Desarrollo/www/Ecommerce-MEAN/api_ecommerce/resources/","sources":["Categorie.js"],"sourcesContent":["export default {\n    categorie_list: (categorie) => {\n        return {\n            _id: categorie._id,\n            title: categorie.title,\n            imagen: categorie.imagen,\n            state: categorie.state,\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,cAAc,EAAGC,SAAS,IAAK;IAC3B,OAAO;MACHC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,KAAK,EAAEJ,SAAS,CAACI;IACrB,CAAC;EACL;AACJ,CAAC"}},"mtime":1698617934704},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// CONEXION A LA BASE DE DATOS.\n_mongoose.default.Promise = global.Promise;\nconst dburl = \"mongodb://localhost:27017/ecommerce_udemy\";\n_mongoose.default.connect(dburl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(mongoose => console.log(\"CONECTADO A LA DB EN EL PUERTO 27017\")).catch(err => console.log(err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extend: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log('EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vbmdvb3NlIiwiUHJvbWlzZSIsImdsb2JhbCIsImRidXJsIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kIiwic3RhdGljIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJyb3V0ZXIiLCJzZXQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImxpc3RlbiIsImdldCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgcm91dGVyIGZyb20gXCIuL3JvdXRlclwiO1xuXG4vLyBDT05FWElPTiBBIExBIEJBU0UgREUgREFUT1MuXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG5jb25zdCBkYnVybCA9IFwibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9lY29tbWVyY2VfdWRlbXlcIjtcbm1vbmdvb3NlLmNvbm5lY3QgKFxuICAgIGRidXJsLCB7XG4gICAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlXG4gICAgfVxuKS50aGVuKG1vbmdvb3NlID0+IGNvbnNvbGUubG9nKFwiQ09ORUNUQURPIEEgTEEgREIgRU4gRUwgUFVFUlRPIDI3MDE3XCIpKVxuLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShjb3JzKCkpO1xuXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHtleHRlbmQ6IHRydWV9KSk7XG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsJ3B1YmxpYycpKSk7XG5hcHAudXNlKCcvYXBpLycsIHJvdXRlcik7XG5cbmFwcC5zZXQoJ3BvcnQnLCBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDApO1xuYXBwLmxpc3RlbihhcHAuZ2V0KCdwb3J0JyksICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnRUwgU0VSVklET1IgU0UgRUpFQ1VUTyBQRVJGRUNUQU1FTlRFIEVOIEVMIFBVRVJUTyAzMDAwJyk7XG59KSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFNLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFOUI7QUFDQUcsaUJBQVEsQ0FBQ0MsT0FBTyxHQUFHQyxNQUFNLENBQUNELE9BQU87QUFDakMsTUFBTUUsS0FBSyxHQUFHLDJDQUEyQztBQUN6REgsaUJBQVEsQ0FBQ0ksT0FBTyxDQUNaRCxLQUFLLEVBQUU7RUFDSEUsZUFBZSxFQUFFLElBQUk7RUFDckJDLGtCQUFrQixFQUFFO0FBQ3hCLENBQ0osQ0FBQyxDQUFDQyxJQUFJLENBQUNQLFFBQVEsSUFBSVEsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0NBQXNDLENBQUMsQ0FBQyxDQUN0RUMsS0FBSyxDQUFDQyxHQUFHLElBQUlILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQztBQUUvQixNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEVBQUMsQ0FBQyxDQUFDO0FBRWZILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCSixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0ksVUFBVSxDQUFDO0VBQUNDLE1BQU0sRUFBRTtBQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzNDTixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ00sTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdERWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBRVMsZUFBTSxDQUFDO0FBRXhCWCxHQUFHLENBQUNZLEdBQUcsQ0FBQyxNQUFNLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJLElBQUksSUFBSSxDQUFDO0FBQ3pDZixHQUFHLENBQUNnQixNQUFNLENBQUNoQixHQUFHLENBQUNpQixHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTTtFQUM5QnJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdEQUF3RCxDQUFDO0FBQ3pFLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","obj","__esModule","default","mongoose","Promise","global","dburl","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extend","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/","sources":["index.js"],"sourcesContent":["import express from \"express\";\nimport cors from \"cors\";\nimport path from \"path\";\nimport mongoose from \"mongoose\";\nimport router from \"./router\";\n\n// CONEXION A LA BASE DE DATOS.\nmongoose.Promise = global.Promise;\nconst dburl = \"mongodb://localhost:27017/ecommerce_udemy\";\nmongoose.connect (\n    dburl, {\n        useNewUrlParser: true,\n        useUnifiedTopology: true\n    }\n).then(mongoose => console.log(\"CONECTADO A LA DB EN EL PUERTO 27017\"))\n.catch(err => console.log(err));\n\nconst app = express();\napp.use(cors());\n\napp.use(express.json());\napp.use(express.urlencoded({extend: true}));\napp.use(express.static(path.join(__dirname,'public')));\napp.use('/api/', router);\n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n    console.log('EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000');\n})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9B;AACAG,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjC,MAAME,KAAK,GAAG,2CAA2C;AACzDH,iBAAQ,CAACI,OAAO,CACZD,KAAK,EAAE;EACHE,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AACxB,CACJ,CAAC,CAACC,IAAI,CAACP,QAAQ,IAAIQ,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC,CAAC,CACtEC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;AAE/B,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AAEfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAACC,MAAM,EAAE;AAAI,CAAC,CAAC,CAAC;AAC3CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC;AACtDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAAES,eAAM,CAAC;AAExBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACzCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAC9BrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACzE,CAAC,CAAC"}},"mtime":1698089710410},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use(\"/users\", _User.default);\nrouter.use(\"/categories\", _Categorie.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInVzZSIsIlVzZXIiLCJDYXRlZ29yaWUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCI7XG5pbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCI7XG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gXCIuL0NhdGVnb3JpZVwiO1xuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5yb3V0ZXIudXNlKFwiL3VzZXJzXCIsIFVzZXIpO1xucm91dGVyLnVzZShcIi9jYXRlZ29yaWVzXCIsIENhdGVnb3JpZSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBb0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFcEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4QkQsTUFBTSxDQUFDRSxHQUFHLENBQUMsUUFBUSxFQUFFQyxhQUFJLENBQUM7QUFDMUJILE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGFBQWEsRUFBRUUsa0JBQVMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBUCxPQUFBLEdBRXRCQyxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","obj","__esModule","default","router","routerx","use","User","Categorie","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\";\nimport User from \"./User\";\nimport Categorie from \"./Categorie\";\n\nconst router = routerx();\nrouter.use(\"/users\", User);\nrouter.use(\"/categories\", Categorie);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEpC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAP,OAAA,GAEtBC,MAAM"}},"mtime":1698617510840},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\n//const router = routerx();\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", _UserController.default.register);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJyZWdpc3Rlcl9hZG1pbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiBpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlclwiO1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCc7XG5cbi8vY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBodHRwOi8vbG9jYWxob3N0Oi8zMDAwL2FwaS91c2VyL3JlZ2lzdGVyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9hZG1pblwiLCBhdXRoLnZlcmlmeUFkbWluLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCB1c2VyQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsIGF1dGgudmVyaWZ5QWRtaW4sIHVzZXJDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW4pO1xucm91dGVyLnBvc3QoXCIvbG9naW5fYWRtaW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW5fYWRtaW4pO1xuXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLCB1c2VyQ29udHJvbGxlci5yZW1vdmUpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQyxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUQsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRnZDOztBQUlBO0FBQ0EsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7QUFDQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDakRKLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGlCQUFpQixFQUFFRyxhQUFJLENBQUNDLFdBQVcsRUFBRUgsdUJBQWMsQ0FBQ0ksY0FBYyxDQUFDO0FBQy9FUCxNQUFNLENBQUNRLEdBQUcsQ0FBQyxTQUFTLEVBQUVMLHVCQUFjLENBQUNNLE1BQU0sQ0FBQztBQUM1Q1QsTUFBTSxDQUFDVSxHQUFHLENBQUMsT0FBTyxFQUFFTCxhQUFJLENBQUNDLFdBQVcsRUFBRUgsdUJBQWMsQ0FBQ1EsSUFBSSxDQUFDO0FBQzFEWCxNQUFNLENBQUNFLElBQUksQ0FBQyxRQUFRLEVBQUVDLHVCQUFjLENBQUNTLEtBQUssQ0FBQztBQUMzQ1osTUFBTSxDQUFDRSxJQUFJLENBQUMsY0FBYyxFQUFFQyx1QkFBYyxDQUFDVSxXQUFXLENBQUM7QUFFdkRiLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDLFNBQVMsRUFBRVgsdUJBQWMsQ0FBQ1ksTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFsQixPQUFBLEdBRWpDQyxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","userController","register","auth","verifyAdmin","register_admin","put","update","get","list","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["User.js"],"sourcesContent":[" import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport userController from \"../controllers/UserController\";\nimport auth from '../middlewares/auth';\n\n//const router = routerx();\nconst router = routerx();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", userController.register);\nrouter.post(\"/register_admin\", auth.verifyAdmin, userController.register_admin);\nrouter.put(\"/update\", userController.update);\nrouter.get(\"/list\", auth.verifyAdmin, userController.list);\nrouter.post(\"/login\", userController.login);\nrouter.post(\"/login_admin\", userController.login_admin);\n\nrouter.delete(\"/delete\", userController.remove);\n\nexport default router;"],"mappings":";;;;;;AAAC,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAED,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAFvC;;AAIA;AACA,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;AACAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAAEG,aAAI,CAACC,WAAW,EAAEH,uBAAc,CAACI,cAAc,CAAC;AAC/EP,MAAM,CAACQ,GAAG,CAAC,SAAS,EAAEL,uBAAc,CAACM,MAAM,CAAC;AAC5CT,MAAM,CAACU,GAAG,CAAC,OAAO,EAAEL,aAAI,CAACC,WAAW,EAAEH,uBAAc,CAACQ,IAAI,CAAC;AAC1DX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACS,KAAK,CAAC;AAC3CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACU,WAAW,CAAC;AAEvDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAAEX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAEjCC,MAAM"}},"mtime":1700696028050},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register_admin: async (req, res) => {\n    try {\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"El usuario que intentas registrar ya exsite.\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register_admin - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": RegExp(search, \"i\")\n        }, {\n          \"surname\": RegExp(search, \"i\")\n        }, {\n          \"email\": RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYmNyeXB0anMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3Rlcl9hZG1pbiIsInJlcSIsInJlcyIsInVzZXJWIiwibW9kZWxzIiwiVXNlciIsImZpbmRPbmUiLCJlbWFpbCIsImJvZHkiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInJvbCIsInBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsInVzZXIiLCJjcmVhdGUiLCJqc29uIiwicmVzb3VyY2VzIiwidXNlcl9saXN0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXIiLCJsb2dpbiIsInN0YXRlIiwiY29tcGFyZSIsInRva2VuVCIsInRva2VuIiwiZW5jb2RlIiwiX2lkIiwiVVNFUl9GUk9OVEVEIiwibmFtZSIsInN1cm5hbWUiLCJhdmF0YXIiLCJsb2dpbl9hZG1pbiIsInVwZGF0ZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiVXNlclQiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJVc2VycyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlcnMiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHRva2VuIGZyb20gXCIuLi9zZXJ2aWNlcy90b2tlblwiO1xuaW1wb3J0IHJlc291cmNlcyBmcm9tIFwiLi4vcmVzb3VyY2VzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZWdpc3Rlcl9hZG1pbjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJWID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsfSk7XG4gICAgICAgICAgICBpZiAodXNlclYpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRWwgdXN1YXJpbyBxdWUgaW50ZW50YXMgcmVnaXN0cmFyIHlhIGV4c2l0ZS5cIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXEuYm9keS5yb2wgPSBcImFkbWluXCI7XG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICBsZXQgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2VzLlVzZXIudXNlcl9saXN0KHVzZXIpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgcmVnaXN0ZXJfYWRtaW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXIpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciByZWdpc3RlciAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsb2dpbjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWwsIHN0YXRlOjF9KTtcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgLy8gU0kgRVNUw4EgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BXG4gICAgICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCwgdXNlci5yb2wsIHVzZXIuZW1haWwpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW5ULFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVTRVJfRlJPTlRFRDpVU0VSX0ZST05URURcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbG9naW5fYWRtaW46IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLCBzdGF0ZToxLCByb2w6XCJhZG1pblwifSk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIC8vIFNJIEVTVMOBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wYXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsIHVzZXIucm9sLCB1c2VyLmVtYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2VuVCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sOiB1c2VyLnJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVEXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxLmJvZHkucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6cmVxLmJvZHkuX2lkfSwgcmVxLmJvZHkpO1xuICAgICAgICAgICAgbGV0IFVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdChVc2VyVCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGlzdDogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xuICAgICAgICAgICAgbGV0IFVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XG4gICAgICAgICAgICAgICAgJG9yOltcbiAgICAgICAgICAgICAgICAgICAge1wibmFtZVwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgICAgICB7XCJzdXJuYW1lXCI6IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImVtYWlsXCI6IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XG5cbiAgICAgICAgICAgIFVzZXJzID0gVXNlcnMubWFwKCh1c2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgdXNlcnM6IFVzZXJzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOw5MgQ09SUkVDVEFNRU5URVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFxQyxTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRXRCO0VBQ1hHLGNBQWMsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUMvQixJQUFJO01BQ0EsTUFBTUMsS0FBSyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixHQUFHLENBQUNPLElBQUksQ0FBQ0Q7TUFBSyxDQUFDLENBQUM7TUFDaEUsSUFBSUosS0FBSyxFQUFFO1FBQ1BELEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO01BRUFWLEdBQUcsQ0FBQ08sSUFBSSxDQUFDSSxH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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_bcryptjs","_token","_resources","obj","__esModule","default","_default","exports","register_admin","req","res","userV","models","User","findOne","email","body","status","send","message","rol","password","bcrypt","hash","user","create","json","resources","user_list","error","console","log","register","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";\n\nexport default {\n    register_admin: async(req, res) => {\n        try {\n            const userV = await models.User.findOne({email: req.body.email});\n            if (userV) {\n                res.status(500).send({\n                    message: \"El usuario que intentas registrar ya exsite.\"\n                });\n            }\n\n            req.body.rol = \"admin\";\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            let user = await models.User.create(req.body);\n            res.status(200).json({\n                user: resources.User.user_list(user)\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register_admin - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    register: async(req, res) => {\n        try {\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            const user = await models.User.create(req.body);\n            res.status(200).json(user);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    login: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    login_admin: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1, rol:\"admin\"});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar,\n                            rol: user.rol,\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n\n    update: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.avatar.path;\n                var name = img_path.split('\\\\');\n                var avatar_name = name[2];\n                console.log(avatar_name);\n            }\n            if (req.body.password) {\n                req.body.password = await bcrypt.hash(req.body.password, 10);\n            }\n\n            await models.User.findByIdAndUpdate({_id:req.body._id}, req.body);\n            let UserT = await models.User.findOne({_id:req.body._id});\n\n            res.status(200).json({\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n                user: resources.User.user_list(UserT),\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            let Users = await models.User.find({\n                $or:[\n                    {\"name\": RegExp(search, \"i\")},\n                    {\"surname\": RegExp(search, \"i\")},\n                    {\"email\": RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            Users = Users.map((user) => {\n                return resources.User.user_list(user);\n            });\n\n            res.status(200).json({\n                users: Users\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            const User = await models.User.findByIdAndDelete({_id: req.query._id});\n            res.status(200).json({\n                message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":"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"}},"mtime":1700696027897},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1ZhcmllZGFkIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlZhcmllZGFkIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCI7XG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gXCIuL0NhdGVnb3JpZVwiO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4vUHJvZHVjdFwiO1xuaW1wb3J0IFZhcmllZGFkIGZyb20gXCIuL1ZhcmllZGFkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBVc2VyLFxuICAgIENhdGVnb3JpZSxcbiAgICBQcm9kdWN0LFxuICAgIFZhcmllZGFkXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxRQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBa0MsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVuQjtFQUNYRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQSxrQkFBUztFQUNUQyxPQUFPLEVBQVBBLGdCQUFPO0VBQ1BDLFFBQVEsRUFBUkE7QUFDSixDQUFDIn0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","_Product","_Variedad","obj","__esModule","default","_default","exports","User","Categorie","Product","Variedad"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["index.js"],"sourcesContent":["import User from \"./User\";\nimport Categorie from \"./Categorie\";\nimport Product from \"./Product\";\nimport Variedad from \"./Variedad\";\n\nexport default {\n    User,\n    Categorie,\n    Product,\n    Variedad\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEnB;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA;AACJ,CAAC"}},"mtime":1701028540746},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es des activo.\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwic3RhdGUiLCJOdW1iZXIiLCJwaG9uZSIsImJpcnRoZGF5IiwidGltZXN0YW1wcyIsIlVzZXIiLCJtb29uZ29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb29uZ29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICByb2w6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjMwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBuYW1lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIHN1cm5hbWU6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGVtYWlsOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWUsIHVuaXF1ZTp0cnVlfSxcbiAgICBwYXNzd29yZDp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBhdmF0YXI6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHN0YXRlOnt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6MX0sIC8vIDEgZXMgYWN0aXZvIHkgMiBlcyBkZXMgYWN0aXZvLlxuICAgIHBob25lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGJpcnRoZGF5Ont0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxufSx7XG4gICAgdGltZXN0YW1wczogdHJ1ZVxufSk7XG5cbmNvbnN0IFVzZXIgPSBtb29uZ29zZS5tb2RlbChcInVzZXJcIiwgVXNlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","required","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","moongose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["User.js"],"sourcesContent":["import moongose, {Schema} from \"mongoose\";\n\nconst UserSchema = new Schema({\n    rol:{type: String, maxlength:30, required:true},\n    name:{type: String, maxlength:250, required:true},\n    surname:{type: String, maxlength:250, required:false},\n    email:{type: String, maxlength:250, required:true, unique:true},\n    password:{type: String, maxlength:250, required:true},\n    avatar:{type: String, maxlength:250, required:false},\n    state:{type: Number, default:1}, // 1 es activo y 2 es des activo.\n    phone:{type: String, maxlength:20, required:false},\n    birthday:{type: String, maxlength:20, required:false},\n},{\n    timestamps: true\n});\n\nconst User = moongose.model(\"user\", UserSchema);\nexport default User;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMY,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC/CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACjDE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACrDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC,IAAI;IAAEI,MAAM,EAAC;EAAI,CAAC;EAC/DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACpDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAAE7B,OAAO,EAAC;EAAC,CAAC;EAAE;EACjC8B,KAAK,EAAC;IAACZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK,CAAC;EAClDU,QAAQ,EAAC;IAACb,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK;AACxD,CAAC,EAAC;EACEW,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAArC,OAAA,GACjCiC,IAAI"}},"mtime":1700696027899},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = exports.default = Categorie;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNhdGVnb3JpZSIsIm1vb25nb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9vbmdvc2UsIHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDYXRlZ29yaWVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICB0aXRsZTp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBpbWFnZW46e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXG4gICAgc3RhdGU6e3R5cGU6IE51bWJlciwgbWF4bGVuZ3RoOjIsIGRlZmF1bHQ6MX0sXG59LHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlXG59KTtcblxuY29uc3QgQ2F0ZWdvcmllID0gbW9vbmdvc2UubW9kZWwoXCJjYXRlZ29yaWVcIiwgQ2F0ZWdvcmllU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3JpZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsSUFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBakIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFJLENBQUEsR0FBQVIsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBSSxDQUFBLEtBQUFBLENBQUEsQ0FBQVgsR0FBQSxJQUFBVyxDQUFBLENBQUFDLEdBQUEsSUFBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBSSxDQUFBLElBQUFWLENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFnQixHQUFBLENBQUFuQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUUxQyxNQUFNWSxlQUFlLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUMvQkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xEQyxNQUFNLEVBQUM7SUFBQ0osSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkRFLEtBQUssRUFBQztJQUFDTCxJQUFJLEVBQUVNLE1BQU07SUFBRUosU0FBUyxFQUFDLENBQUM7SUFBRXBCLE9BQU8sRUFBQztFQUFDO0FBQy9DLENBQUMsRUFBQztFQUNFeUIsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLFNBQVMsR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFdBQVcsRUFBRWIsZUFBZSxDQUFDO0FBQUMsSUFBQWMsUUFBQSxHQUFBQyxPQUFBLENBQUE5QixPQUFBLEdBQ2hEMEIsU0FBUyJ9","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categorie","moongose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["Categorie.js"],"sourcesContent":["import moongose, {Schema} from \"mongoose\";\n\nconst CategorieSchema = new Schema({\n    title:{type: String, maxlength:250, required:true},\n    imagen:{type: String, maxlength:250, required:true},\n    state:{type: Number, maxlength:2, default:1},\n},{\n    timestamps: true\n});\n\nconst Categorie = moongose.model(\"categorie\", CategorieSchema);\nexport default Categorie;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMY,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAC/BC,KAAK,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDC,MAAM,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnDE,KAAK,EAAC;IAACL,IAAI,EAAEM,MAAM;IAAEJ,SAAS,EAAC,CAAC;IAAEpB,OAAO,EAAC;EAAC;AAC/C,CAAC,EAAC;EACEyB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAAEb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAChD0B,SAAS"}},"mtime":1700696027899},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_udemy', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      /**\n       * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n       * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n       * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n       * \n       * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n       * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n       */\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_udemy');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(\"Debbug - token.js: \", error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbInRva2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZW5jb2RlOiBhc3luYyhfaWQsIHJvbCwgZW1haWwpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7X2lkOiBfaWQsIHJvbDpyb2wsIGVtYWlsOmVtYWlsfSwgJ2Vjb21tZXJjZV91ZGVteScsIHtleHBpcmVzSW46ICcxZCd9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgZGVjb2RlOiBhc3luYyh0b2tlbikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPQlRFTkVSIEVMIF9pZCBERUwgUEFZTE9BRCBWRVJJRklDQURPLlxuICAgICAgICAgICAgICogTFVFR08gU0UgQlVTQ0EgRVNBIENPTEVDQ0lPTiBFTiBFTCBNT0RFTFMgVVNFUlMgWSBERVNQVUVTIERFIFZFUklGSUNBIFxuICAgICAgICAgICAgICogUVVFIFNJIEVTVMOBIEVOIFVOIEVTVEFETyBBQ1RJVk8uXG4gICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAqIFkgU0kgRUwgVVNVQVJJTyBTSSBFWElTVEUsIFBVRVMgU0UgUkVUT1JOQSBFU0UgVVNVQVJJTy5cbiAgICAgICAgICAgICAqIEVOIENBU08gREUgUVVFIE5PIEVYSVNUQSwgU0UgUkVUT1JNQSBGQUxTRS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3Qge19pZH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCAnZWNvbW1lcmNlX3VkZW15Jyk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiBfaWQsIHN0YXRlOiAxfSk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEZWJidWcgLSB0b2tlbi5qczogXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVoQjtFQUNYRyxNQUFNLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssS0FBSztJQUM5QixNQUFNQyxLQUFLLEdBQUdDLHFCQUFHLENBQUNDLElBQUksQ0FBQztNQUFDTCxHQUFHLEVBQUVBLEdBQUc7TUFBRUMsR0FBRyxFQUFDQSxHQUFHO01BQUVDLEtBQUssRUFBQ0E7SUFBSyxDQUFDLEVBQUUsaUJBQWlCLEVBQUU7TUFBQ0ksU0FBUyxFQUFFO0lBQUksQ0FBQyxDQUFDO0lBQzlGLE9BQU9ILEtBQUs7RUFDaEIsQ0FBQztFQUNESSxNQUFNLEVBQUUsTUFBTUosS0FBSyxJQUFLO0lBQ3BCLElBQUk7TUFDQTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO01BQ1ksTUFBTTtRQUFDSDtNQUFHLENBQUMsR0FBRyxNQUFNSSxxQkFBRyxDQUFDSSxNQUFNLENBQUNMLEtBQUssRUFBRSxpQkFBaUIsQ0FBQztNQUN4RCxNQUFNTSxJQUFJLEdBQUdDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ1osR0FBRyxFQUFFQSxHQUFHO1FBQUVhLEtBQUssRUFBRTtNQUFDLENBQUMsQ0FBQztNQUN0RCxJQUFJSixJQUFJLEVBQUU7UUFDTixPQUFPQSxJQUFJO01BQ2Y7TUFDQSxPQUFPLEtBQUs7SUFDaEIsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRUYsS0FBSyxDQUFDO01BQ3pDLE9BQU8sS0FBSztJQUNoQjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\nimport models from '../models';\n\nexport default {\n    encode: async(_id, rol, email) => {\n        const token = jwt.sign({_id: _id, rol:rol, email:email}, 'ecommerce_udemy', {expiresIn: '1d'});\n        return token;\n    },\n    decode: async(token) => {\n        try {\n            /**\n             * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n             * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n             * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n             * \n             * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n             * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n             */\n            const {_id} = await jwt.verify(token, 'ecommerce_udemy');\n            const user = models.User.findOne({_id: _id, state: 1});\n            if (user) {\n                return user;\n            }\n            return false;\n        } catch (error) {\n            console.log(\"Debbug - token.js: \", error);\n            return false;\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACXG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAK;IAC9B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAAEA,GAAG;MAAEC,GAAG,EAACA,GAAG;MAAEC,KAAK,EAACA;IAAK,CAAC,EAAE,iBAAiB,EAAE;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IAC9F,OAAOH,KAAK;EAChB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;MACY,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,iBAAiB,CAAC;MACxD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAAEa,KAAK,EAAE;MAAC,CAAC,CAAC;MACtD,IAAIJ,IAAI,EAAE;QACN,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEF,KAAK,CAAC;MACzC,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC"}},"mtime":1700696028062},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvcmVzb3VyY2VzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJztcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIFVzZXIsXG4gICAgQ2F0ZWdvcmllLFxuICAgIFByb2R1Y3Rcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRWpCO0VBQ1hHLElBQUksRUFBSkEsYUFBSTtFQUNKQyxTQUFTLEVBQVRBLGtCQUFTO0VBQ1RDLE9BQU8sRUFBUEE7QUFDSixDQUFDIn0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","_Product","obj","__esModule","default","_default","exports","User","Categorie","Product"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["index.js"],"sourcesContent":["import User from './User';\nimport Categorie from './Categorie';\nimport Product from './Product';\n\nexport default {\n    User,\n    Categorie,\n    Product\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEjB;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA;AACJ,CAAC"}},"mtime":1701096238553},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsImF2YXRhciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvcmVzb3VyY2VzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgdXNlcl9saXN0OiAodXNlcikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFSCxJQUFJLENBQUNHLE9BQU87TUFDckJDLEtBQUssRUFBRUosSUFBSSxDQUFDSSxLQUFLO01BQ2pCQyxNQUFNLEVBQUVMLElBQUksQ0FBQ0s7SUFDakIsQ0FBQztFQUNMO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["user_list","user","_id","name","surname","email","avatar"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["User.js"],"sourcesContent":["export default {\n    user_list: (user) => {\n        return {\n            _id: user._id,\n            name: user.name,\n            surname: user.surname,\n            email: user.email,\n            avatar: user.avatar\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IACjB,CAAC;EACL;AACJ,CAAC"}},"mtime":1700696028048},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL3Jlc291cmNlcy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgY2F0ZWdvcmllX2xpc3Q6IChjYXRlZ29yaWUpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9pZDogY2F0ZWdvcmllLl9pZCxcbiAgICAgICAgICAgIHRpdGxlOiBjYXRlZ29yaWUudGl0bGUsXG4gICAgICAgICAgICBpbWFnZW46IGNhdGVnb3JpZS5pbWFnZW4sXG4gICAgICAgICAgICBzdGF0ZTogY2F0ZWdvcmllLnN0YXRlLFxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLGNBQWMsRUFBR0MsU0FBUyxJQUFLO0lBQzNCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxTQUFTLENBQUNDLEdBQUc7TUFDbEJDLEtBQUssRUFBRUYsU0FBUyxDQUFDRSxLQUFLO01BQ3RCQyxNQUFNLEVBQUVILFNBQVMsQ0FBQ0csTUFBTTtNQUN4QkMsS0FBSyxFQUFFSixTQUFTLENBQUNJO0lBQ3JCLENBQUM7RUFDTDtBQUNKLENBQUMifQ==","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","state"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["Categorie.js"],"sourcesContent":["export default {\n    categorie_list: (categorie) => {\n        return {\n            _id: categorie._id,\n            title: categorie.title,\n            imagen: categorie.imagen,\n            state: categorie.state,\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,cAAc,EAAGC,SAAS,IAAK;IAC3B,OAAO;MACHC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,KAAK,EAAEJ,SAAS,CAACI;IACrB,CAAC;EACL;AACJ,CAAC"}},"mtime":1700696028047},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwidmVyaWZ5RWNvbW1lcmNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlcnMiLCJ0b2tlbiIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJkZWNvZGUiLCJyb2wiLCJ2ZXJpZnlBZG1pbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJjbGllbnRlXCIgfHwgcmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIikge1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gRVNUw4EgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFTCBUT0tFTiBOTyBFUyBWQUxJRE8nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdmVyaWZ5QWRtaW46IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKSB7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBFU1TDgSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEEsIFBPUlFVRSBFUkVTIFVOIENMSUVOVCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgVE9LRU4gTk8gRVMgVkFMSURPJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFdkI7RUFDWEcsZUFBZSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDdEMsSUFBSSxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFFO01BQ3BCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFJSSxRQUFRLEVBQUU7TUFDVixJQUFJQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxTQUFTLElBQUlGLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBRTtRQUN0RFIsSUFBSSxDQUFDLENBQUM7TUFDVixDQUFDLE1BQU07UUFDSEQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFFO1FBQ2IsQ0FBQyxDQUFDO01BQ047SUFDSixDQUFDLE1BQU07TUFDSE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RJLFdBQVcsRUFBRSxNQUFBQSxDQUFNWCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0lBQ2xDLElBQUksQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBRTtNQUNwQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBSUksUUFBUSxFQUFFO01BQ1YsSUFBSUEsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFFO1FBQ3pCUixJQUFJLENBQUMsQ0FBQztNQUNWLENBQUMsTUFBTTtRQUNIRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsTUFBTTtNQUNITixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/middlewares/","sources":["auth.js"],"sourcesContent":["import token from '../services/token';\n\nexport default {\n    verifyEcommerce: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"cliente\" || response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n    verifyAdmin: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEvB;EACXG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACtC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACtDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IAClC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACzBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC"}},"mtime":1700696027898},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.getImage);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJjYXRlZ29yaWVDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwiZ2V0SW1hZ2UiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGNhdGVnb3JpZUNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL0NhdGVnb3JpZUNvbnRyb2xsZXJcIjtcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnO1xuaW1wb3J0IG11bHRpcGFydHkgZnJvbSBcImNvbm5lY3QtbXVsdGlwYXJ0eVwiO1xuXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjogJy4vdXBsb2Fkcy9jYXRlZ29yaWUnfSk7XG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgY2F0ZWdvcmllQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sIGNhdGVnb3JpZUNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLCBhdXRoLnZlcmlmeUFkbWluLCBjYXRlZ29yaWVDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgYXV0aC52ZXJpZnlBZG1pbiwgY2F0ZWdvcmllQ29udHJvbGxlci5yZW1vdmUpO1xuXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvY2F0ZWdvcmllLzppbWdcIiwgY2F0ZWdvcmllQ29udHJvbGxlci5nZXRJbWFnZSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBQyxvQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUE0QyxTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUg1Qzs7QUFLQSxJQUFJRyxJQUFJLEdBQUcsSUFBQUMsMEJBQVUsRUFBQztFQUFDQyxTQUFTLEVBQUU7QUFBcUIsQ0FBQyxDQUFDO0FBQ3pELE1BQU1DLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDRCQUFtQixDQUFDQyxRQUFRLENBQUM7QUFDaEZOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDRCQUFtQixDQUFDRyxNQUFNLENBQUM7QUFDM0VSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDRCQUFtQixDQUFDSyxJQUFJLENBQUM7QUFDL0RWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBRVIsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDRCQUFtQixDQUFDTyxNQUFNLENBQUM7QUFFdEVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHlCQUF5QixFQUFFSiw0QkFBbUIsQ0FBQ1EsUUFBUSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFuQixPQUFBLEdBRXJESSxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categorieController","register","put","update","get","list","delete","remove","getImage","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["Categorie.js"],"sourcesContent":["import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport categorieController from \"../controllers/CategorieController\";\nimport auth from '../middlewares/auth';\nimport multiparty from \"connect-multiparty\";\n\nvar path = multiparty({uploadDir: './uploads/categorie'});\nconst router = routerx();\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], categorieController.register);\nrouter.put(\"/update\", [auth.verifyAdmin, path], categorieController.update);\nrouter.get(\"/list\", auth.verifyAdmin, categorieController.list);\nrouter.delete(\"/delete\", auth.verifyAdmin, categorieController.remove);\n\nrouter.get(\"/uploads/categorie/:img\", categorieController.getImage);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAH5C;;AAKA,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAqB,CAAC,CAAC;AACzD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACC,QAAQ,CAAC;AAChFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAE,CAACJ,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACG,MAAM,CAAC;AAC3ER,MAAM,CAACS,GAAG,CAAC,OAAO,EAAEN,aAAI,CAACC,WAAW,EAAEC,4BAAmB,CAACK,IAAI,CAAC;AAC/DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAAER,aAAI,CAACC,WAAW,EAAEC,4BAAmB,CAACO,MAAM,CAAC;AAEtEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAAEJ,4BAAmB,CAACQ,QAAQ,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAErDI,MAAM"}},"mtime":1700699996867},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/*import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";*/\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name);\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resources.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resources.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  getImage: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController getImage - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBvcnRhZGEiLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwiYm9keSIsImltYWdlbiIsImNhdGVnb3JpZSIsIm1vZGVscyIsIkNhdGVnb3JpZSIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwiQ2F0ZWdvcmllVCIsImZpbmRPbmUiLCJyZXNvdXJjZXMiLCJjYXRlZ29yaWVfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIkNhdGVnb3JpZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJjYXRlZ29yaWVzIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJnZXRJbWFnZSIsImltZyIsInBhcmFtcyIsImZzIiwic3RhdCIsImVyciIsInBhdGhfaW1nIiwic2VuZEZpbGUiLCJyZXNvbHZlIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyppbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHRva2VuIGZyb20gXCIuLi9zZXJ2aWNlcy90b2tlblwiO1xuaW1wb3J0IHJlc291cmNlcyBmcm9tIFwiLi4vcmVzb3VyY2VzXCI7Ki9cblxuaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgcmVzb3VyY2VzIGZyb20gXCIuLi9yZXNvdXJjZXNcIjtcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICBcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyZXEuZmlsZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yaWUgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciByZWdpc3RlciAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocmVxLmZpbGVzICYmIHJlcS5maWxlcy5wb3J0YWRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpO1xuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDpyZXEuYm9keS5faWR9LCByZXEuYm9keSk7XG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllVCA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZE9uZSh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBDQVRFR09SSUEgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllOiByZXNvdXJjZXMuQ2F0ZWdvcmllLmNhdGVnb3JpZV9saXN0KENhdGVnb3JpZVQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpc3Q6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtcbiAgICAgICAgICAgICAgICAkb3I6W1xuICAgICAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xuXG4gICAgICAgICAgICBDYXRlZ29yaWVzID0gQ2F0ZWdvcmllcy5tYXAoKHVzZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdCh1c2VyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllczogQ2F0ZWdvcmllc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgQ0FURUdPUklBIFNFIEVMSU1JTsOTIENPUlJFQ1RBTUVOVEVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0SW1hZ2U6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XG5cbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9jYXRlZ29yaWUvJytpbWcsIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAgaWYoIWVycil7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvY2F0ZWdvcmllLycraW1nO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgZ2V0SW1hZ2UgLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUtBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEdBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLEtBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUF3QixTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQVJ4QjtBQUNBO0FBQ0E7QUFDQTtBQUhBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBVWU7RUFFWEcsUUFBUSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQ3pCLElBQUk7TUFDQSxJQUFJRCxHQUFHLENBQUNFLEtBQUssRUFBRTtRQUNYLElBQUlDLFFBQVEsR0FBR0gsR0FBRyxDQUFDRSxLQUFLLENBQUNFLE9BQU8sQ0FBQ0MsSUFBSTtRQUNyQyxJQUFJQyxJQUFJLEdBQUdILFFBQVEsQ0FBQ0ksS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUM5QixJQUFJQyxZQUFZLEdBQUdGLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDMUJOLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDQyxNQUFNLEdBQUdGLFlBQVk7TUFDbEM7TUFDQSxNQUFNRyxTQUFTLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxTQUFTLENBQUNDLE1BQU0sQ0FBQ2QsR0FBRyxDQUFDUyxJQUFJLENBQUM7TUFDekRSLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNMLFNBQVMsQ0FBQztJQUNuQyxD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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resources","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","categories","remove","findByIdAndDelete","getImage","img","params","fs","stat","err","path_img","sendFile","resolve"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/","sources":["CategorieController.js"],"sourcesContent":["/*import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";*/\n\nimport models from \"../models\";\nimport resources from \"../resources\";\nimport fs from 'fs';\nimport path from \"path\";\n\nexport default {\n   \n    register: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.portada.path;\n                var name = img_path.split('/');\n                var portada_name = name[2];\n                req.body.imagen = portada_name;\n            }\n            const categorie = await models.Categorie.create(req.body);\n            res.status(200).json(categorie);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    update: async(req, res) => {\n        try {\n            if (req.files && req.files.portada) {\n                var img_path = req.files.portada.path;\n                var name = img_path.split('\\\\');\n                var portada_name = name[2];\n                //console.log(portada_name);\n                req.body.imagen = portada_name;\n            }\n            await models.Categorie.findByIdAndUpdate({_id:req.body._id}, req.body);\n            let CategorieT = await models.Categorie.findOne({_id:req.body._id});\n\n            res.status(200).json({\n                message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n                categorie: resources.Categorie.categorie_list(CategorieT),\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            let Categories = await models.Categorie.find({\n                $or:[\n                    {\"title\": RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            Categories = Categories.map((user) => {\n                return resources.Categorie.categorie_list(user);\n            });\n\n            res.status(200).json({\n                categories: Categories\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            await models.Categorie.findByIdAndDelete({_id: req.query._id});\n            res.status(200).json({\n                message: \"LA CATEGORIA SE ELIMINÓ CORRECTAMENTE\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n\n    getImage: async(req, res) => {\n        try {\n            var img = req.params['img'];\n\n            fs.stat('./uploads/categorie/'+img, function(err){\n                if(!err){\n                    let path_img = './uploads/categorie/'+img;\n                    res.status(200).sendFile(path.resolve(path_img));\n                }else{\n                    let path_img = './uploads/default.jpg';\n                    res.status(200).sendFile(path.resolve(path_img));\n                }\n            })\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController getImage - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":"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"}},"mtime":1701775886457},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use(\"/users\", _User.default);\nrouter.use(\"/categories\", _Categorie.default);\nrouter.use(\"/products\", _Product.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwidXNlIiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCI7XG5pbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCI7XG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gXCIuL0NhdGVnb3JpZVwiO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4vUHJvZHVjdFwiO1xuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5yb3V0ZXIudXNlKFwiL3VzZXJzXCIsIFVzZXIpO1xucm91dGVyLnVzZShcIi9jYXRlZ29yaWVzXCIsIENhdGVnb3JpZSk7XG5yb3V0ZXIudXNlKFwiL3Byb2R1Y3RzXCIsIFByb2R1Y3QpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsUUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQWdDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWhDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFDeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFFBQVEsRUFBRUMsYUFBSSxDQUFDO0FBQzFCSCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxhQUFhLEVBQUVFLGtCQUFTLENBQUM7QUFDcENKLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFdBQVcsRUFBRUcsZ0JBQU8sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBUixPQUFBLEdBRWxCQyxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","_Product","obj","__esModule","default","router","routerx","use","User","Categorie","Product","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\";\nimport User from \"./User\";\nimport Categorie from \"./Categorie\";\nimport Product from \"./Product\";\n\nconst router = routerx();\nrouter.use(\"/users\", User);\nrouter.use(\"/categories\", Categorie);\nrouter.use(\"/products\", Product);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEhC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AACpCJ,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEG,gBAAO,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAR,OAAA,GAElBC,MAAM"}},"mtime":1701718654194},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\n//const router = routerx();\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", _UserController.default.register);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJyZWdpc3Rlcl9hZG1pbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiBpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlclwiO1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCc7XG5cbi8vY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBodHRwOi8vbG9jYWxob3N0Oi8zMDAwL2FwaS91c2VyL3JlZ2lzdGVyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9hZG1pblwiLCBhdXRoLnZlcmlmeUFkbWluLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCB1c2VyQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsIGF1dGgudmVyaWZ5QWRtaW4sIHVzZXJDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW4pO1xucm91dGVyLnBvc3QoXCIvbG9naW5fYWRtaW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW5fYWRtaW4pO1xuXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLCB1c2VyQ29udHJvbGxlci5yZW1vdmUpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQyxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUQsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRnZDOztBQUlBO0FBQ0EsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7QUFDQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDakRKLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGlCQUFpQixFQUFFRyxhQUFJLENBQUNDLFdBQVcsRUFBRUgsdUJBQWMsQ0FBQ0ksY0FBYyxDQUFDO0FBQy9FUCxNQUFNLENBQUNRLEdBQUcsQ0FBQyxTQUFTLEVBQUVMLHVCQUFjLENBQUNNLE1BQU0sQ0FBQztBQUM1Q1QsTUFBTSxDQUFDVSxHQUFHLENBQUMsT0FBTyxFQUFFTCxhQUFJLENBQUNDLFdBQVcsRUFBRUgsdUJBQWMsQ0FBQ1EsSUFBSSxDQUFDO0FBQzFEWCxNQUFNLENBQUNFLElBQUksQ0FBQyxRQUFRLEVBQUVDLHVCQUFjLENBQUNTLEtBQUssQ0FBQztBQUMzQ1osTUFBTSxDQUFDRSxJQUFJLENBQUMsY0FBYyxFQUFFQyx1QkFBYyxDQUFDVSxXQUFXLENBQUM7QUFFdkRiLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDLFNBQVMsRUFBRVgsdUJBQWMsQ0FBQ1ksTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFsQixPQUFBLEdBRWpDQyxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","userController","register","auth","verifyAdmin","register_admin","put","update","get","list","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["User.js"],"sourcesContent":[" import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport userController from \"../controllers/UserController\";\nimport auth from '../middlewares/auth';\n\n//const router = routerx();\nconst router = routerx();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", userController.register);\nrouter.post(\"/register_admin\", auth.verifyAdmin, userController.register_admin);\nrouter.put(\"/update\", userController.update);\nrouter.get(\"/list\", auth.verifyAdmin, userController.list);\nrouter.post(\"/login\", userController.login);\nrouter.post(\"/login_admin\", userController.login_admin);\n\nrouter.delete(\"/delete\", userController.remove);\n\nexport default router;"],"mappings":";;;;;;AAAC,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAED,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAFvC;;AAIA;AACA,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;AACAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAAEG,aAAI,CAACC,WAAW,EAAEH,uBAAc,CAACI,cAAc,CAAC;AAC/EP,MAAM,CAACQ,GAAG,CAAC,SAAS,EAAEL,uBAAc,CAACM,MAAM,CAAC;AAC5CT,MAAM,CAACU,GAAG,CAAC,OAAO,EAAEL,aAAI,CAACC,WAAW,EAAEH,uBAAc,CAACQ,IAAI,CAAC;AAC1DX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACS,KAAK,CAAC;AAC3CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACU,WAAW,CAAC;AAEvDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAAEX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAEjCC,MAAM"}},"mtime":1700696028050},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// CONEXION A LA BASE DE DATOS.\n_mongoose.default.Promise = global.Promise;\nconst dburl = \"mongodb://localhost:27017/ecommerce_udemy\";\n_mongoose.default.connect(dburl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(mongoose => console.log(\"CONECTADO A LA DB EN EL PUERTO 27017\")).catch(err => console.log(err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extend: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log('EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vbmdvb3NlIiwiUHJvbWlzZSIsImdsb2JhbCIsImRidXJsIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kIiwic3RhdGljIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJyb3V0ZXIiLCJzZXQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImxpc3RlbiIsImdldCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgcm91dGVyIGZyb20gXCIuL3JvdXRlclwiO1xuXG4vLyBDT05FWElPTiBBIExBIEJBU0UgREUgREFUT1MuXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG5jb25zdCBkYnVybCA9IFwibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9lY29tbWVyY2VfdWRlbXlcIjtcbm1vbmdvb3NlLmNvbm5lY3QgKFxuICAgIGRidXJsLCB7XG4gICAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlXG4gICAgfVxuKS50aGVuKG1vbmdvb3NlID0+IGNvbnNvbGUubG9nKFwiQ09ORUNUQURPIEEgTEEgREIgRU4gRUwgUFVFUlRPIDI3MDE3XCIpKVxuLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShjb3JzKCkpO1xuXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHtleHRlbmQ6IHRydWV9KSk7XG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsJ3B1YmxpYycpKSk7XG5hcHAudXNlKCcvYXBpLycsIHJvdXRlcik7XG5cbmFwcC5zZXQoJ3BvcnQnLCBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDApO1xuYXBwLmxpc3RlbihhcHAuZ2V0KCdwb3J0JyksICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnRUwgU0VSVklET1IgU0UgRUpFQ1VUTyBQRVJGRUNUQU1FTlRFIEVOIEVMIFBVRVJUTyAzMDAwJyk7XG59KSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFNLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFOUI7QUFDQUcsaUJBQVEsQ0FBQ0MsT0FBTyxHQUFHQyxNQUFNLENBQUNELE9BQU87QUFDakMsTUFBTUUsS0FBSyxHQUFHLDJDQUEyQztBQUN6REgsaUJBQVEsQ0FBQ0ksT0FBTyxDQUNaRCxLQUFLLEVBQUU7RUFDSEUsZUFBZSxFQUFFLElBQUk7RUFDckJDLGtCQUFrQixFQUFFO0FBQ3hCLENBQ0osQ0FBQyxDQUFDQyxJQUFJLENBQUNQLFFBQVEsSUFBSVEsT0FBTyxDQUFDQyxHQUFHLENBQUMsc0NBQXNDLENBQUMsQ0FBQyxDQUN0RUMsS0FBSyxDQUFDQyxHQUFHLElBQUlILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQztBQUUvQixNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEVBQUMsQ0FBQyxDQUFDO0FBRWZILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCSixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0ksVUFBVSxDQUFDO0VBQUNDLE1BQU0sRUFBRTtBQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzNDTixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ00sTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdERWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBRVMsZUFBTSxDQUFDO0FBRXhCWCxHQUFHLENBQUNZLEdBQUcsQ0FBQyxNQUFNLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJLElBQUksSUFBSSxDQUFDO0FBQ3pDZixHQUFHLENBQUNnQixNQUFNLENBQUNoQixHQUFHLENBQUNpQixHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTTtFQUM5QnJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdEQUF3RCxDQUFDO0FBQ3pFLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","obj","__esModule","default","mongoose","Promise","global","dburl","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extend","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/","sources":["index.js"],"sourcesContent":["import express from \"express\";\nimport cors from \"cors\";\nimport path from \"path\";\nimport mongoose from \"mongoose\";\nimport router from \"./router\";\n\n// CONEXION A LA BASE DE DATOS.\nmongoose.Promise = global.Promise;\nconst dburl = \"mongodb://localhost:27017/ecommerce_udemy\";\nmongoose.connect (\n    dburl, {\n        useNewUrlParser: true,\n        useUnifiedTopology: true\n    }\n).then(mongoose => console.log(\"CONECTADO A LA DB EN EL PUERTO 27017\"))\n.catch(err => console.log(err));\n\nconst app = express();\napp.use(cors());\n\napp.use(express.json());\napp.use(express.urlencoded({extend: true}));\napp.use(express.static(path.join(__dirname,'public')));\napp.use('/api/', router);\n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n    console.log('EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000');\n})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9B;AACAG,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjC,MAAME,KAAK,GAAG,2CAA2C;AACzDH,iBAAQ,CAACI,OAAO,CACZD,KAAK,EAAE;EACHE,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AACxB,CACJ,CAAC,CAACC,IAAI,CAACP,QAAQ,IAAIQ,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC,CAAC,CACtEC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;AAE/B,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AAEfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAACC,MAAM,EAAE;AAAI,CAAC,CAAC,CAAC;AAC3CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC;AACtDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAAES,eAAM,CAAC;AAExBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACzCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAC9BrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACzE,CAAC,CAAC"}},"mtime":1698089710410},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use(\"/users\", _User.default);\nrouter.use(\"/categories\", _Categorie.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInVzZSIsIlVzZXIiLCJDYXRlZ29yaWUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCI7XG5pbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCI7XG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gXCIuL0NhdGVnb3JpZVwiO1xuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5yb3V0ZXIudXNlKFwiL3VzZXJzXCIsIFVzZXIpO1xucm91dGVyLnVzZShcIi9jYXRlZ29yaWVzXCIsIENhdGVnb3JpZSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBb0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFcEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4QkQsTUFBTSxDQUFDRSxHQUFHLENBQUMsUUFBUSxFQUFFQyxhQUFJLENBQUM7QUFDMUJILE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGFBQWEsRUFBRUUsa0JBQVMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBUCxPQUFBLEdBRXRCQyxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","obj","__esModule","default","router","routerx","use","User","Categorie","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\";\nimport User from \"./User\";\nimport Categorie from \"./Categorie\";\n\nconst router = routerx();\nrouter.use(\"/users\", User);\nrouter.use(\"/categories\", Categorie);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEpC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAP,OAAA,GAEtBC,MAAM"}},"mtime":1698617510840},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\n//const router = routerx();\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", _UserController.default.register);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJyZWdpc3Rlcl9hZG1pbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiBpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlclwiO1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCc7XG5cbi8vY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBodHRwOi8vbG9jYWxob3N0Oi8zMDAwL2FwaS91c2VyL3JlZ2lzdGVyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9hZG1pblwiLCBhdXRoLnZlcmlmeUFkbWluLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCB1c2VyQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsIGF1dGgudmVyaWZ5QWRtaW4sIHVzZXJDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW4pO1xucm91dGVyLnBvc3QoXCIvbG9naW5fYWRtaW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW5fYWRtaW4pO1xuXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLCB1c2VyQ29udHJvbGxlci5yZW1vdmUpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQyxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUQsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRnZDOztBQUlBO0FBQ0EsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7QUFDQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDakRKLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGlCQUFpQixFQUFFRyxhQUFJLENBQUNDLFdBQVcsRUFBRUgsdUJBQWMsQ0FBQ0ksY0FBYyxDQUFDO0FBQy9FUCxNQUFNLENBQUNRLEdBQUcsQ0FBQyxTQUFTLEVBQUVMLHVCQUFjLENBQUNNLE1BQU0sQ0FBQztBQUM1Q1QsTUFBTSxDQUFDVSxHQUFHLENBQUMsT0FBTyxFQUFFTCxhQUFJLENBQUNDLFdBQVcsRUFBRUgsdUJBQWMsQ0FBQ1EsSUFBSSxDQUFDO0FBQzFEWCxNQUFNLENBQUNFLElBQUksQ0FBQyxRQUFRLEVBQUVDLHVCQUFjLENBQUNTLEtBQUssQ0FBQztBQUMzQ1osTUFBTSxDQUFDRSxJQUFJLENBQUMsY0FBYyxFQUFFQyx1QkFBYyxDQUFDVSxXQUFXLENBQUM7QUFFdkRiLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDLFNBQVMsRUFBRVgsdUJBQWMsQ0FBQ1ksTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFsQixPQUFBLEdBRWpDQyxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","userController","register","auth","verifyAdmin","register_admin","put","update","get","list","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["User.js"],"sourcesContent":[" import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport userController from \"../controllers/UserController\";\nimport auth from '../middlewares/auth';\n\n//const router = routerx();\nconst router = routerx();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", userController.register);\nrouter.post(\"/register_admin\", auth.verifyAdmin, userController.register_admin);\nrouter.put(\"/update\", userController.update);\nrouter.get(\"/list\", auth.verifyAdmin, userController.list);\nrouter.post(\"/login\", userController.login);\nrouter.post(\"/login_admin\", userController.login_admin);\n\nrouter.delete(\"/delete\", userController.remove);\n\nexport default router;"],"mappings":";;;;;;AAAC,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAED,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAFvC;;AAIA;AACA,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;AACAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAAEG,aAAI,CAACC,WAAW,EAAEH,uBAAc,CAACI,cAAc,CAAC;AAC/EP,MAAM,CAACQ,GAAG,CAAC,SAAS,EAAEL,uBAAc,CAACM,MAAM,CAAC;AAC5CT,MAAM,CAACU,GAAG,CAAC,OAAO,EAAEL,aAAI,CAACC,WAAW,EAAEH,uBAAc,CAACQ,IAAI,CAAC;AAC1DX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACS,KAAK,CAAC;AAC3CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACU,WAAW,CAAC;AAEvDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAAEX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAEjCC,MAAM"}},"mtime":1700696028050},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register_admin: async (req, res) => {\n    try {\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"El usuario que intentas registrar ya exsite.\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register_admin - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": RegExp(search, \"i\")\n        }, {\n          \"surname\": RegExp(search, \"i\")\n        }, {\n          \"email\": RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYmNyeXB0anMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3Rlcl9hZG1pbiIsInJlcSIsInJlcyIsInVzZXJWIiwibW9kZWxzIiwiVXNlciIsImZpbmRPbmUiLCJlbWFpbCIsImJvZHkiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInJvbCIsInBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsInVzZXIiLCJjcmVhdGUiLCJqc29uIiwicmVzb3VyY2VzIiwidXNlcl9saXN0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXIiLCJsb2dpbiIsInN0YXRlIiwiY29tcGFyZSIsInRva2VuVCIsInRva2VuIiwiZW5jb2RlIiwiX2lkIiwiVVNFUl9GUk9OVEVEIiwibmFtZSIsInN1cm5hbWUiLCJhdmF0YXIiLCJsb2dpbl9hZG1pbiIsInVwZGF0ZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiVXNlclQiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJVc2VycyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlcnMiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHRva2VuIGZyb20gXCIuLi9zZXJ2aWNlcy90b2tlblwiO1xuaW1wb3J0IHJlc291cmNlcyBmcm9tIFwiLi4vcmVzb3VyY2VzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZWdpc3Rlcl9hZG1pbjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJWID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsfSk7XG4gICAgICAgICAgICBpZiAodXNlclYpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRWwgdXN1YXJpbyBxdWUgaW50ZW50YXMgcmVnaXN0cmFyIHlhIGV4c2l0ZS5cIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXEuYm9keS5yb2wgPSBcImFkbWluXCI7XG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICBsZXQgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2VzLlVzZXIudXNlcl9saXN0KHVzZXIpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgcmVnaXN0ZXJfYWRtaW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXIpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciByZWdpc3RlciAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsb2dpbjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWwsIHN0YXRlOjF9KTtcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgLy8gU0kgRVNUw4EgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BXG4gICAgICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCwgdXNlci5yb2wsIHVzZXIuZW1haWwpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW5ULFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVTRVJfRlJPTlRFRDpVU0VSX0ZST05URURcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbG9naW5fYWRtaW46IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLCBzdGF0ZToxLCByb2w6XCJhZG1pblwifSk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIC8vIFNJIEVTVMOBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wYXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsIHVzZXIucm9sLCB1c2VyLmVtYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2VuVCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sOiB1c2VyLnJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVEXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxLmJvZHkucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6cmVxLmJvZHkuX2lkfSwgcmVxLmJvZHkpO1xuICAgICAgICAgICAgbGV0IFVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdChVc2VyVCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGlzdDogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xuICAgICAgICAgICAgbGV0IFVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XG4gICAgICAgICAgICAgICAgJG9yOltcbiAgICAgICAgICAgICAgICAgICAge1wibmFtZVwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgICAgICB7XCJzdXJuYW1lXCI6IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImVtYWlsXCI6IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XG5cbiAgICAgICAgICAgIFVzZXJzID0gVXNlcnMubWFwKCh1c2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgdXNlcnM6IFVzZXJzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOw5MgQ09SUkVDVEFNRU5URVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFxQyxTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRXRCO0VBQ1hHLGNBQWMsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUMvQixJQUFJO01BQ0EsTUFBTUMsS0FBSyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixHQUFHLENBQUNPLElBQUksQ0FBQ0Q7TUFBSyxDQUFDLENBQUM7TUFDaEUsSUFBSUosS0FBSyxFQUFFO1FBQ1BELEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO01BRUFWLEdBQUcsQ0FBQ08sSUFBSSxDQUFDSSxH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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_bcryptjs","_token","_resources","obj","__esModule","default","_default","exports","register_admin","req","res","userV","models","User","findOne","email","body","status","send","message","rol","password","bcrypt","hash","user","create","json","resources","user_list","error","console","log","register","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";\n\nexport default {\n    register_admin: async(req, res) => {\n        try {\n            const userV = await models.User.findOne({email: req.body.email});\n            if (userV) {\n                res.status(500).send({\n                    message: \"El usuario que intentas registrar ya exsite.\"\n                });\n            }\n\n            req.body.rol = \"admin\";\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            let user = await models.User.create(req.body);\n            res.status(200).json({\n                user: resources.User.user_list(user)\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register_admin - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    register: async(req, res) => {\n        try {\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            const user = await models.User.create(req.body);\n            res.status(200).json(user);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    login: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    login_admin: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1, rol:\"admin\"});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar,\n                            rol: user.rol,\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n\n    update: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.avatar.path;\n                var name = img_path.split('\\\\');\n                var avatar_name = name[2];\n                console.log(avatar_name);\n            }\n            if (req.body.password) {\n                req.body.password = await bcrypt.hash(req.body.password, 10);\n            }\n\n            await models.User.findByIdAndUpdate({_id:req.body._id}, req.body);\n            let UserT = await models.User.findOne({_id:req.body._id});\n\n            res.status(200).json({\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n                user: resources.User.user_list(UserT),\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            let Users = await models.User.find({\n                $or:[\n                    {\"name\": RegExp(search, \"i\")},\n                    {\"surname\": RegExp(search, \"i\")},\n                    {\"email\": RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            Users = Users.map((user) => {\n                return resources.User.user_list(user);\n            });\n\n            res.status(200).json({\n                users: Users\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            const User = await models.User.findByIdAndDelete({_id: req.query._id});\n            res.status(200).json({\n                message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,MAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,UAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEtB;EACXG,cAAc,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,KAAK;IAC/B,IAAI;MACA,MAAMC,KAAK,GAAG,MAAMC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,GAAG,CAACO,IAAI,CAACD;MAAK,CAAC,CAAC;MAChE,IAAIJ,KAAK,EAAE;QACPD,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;MAEAV,GAAG,CAACO,IAAI,CAACI,GAAG,GAAG,OAAO;MACtBX,GAAG,CAACO,IAAI,CAACK,QAAQ,GAAG,MAAMC,iBAAM,CAACC,IAAI,CAACd,GAAG,CAACO,IAAI,CAACK,QAAQ,EAAE,EAAE,CAAC;MAC5D,IAAIG,IAAI,GAAG,MAAMZ,eAAM,CAACC,IAAI,CAACY,MAAM,CAAChB,GAAG,CAACO,IAAI,CAAC;MAC7CN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAAC;QACjBF,IAAI,EAAEG,kBAAS,CAACd,IAAI,CAACe,SAAS,CAACJ,IAAI;MACvC,CAAC,CAAC;IACN,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZnB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFW,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACJ,CAAC;EACDG,QAAQ,EAAE,MAAAA,CAAMvB,GAAG,EAAEC,GAAG,KAAK;IACzB,IAAI;MACAD,GAAG,CAACO,IAAI,CAACK,QAAQ,GAAG,MAAMC,iBAAM,CAACC,IAAI,CAACd,GAAG,CAACO,IAAI,CAACK,QAAQ,EAAE,EAAE,CAAC;MAC5D,MAAMG,IAAI,GAAG,MAAMZ,eAAM,CAACC,IAAI,CAACY,MAAM,CAAChB,GAAG,CAACO,IAAI,CAAC;MAC/CN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAACF,IAAI,CAAC;IAC9B,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZnB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFW,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACJ,CAAC;EACDI,KAAK,EAAE,MAAAA,CAAMxB,GAAG,EAAEC,GAAG,KAAK;IACtB,IAAI;MACA,MAAMc,IAAI,GAAG,MAAMZ,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,GAAG,CAACO,IAAI,CAACD,KAAK;QAAEmB,KAAK,EAAC;MAAC,CAAC,CAAC;MACxE,IAAIV,IAAI,EAAE;QACN;QACA,IAAIW,OAAO,GAAG,MAAMb,iBAAM,CAACa,OAAO,CAAC1B,GAAG,CAACO,IAAI,CAACK,QAAQ,EAAEG,IAAI,CAACH,QAAQ,CAAC;QACpE,IAAIc,OAAO,EAAE;UACT,IAAIC,MAAM,GAAG,MAAMC,cAAK,CAACC,MAAM,CAACd,IAAI,CAACe,GAAG,EAAEf,IAAI,CAACJ,GAAG,EAAEI,IAAI,CAACT,KAAK,CAAC;UAC/D,MAAMyB,YAAY,GAAG;YACjBH,KAAK,EAAED,MAAM;YACbZ,IAAI,EAAE;cACFiB,IAAI,EAAEjB,IAAI,CAACiB,IAAI;cACf1B,KAAK,EAAES,IAAI,CAACT,KAAK;cACjB2B,OAAO,EAAElB,IAAI,CAACkB,OAAO;cACrBC,MAAM,EAAEnB,IAAI,CAACmB;YACjB;UACJ,CAAC;UACDjC,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAAC;YACjBc,YAAY,EAACA;UACjB,CAAC,CAAC;QACN,CAAC,MAAM;UACH9B,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBC,OAAO,EAAE;UACb,CAAC,CAAC;QACN;MACJ,CAAC,MAAM;QACHT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,CAAC,OAAOU,KAAK,EAAE;MACZnB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFW,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACJ,CAAC;EACDe,WAAW,EAAE,MAAAA,CAAMnC,GAAG,EAAEC,GAAG,KAAK;IAC5B,IAAI;MACA,MAAMc,IAAI,GAAG,MAAMZ,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,GAAG,CAACO,IAAI,CAACD,KAAK;QAAEmB,KAAK,EAAC,CAAC;QAAEd,GAAG,EAAC;MAAO,CAAC,CAAC;MACrF,IAAII,IAAI,EAAE;QACN;QACA,IAAIW,OAAO,GAAG,MAAMb,iBAAM,CAACa,OAAO,CAAC1B,GAAG,CAACO,IAAI,CAACK,QAAQ,EAAEG,IAAI,CAACH,QAAQ,CAAC;QACpE,IAAIc,OAAO,EAAE;UACT,IAAIC,MAAM,GAAG,MAAMC,cAAK,CAACC,MAAM,CAACd,IAAI,CAACe,GAAG,EAAEf,IAAI,CAACJ,GAAG,EAAEI,IAAI,CAACT,KAAK,CAAC;UAC/D,MAAMyB,YAAY,GAAG;YACjBH,KAAK,EAAED,MAAM;YACbZ,IAAI,EAAE;cACFiB,IAAI,EAAEjB,IAAI,CAACiB,IAAI;cACf1B,KAAK,EAAES,IAAI,CAACT,KAAK;cACjB2B,OAAO,EAAElB,IAAI,CAACkB,OAAO;cACrBC,MAAM,EAAEnB,IAAI,CAACmB,MAAM;cACnBvB,GAAG,EAAEI,IAAI,CAACJ;YACd;UACJ,CAAC;UACDV,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAAC;YACjBc,YAAY,EAACA;UACjB,CAAC,CAAC;QACN,CAAC,MAAM;UACH9B,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBC,OAAO,EAAE;UACb,CAAC,CAAC;QACN;MACJ,CAAC,MAAM;QACHT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,CAAC,OAAOU,KAAK,EAAE;MACZnB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFW,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACJ,CAAC;EAEDgB,MAAM,EAAE,MAAAA,CAAMpC,GAAG,EAAEC,GAAG,KAAK;IACvB,IAAI;MACA,IAAID,GAAG,CAACqC,KAAK,EAAE;QACX,IAAIC,QAAQ,GAAGtC,GAAG,CAACqC,KAAK,CAACH,MAAM,CAACK,IAAI;QACpC,IAAIP,IAAI,GAAGM,QAAQ,CAACE,KAAK,CAAC,IAAI,CAAC;QAC/B,IAAIC,WAAW,GAAGT,IAAI,CAAC,CAAC,CAAC;QACzBX,OAAO,CAACC,GAAG,CAACmB,WAAW,CAAC;MAC5B;MACA,IAAIzC,GAAG,CAACO,IAAI,CAACK,QAAQ,EAAE;QACnBZ,GAAG,CAACO,IAAI,CAACK,QAAQ,GAAG,MAAMC,iBAAM,CAACC,IAAI,CAACd,GAAG,CAACO,IAAI,CAACK,QAAQ,EAAE,EAAE,CAAC;MAChE;MAEA,MAAMT,eAAM,CAACC,IAAI,CAACsC,iBAAiB,CAAC;QAACZ,GAAG,EAAC9B,GAAG,CAACO,IAAI,CAACuB;MAAG,CAAC,EAAE9B,GAAG,CAACO,IAAI,CAAC;MACjE,IAAIoC,KAAK,GAAG,MAAMxC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACyB,GAAG,EAAC9B,GAAG,CAACO,IAAI,CAACuB;MAAG,CAAC,CAAC;MAEzD7B,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAAC;QACjBP,OAAO,EAAE,2CAA2C;QACpDK,IAAI,EAAEG,kBAAS,CAACd,IAAI,CAACe,SAAS,CAACwB,KAAK;MACxC,CAAC,CAAC;IACN,CAAC,CAAC,OAAOvB,KAAK,EAAE;MACZnB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFW,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACJ,CAAC;EACDwB,IAAI,EAAE,MAAAA,CAAM5C,GAAG,EAAEC,GAAG,KAAK;IACrB,IAAI;MACA,IAAI4C,MAAM,GAAG7C,GAAG,CAAC8C,KAAK,CAACD,MAAM;MAC7B,IAAIE,KAAK,GAAG,MAAM5C,eAAM,CAACC,IAAI,CAAC4C,IAAI,CAAC;QAC/BC,GAAG,EAAC,CACA;UAAC,MAAM,EAAEC,MAAM,CAACL,MAAM,EAAE,GAAG;QAAC,CAAC,EAC7B;UAAC,SAAS,EAAEK,MAAM,CAACL,MAAM,EAAE,GAAG;QAAC,CAAC,EAChC;UAAC,OAAO,EAAEK,MAAM,CAACL,MAAM,EAAE,GAAG;QAAC,CAAC;MAEtC,CAAC,CAAC,CAACM,IAAI,CAAC;QAAC,WAAW,EAAE,CAAC;MAAC,CAAC,CAAC;MAE1BJ,KAAK,GAAGA,KAAK,CAACK,GAAG,CAAErC,IAAI,IAAK;QACxB,OAAOG,kBAAS,CAACd,IAAI,CAACe,SAAS,CAACJ,IAAI,CAAC;MACzC,CAAC,CAAC;MAEFd,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAAC;QACjBoC,KAAK,EAAEN;MACX,CAAC,CAAC;IACN,CAAC,CAAC,OAAO3B,KAAK,EAAE;MACZnB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFW,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACJ,CAAC;EACDkC,MAAM,EAAE,MAAAA,CAAMtD,GAAG,EAAEC,GAAG,KAAK;IACvB,IAAI;MACA,MAAMG,IAAI,GAAG,MAAMD,eAAM,CAACC,IAAI,CAACmD,iBAAiB,CAAC;QAACzB,GAAG,EAAE9B,GAAG,CAAC8C,KAAK,CAAChB;MAAG,CAAC,CAAC;MACtE7B,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAAC;QACjBP,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOU,KAAK,EAAE;MACZnB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFW,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC"}},"mtime":1700696027897},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1ZhcmllZGFkIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlZhcmllZGFkIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCI7XG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gXCIuL0NhdGVnb3JpZVwiO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4vUHJvZHVjdFwiO1xuaW1wb3J0IFZhcmllZGFkIGZyb20gXCIuL1ZhcmllZGFkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBVc2VyLFxuICAgIENhdGVnb3JpZSxcbiAgICBQcm9kdWN0LFxuICAgIFZhcmllZGFkXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxRQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBa0MsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVuQjtFQUNYRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQSxrQkFBUztFQUNUQyxPQUFPLEVBQVBBLGdCQUFPO0VBQ1BDLFFBQVEsRUFBUkE7QUFDSixDQUFDIn0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","_Product","_Variedad","obj","__esModule","default","_default","exports","User","Categorie","Product","Variedad"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["index.js"],"sourcesContent":["import User from \"./User\";\nimport Categorie from \"./Categorie\";\nimport Product from \"./Product\";\nimport Variedad from \"./Variedad\";\n\nexport default {\n    User,\n    Categorie,\n    Product,\n    Variedad\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEnB;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA;AACJ,CAAC"}},"mtime":1701028540746},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es des activo.\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwic3RhdGUiLCJOdW1iZXIiLCJwaG9uZSIsImJpcnRoZGF5IiwidGltZXN0YW1wcyIsIlVzZXIiLCJtb29uZ29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb29uZ29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICByb2w6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjMwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBuYW1lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIHN1cm5hbWU6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGVtYWlsOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWUsIHVuaXF1ZTp0cnVlfSxcbiAgICBwYXNzd29yZDp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBhdmF0YXI6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHN0YXRlOnt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6MX0sIC8vIDEgZXMgYWN0aXZvIHkgMiBlcyBkZXMgYWN0aXZvLlxuICAgIHBob25lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGJpcnRoZGF5Ont0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxufSx7XG4gICAgdGltZXN0YW1wczogdHJ1ZVxufSk7XG5cbmNvbnN0IFVzZXIgPSBtb29uZ29zZS5tb2RlbChcInVzZXJcIiwgVXNlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","required","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","moongose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["User.js"],"sourcesContent":["import moongose, {Schema} from \"mongoose\";\n\nconst UserSchema = new Schema({\n    rol:{type: String, maxlength:30, required:true},\n    name:{type: String, maxlength:250, required:true},\n    surname:{type: String, maxlength:250, required:false},\n    email:{type: String, maxlength:250, required:true, unique:true},\n    password:{type: String, maxlength:250, required:true},\n    avatar:{type: String, maxlength:250, required:false},\n    state:{type: Number, default:1}, // 1 es activo y 2 es des activo.\n    phone:{type: String, maxlength:20, required:false},\n    birthday:{type: String, maxlength:20, required:false},\n},{\n    timestamps: true\n});\n\nconst User = moongose.model(\"user\", UserSchema);\nexport default User;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMY,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC/CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACjDE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACrDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC,IAAI;IAAEI,MAAM,EAAC;EAAI,CAAC;EAC/DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACpDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAAE7B,OAAO,EAAC;EAAC,CAAC;EAAE;EACjC8B,KAAK,EAAC;IAACZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK,CAAC;EAClDU,QAAQ,EAAC;IAACb,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK;AACxD,CAAC,EAAC;EACEW,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAArC,OAAA,GACjCiC,IAAI"}},"mtime":1700696027899},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = exports.default = Categorie;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNhdGVnb3JpZSIsIm1vb25nb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9vbmdvc2UsIHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDYXRlZ29yaWVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICB0aXRsZTp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBpbWFnZW46e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXG4gICAgc3RhdGU6e3R5cGU6IE51bWJlciwgbWF4bGVuZ3RoOjIsIGRlZmF1bHQ6MX0sXG59LHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlXG59KTtcblxuY29uc3QgQ2F0ZWdvcmllID0gbW9vbmdvc2UubW9kZWwoXCJjYXRlZ29yaWVcIiwgQ2F0ZWdvcmllU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3JpZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsSUFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBakIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFJLENBQUEsR0FBQVIsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBSSxDQUFBLEtBQUFBLENBQUEsQ0FBQVgsR0FBQSxJQUFBVyxDQUFBLENBQUFDLEdBQUEsSUFBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBSSxDQUFBLElBQUFWLENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFnQixHQUFBLENBQUFuQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUUxQyxNQUFNWSxlQUFlLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUMvQkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xEQyxNQUFNLEVBQUM7SUFBQ0osSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkRFLEtBQUssRUFBQztJQUFDTCxJQUFJLEVBQUVNLE1BQU07SUFBRUosU0FBUyxFQUFDLENBQUM7SUFBRXBCLE9BQU8sRUFBQztFQUFDO0FBQy9DLENBQUMsRUFBQztFQUNFeUIsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLFNBQVMsR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFdBQVcsRUFBRWIsZUFBZSxDQUFDO0FBQUMsSUFBQWMsUUFBQSxHQUFBQyxPQUFBLENBQUE5QixPQUFBLEdBQ2hEMEIsU0FBUyJ9","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categorie","moongose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["Categorie.js"],"sourcesContent":["import moongose, {Schema} from \"mongoose\";\n\nconst CategorieSchema = new Schema({\n    title:{type: String, maxlength:250, required:true},\n    imagen:{type: String, maxlength:250, required:true},\n    state:{type: Number, maxlength:2, default:1},\n},{\n    timestamps: true\n});\n\nconst Categorie = moongose.model(\"categorie\", CategorieSchema);\nexport default Categorie;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMY,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAC/BC,KAAK,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDC,MAAM,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnDE,KAAK,EAAC;IAACL,IAAI,EAAEM,MAAM;IAAEJ,SAAS,EAAC,CAAC;IAAEpB,OAAO,EAAC;EAAC;AAC/C,CAAC,EAAC;EACEyB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAAEb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAChD0B,SAAS"}},"mtime":1700696027899},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_udemy', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      /**\n       * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n       * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n       * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n       * \n       * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n       * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n       */\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_udemy');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(\"Debbug - token.js: \", error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbInRva2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZW5jb2RlOiBhc3luYyhfaWQsIHJvbCwgZW1haWwpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7X2lkOiBfaWQsIHJvbDpyb2wsIGVtYWlsOmVtYWlsfSwgJ2Vjb21tZXJjZV91ZGVteScsIHtleHBpcmVzSW46ICcxZCd9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgZGVjb2RlOiBhc3luYyh0b2tlbikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPQlRFTkVSIEVMIF9pZCBERUwgUEFZTE9BRCBWRVJJRklDQURPLlxuICAgICAgICAgICAgICogTFVFR08gU0UgQlVTQ0EgRVNBIENPTEVDQ0lPTiBFTiBFTCBNT0RFTFMgVVNFUlMgWSBERVNQVUVTIERFIFZFUklGSUNBIFxuICAgICAgICAgICAgICogUVVFIFNJIEVTVMOBIEVOIFVOIEVTVEFETyBBQ1RJVk8uXG4gICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAqIFkgU0kgRUwgVVNVQVJJTyBTSSBFWElTVEUsIFBVRVMgU0UgUkVUT1JOQSBFU0UgVVNVQVJJTy5cbiAgICAgICAgICAgICAqIEVOIENBU08gREUgUVVFIE5PIEVYSVNUQSwgU0UgUkVUT1JNQSBGQUxTRS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3Qge19pZH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCAnZWNvbW1lcmNlX3VkZW15Jyk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiBfaWQsIHN0YXRlOiAxfSk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEZWJidWcgLSB0b2tlbi5qczogXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVoQjtFQUNYRyxNQUFNLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssS0FBSztJQUM5QixNQUFNQyxLQUFLLEdBQUdDLHFCQUFHLENBQUNDLElBQUksQ0FBQztNQUFDTCxHQUFHLEVBQUVBLEdBQUc7TUFBRUMsR0FBRyxFQUFDQSxHQUFHO01BQUVDLEtBQUssRUFBQ0E7SUFBSyxDQUFDLEVBQUUsaUJBQWlCLEVBQUU7TUFBQ0ksU0FBUyxFQUFFO0lBQUksQ0FBQyxDQUFDO0lBQzlGLE9BQU9ILEtBQUs7RUFDaEIsQ0FBQztFQUNESSxNQUFNLEVBQUUsTUFBTUosS0FBSyxJQUFLO0lBQ3BCLElBQUk7TUFDQTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO01BQ1ksTUFBTTtRQUFDSDtNQUFHLENBQUMsR0FBRyxNQUFNSSxxQkFBRyxDQUFDSSxNQUFNLENBQUNMLEtBQUssRUFBRSxpQkFBaUIsQ0FBQztNQUN4RCxNQUFNTSxJQUFJLEdBQUdDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ1osR0FBRyxFQUFFQSxHQUFHO1FBQUVhLEtBQUssRUFBRTtNQUFDLENBQUMsQ0FBQztNQUN0RCxJQUFJSixJQUFJLEVBQUU7UUFDTixPQUFPQSxJQUFJO01BQ2Y7TUFDQSxPQUFPLEtBQUs7SUFDaEIsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRUYsS0FBSyxDQUFDO01BQ3pDLE9BQU8sS0FBSztJQUNoQjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\nimport models from '../models';\n\nexport default {\n    encode: async(_id, rol, email) => {\n        const token = jwt.sign({_id: _id, rol:rol, email:email}, 'ecommerce_udemy', {expiresIn: '1d'});\n        return token;\n    },\n    decode: async(token) => {\n        try {\n            /**\n             * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n             * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n             * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n             * \n             * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n             * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n             */\n            const {_id} = await jwt.verify(token, 'ecommerce_udemy');\n            const user = models.User.findOne({_id: _id, state: 1});\n            if (user) {\n                return user;\n            }\n            return false;\n        } catch (error) {\n            console.log(\"Debbug - token.js: \", error);\n            return false;\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACXG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAK;IAC9B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAAEA,GAAG;MAAEC,GAAG,EAACA,GAAG;MAAEC,KAAK,EAACA;IAAK,CAAC,EAAE,iBAAiB,EAAE;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IAC9F,OAAOH,KAAK;EAChB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;MACY,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,iBAAiB,CAAC;MACxD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAAEa,KAAK,EAAE;MAAC,CAAC,CAAC;MACtD,IAAIJ,IAAI,EAAE;QACN,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEF,KAAK,CAAC;MACzC,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC"}},"mtime":1700696028062},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvcmVzb3VyY2VzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJztcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIFVzZXIsXG4gICAgQ2F0ZWdvcmllLFxuICAgIFByb2R1Y3Rcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRWpCO0VBQ1hHLElBQUksRUFBSkEsYUFBSTtFQUNKQyxTQUFTLEVBQVRBLGtCQUFTO0VBQ1RDLE9BQU8sRUFBUEE7QUFDSixDQUFDIn0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","_Product","obj","__esModule","default","_default","exports","User","Categorie","Product"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["index.js"],"sourcesContent":["import User from './User';\nimport Categorie from './Categorie';\nimport Product from './Product';\n\nexport default {\n    User,\n    Categorie,\n    Product\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEjB;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA;AACJ,CAAC"}},"mtime":1701096238553},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsImF2YXRhciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvcmVzb3VyY2VzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgdXNlcl9saXN0OiAodXNlcikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFSCxJQUFJLENBQUNHLE9BQU87TUFDckJDLEtBQUssRUFBRUosSUFBSSxDQUFDSSxLQUFLO01BQ2pCQyxNQUFNLEVBQUVMLElBQUksQ0FBQ0s7SUFDakIsQ0FBQztFQUNMO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["user_list","user","_id","name","surname","email","avatar"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["User.js"],"sourcesContent":["export default {\n    user_list: (user) => {\n        return {\n            _id: user._id,\n            name: user.name,\n            surname: user.surname,\n            email: user.email,\n            avatar: user.avatar\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IACjB,CAAC;EACL;AACJ,CAAC"}},"mtime":1700696028048},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL3Jlc291cmNlcy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgY2F0ZWdvcmllX2xpc3Q6IChjYXRlZ29yaWUpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9pZDogY2F0ZWdvcmllLl9pZCxcbiAgICAgICAgICAgIHRpdGxlOiBjYXRlZ29yaWUudGl0bGUsXG4gICAgICAgICAgICBpbWFnZW46IGNhdGVnb3JpZS5pbWFnZW4sXG4gICAgICAgICAgICBzdGF0ZTogY2F0ZWdvcmllLnN0YXRlLFxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLGNBQWMsRUFBR0MsU0FBUyxJQUFLO0lBQzNCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxTQUFTLENBQUNDLEdBQUc7TUFDbEJDLEtBQUssRUFBRUYsU0FBUyxDQUFDRSxLQUFLO01BQ3RCQyxNQUFNLEVBQUVILFNBQVMsQ0FBQ0csTUFBTTtNQUN4QkMsS0FBSyxFQUFFSixTQUFTLENBQUNJO0lBQ3JCLENBQUM7RUFDTDtBQUNKLENBQUMifQ==","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","state"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["Categorie.js"],"sourcesContent":["export default {\n    categorie_list: (categorie) => {\n        return {\n            _id: categorie._id,\n            title: categorie.title,\n            imagen: categorie.imagen,\n            state: categorie.state,\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,cAAc,EAAGC,SAAS,IAAK;IAC3B,OAAO;MACHC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,KAAK,EAAEJ,SAAS,CAACI;IACrB,CAAC;EACL;AACJ,CAAC"}},"mtime":1700696028047},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwidmVyaWZ5RWNvbW1lcmNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlcnMiLCJ0b2tlbiIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJkZWNvZGUiLCJyb2wiLCJ2ZXJpZnlBZG1pbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJjbGllbnRlXCIgfHwgcmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIikge1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gRVNUw4EgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFTCBUT0tFTiBOTyBFUyBWQUxJRE8nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdmVyaWZ5QWRtaW46IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKSB7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBFU1TDgSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEEsIFBPUlFVRSBFUkVTIFVOIENMSUVOVCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgVE9LRU4gTk8gRVMgVkFMSURPJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFdkI7RUFDWEcsZUFBZSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDdEMsSUFBSSxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFFO01BQ3BCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFJSSxRQUFRLEVBQUU7TUFDVixJQUFJQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxTQUFTLElBQUlGLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBRTtRQUN0RFIsSUFBSSxDQUFDLENBQUM7TUFDVixDQUFDLE1BQU07UUFDSEQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFFO1FBQ2IsQ0FBQyxDQUFDO01BQ047SUFDSixDQUFDLE1BQU07TUFDSE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RJLFdBQVcsRUFBRSxNQUFBQSxDQUFNWCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0lBQ2xDLElBQUksQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBRTtNQUNwQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBSUksUUFBUSxFQUFFO01BQ1YsSUFBSUEsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFFO1FBQ3pCUixJQUFJLENBQUMsQ0FBQztNQUNWLENBQUMsTUFBTTtRQUNIRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsTUFBTTtNQUNITixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/middlewares/","sources":["auth.js"],"sourcesContent":["import token from '../services/token';\n\nexport default {\n    verifyEcommerce: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"cliente\" || response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n    verifyAdmin: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEvB;EACXG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACtC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACtDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IAClC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACzBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC"}},"mtime":1700696027898},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.getImage);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJjYXRlZ29yaWVDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwiZ2V0SW1hZ2UiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGNhdGVnb3JpZUNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL0NhdGVnb3JpZUNvbnRyb2xsZXJcIjtcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnO1xuaW1wb3J0IG11bHRpcGFydHkgZnJvbSBcImNvbm5lY3QtbXVsdGlwYXJ0eVwiO1xuXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjogJy4vdXBsb2Fkcy9jYXRlZ29yaWUnfSk7XG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgY2F0ZWdvcmllQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sIGNhdGVnb3JpZUNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLCBhdXRoLnZlcmlmeUFkbWluLCBjYXRlZ29yaWVDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgYXV0aC52ZXJpZnlBZG1pbiwgY2F0ZWdvcmllQ29udHJvbGxlci5yZW1vdmUpO1xuXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvY2F0ZWdvcmllLzppbWdcIiwgY2F0ZWdvcmllQ29udHJvbGxlci5nZXRJbWFnZSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBQyxvQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUE0QyxTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUg1Qzs7QUFLQSxJQUFJRyxJQUFJLEdBQUcsSUFBQUMsMEJBQVUsRUFBQztFQUFDQyxTQUFTLEVBQUU7QUFBcUIsQ0FBQyxDQUFDO0FBQ3pELE1BQU1DLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDRCQUFtQixDQUFDQyxRQUFRLENBQUM7QUFDaEZOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDRCQUFtQixDQUFDRyxNQUFNLENBQUM7QUFDM0VSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDRCQUFtQixDQUFDSyxJQUFJLENBQUM7QUFDL0RWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBRVIsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDRCQUFtQixDQUFDTyxNQUFNLENBQUM7QUFFdEVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHlCQUF5QixFQUFFSiw0QkFBbUIsQ0FBQ1EsUUFBUSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFuQixPQUFBLEdBRXJESSxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categorieController","register","put","update","get","list","delete","remove","getImage","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["Categorie.js"],"sourcesContent":["import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport categorieController from \"../controllers/CategorieController\";\nimport auth from '../middlewares/auth';\nimport multiparty from \"connect-multiparty\";\n\nvar path = multiparty({uploadDir: './uploads/categorie'});\nconst router = routerx();\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], categorieController.register);\nrouter.put(\"/update\", [auth.verifyAdmin, path], categorieController.update);\nrouter.get(\"/list\", auth.verifyAdmin, categorieController.list);\nrouter.delete(\"/delete\", auth.verifyAdmin, categorieController.remove);\n\nrouter.get(\"/uploads/categorie/:img\", categorieController.getImage);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAH5C;;AAKA,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAqB,CAAC,CAAC;AACzD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACC,QAAQ,CAAC;AAChFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAE,CAACJ,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACG,MAAM,CAAC;AAC3ER,MAAM,CAACS,GAAG,CAAC,OAAO,EAAEN,aAAI,CAACC,WAAW,EAAEC,4BAAmB,CAACK,IAAI,CAAC;AAC/DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAAER,aAAI,CAACC,WAAW,EAAEC,4BAAmB,CAACO,MAAM,CAAC;AAEtEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAAEJ,4BAAmB,CAACQ,QAAQ,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAErDI,MAAM"}},"mtime":1700699996867},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/*import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";*/\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name);\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resources.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resources.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  getImage: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController getImage - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBvcnRhZGEiLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwiYm9keSIsImltYWdlbiIsImNhdGVnb3JpZSIsIm1vZGVscyIsIkNhdGVnb3JpZSIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwiQ2F0ZWdvcmllVCIsImZpbmRPbmUiLCJyZXNvdXJjZXMiLCJjYXRlZ29yaWVfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIkNhdGVnb3JpZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJjYXRlZ29yaWVzIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJnZXRJbWFnZSIsImltZyIsInBhcmFtcyIsImZzIiwic3RhdCIsImVyciIsInBhdGhfaW1nIiwic2VuZEZpbGUiLCJyZXNvbHZlIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyppbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHRva2VuIGZyb20gXCIuLi9zZXJ2aWNlcy90b2tlblwiO1xuaW1wb3J0IHJlc291cmNlcyBmcm9tIFwiLi4vcmVzb3VyY2VzXCI7Ki9cblxuaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgcmVzb3VyY2VzIGZyb20gXCIuLi9yZXNvdXJjZXNcIjtcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICBcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyZXEuZmlsZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yaWUgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciByZWdpc3RlciAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocmVxLmZpbGVzICYmIHJlcS5maWxlcy5wb3J0YWRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpO1xuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDpyZXEuYm9keS5faWR9LCByZXEuYm9keSk7XG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllVCA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZE9uZSh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBDQVRFR09SSUEgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllOiByZXNvdXJjZXMuQ2F0ZWdvcmllLmNhdGVnb3JpZV9saXN0KENhdGVnb3JpZVQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpc3Q6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtcbiAgICAgICAgICAgICAgICAkb3I6W1xuICAgICAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xuXG4gICAgICAgICAgICBDYXRlZ29yaWVzID0gQ2F0ZWdvcmllcy5tYXAoKHVzZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdCh1c2VyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllczogQ2F0ZWdvcmllc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgQ0FURUdPUklBIFNFIEVMSU1JTsOTIENPUlJFQ1RBTUVOVEVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0SW1hZ2U6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XG5cbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9jYXRlZ29yaWUvJytpbWcsIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAgaWYoIWVycil7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvY2F0ZWdvcmllLycraW1nO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgZ2V0SW1hZ2UgLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUtBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEdBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLEtBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUF3QixTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQVJ4QjtBQUNBO0FBQ0E7QUFDQTtBQUhBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBVWU7RUFFWEcsUUFBUSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQ3pCLElBQUk7TUFDQSxJQUFJRCxHQUFHLENBQUNFLEtBQUssRUFBRTtRQUNYLElBQUlDLFFBQVEsR0FBR0gsR0FBRyxDQUFDRSxLQUFLLENBQUNFLE9BQU8sQ0FBQ0MsSUFBSTtRQUNyQyxJQUFJQyxJQUFJLEdBQUdILFFBQVEsQ0FBQ0ksS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUM5QixJQUFJQyxZQUFZLEdBQUdGLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDMUJOLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDQyxNQUFNLEdBQUdGLFlBQVk7TUFDbEM7TUFDQSxNQUFNRyxTQUFTLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxTQUFTLENBQUNDLE1BQU0sQ0FBQ2QsR0FBRyxDQUFDUyxJQUFJLENBQUM7TUFDekRSLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNMLFNBQVMsQ0FBQztJQUNuQyxD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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resources","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","categories","remove","findByIdAndDelete","getImage","img","params","fs","stat","err","path_img","sendFile","resolve"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/","sources":["CategorieController.js"],"sourcesContent":["/*import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";*/\n\nimport models from \"../models\";\nimport resources from \"../resources\";\nimport fs from 'fs';\nimport path from \"path\";\n\nexport default {\n   \n    register: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.portada.path;\n                var name = img_path.split('/');\n                var portada_name = name[2];\n                req.body.imagen = portada_name;\n            }\n            const categorie = await models.Categorie.create(req.body);\n            res.status(200).json(categorie);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    update: async(req, res) => {\n        try {\n            if (req.files && req.files.portada) {\n                var img_path = req.files.portada.path;\n                var name = img_path.split('\\\\');\n                var portada_name = name[2];\n                //console.log(portada_name);\n                req.body.imagen = portada_name;\n            }\n            await models.Categorie.findByIdAndUpdate({_id:req.body._id}, req.body);\n            let CategorieT = await models.Categorie.findOne({_id:req.body._id});\n\n            res.status(200).json({\n                message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n                categorie: resources.Categorie.categorie_list(CategorieT),\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            let Categories = await models.Categorie.find({\n                $or:[\n                    {\"title\": RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            Categories = Categories.map((user) => {\n                return resources.Categorie.categorie_list(user);\n            });\n\n            res.status(200).json({\n                categories: Categories\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            await models.Categorie.findByIdAndDelete({_id: req.query._id});\n            res.status(200).json({\n                message: \"LA CATEGORIA SE ELIMINÓ CORRECTAMENTE\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n\n    getImage: async(req, res) => {\n        try {\n            var img = req.params['img'];\n\n            fs.stat('./uploads/categorie/'+img, function(err){\n                if(!err){\n                    let path_img = './uploads/categorie/'+img;\n                    res.status(200).sendFile(path.resolve(path_img));\n                }else{\n                    let path_img = './uploads/default.jpg';\n                    res.status(200).sendFile(path.resolve(path_img));\n                }\n            })\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController getImage - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":"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"}},"mtime":1701775886457},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use(\"/users\", _User.default);\nrouter.use(\"/categories\", _Categorie.default);\nrouter.use(\"/products\", _Product.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwidXNlIiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCI7XG5pbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCI7XG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gXCIuL0NhdGVnb3JpZVwiO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4vUHJvZHVjdFwiO1xuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5yb3V0ZXIudXNlKFwiL3VzZXJzXCIsIFVzZXIpO1xucm91dGVyLnVzZShcIi9jYXRlZ29yaWVzXCIsIENhdGVnb3JpZSk7XG5yb3V0ZXIudXNlKFwiL3Byb2R1Y3RzXCIsIFByb2R1Y3QpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsUUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQWdDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWhDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFDeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFFBQVEsRUFBRUMsYUFBSSxDQUFDO0FBQzFCSCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxhQUFhLEVBQUVFLGtCQUFTLENBQUM7QUFDcENKLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFdBQVcsRUFBRUcsZ0JBQU8sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBUixPQUFBLEdBRWxCQyxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","_Product","obj","__esModule","default","router","routerx","use","User","Categorie","Product","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\";\nimport User from \"./User\";\nimport Categorie from \"./Categorie\";\nimport Product from \"./Product\";\n\nconst router = routerx();\nrouter.use(\"/users\", User);\nrouter.use(\"/categories\", Categorie);\nrouter.use(\"/products\", Product);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEhC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AACpCJ,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEG,gBAAO,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAR,OAAA,GAElBC,MAAM"}},"mtime":1701718654194},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register_admin: async (req, res) => {\n    try {\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"El usuario que intentas registrar ya exsite.\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register_admin - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": RegExp(search, \"i\")\n        }, {\n          \"surname\": RegExp(search, \"i\")\n        }, {\n          \"email\": RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYmNyeXB0anMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3Rlcl9hZG1pbiIsInJlcSIsInJlcyIsInVzZXJWIiwibW9kZWxzIiwiVXNlciIsImZpbmRPbmUiLCJlbWFpbCIsImJvZHkiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInJvbCIsInBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsInVzZXIiLCJjcmVhdGUiLCJqc29uIiwicmVzb3VyY2VzIiwidXNlcl9saXN0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXIiLCJsb2dpbiIsInN0YXRlIiwiY29tcGFyZSIsInRva2VuVCIsInRva2VuIiwiZW5jb2RlIiwiX2lkIiwiVVNFUl9GUk9OVEVEIiwibmFtZSIsInN1cm5hbWUiLCJhdmF0YXIiLCJsb2dpbl9hZG1pbiIsInVwZGF0ZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiVXNlclQiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJVc2VycyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlcnMiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHRva2VuIGZyb20gXCIuLi9zZXJ2aWNlcy90b2tlblwiO1xuaW1wb3J0IHJlc291cmNlcyBmcm9tIFwiLi4vcmVzb3VyY2VzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZWdpc3Rlcl9hZG1pbjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJWID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsfSk7XG4gICAgICAgICAgICBpZiAodXNlclYpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRWwgdXN1YXJpbyBxdWUgaW50ZW50YXMgcmVnaXN0cmFyIHlhIGV4c2l0ZS5cIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXEuYm9keS5yb2wgPSBcImFkbWluXCI7XG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICBsZXQgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2VzLlVzZXIudXNlcl9saXN0KHVzZXIpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgcmVnaXN0ZXJfYWRtaW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXIpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciByZWdpc3RlciAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsb2dpbjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWwsIHN0YXRlOjF9KTtcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgLy8gU0kgRVNUw4EgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BXG4gICAgICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCwgdXNlci5yb2wsIHVzZXIuZW1haWwpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW5ULFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVTRVJfRlJPTlRFRDpVU0VSX0ZST05URURcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbG9naW5fYWRtaW46IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLCBzdGF0ZToxLCByb2w6XCJhZG1pblwifSk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIC8vIFNJIEVTVMOBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wYXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsIHVzZXIucm9sLCB1c2VyLmVtYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2VuVCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sOiB1c2VyLnJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVEXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxLmJvZHkucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6cmVxLmJvZHkuX2lkfSwgcmVxLmJvZHkpO1xuICAgICAgICAgICAgbGV0IFVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdChVc2VyVCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGlzdDogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xuICAgICAgICAgICAgbGV0IFVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XG4gICAgICAgICAgICAgICAgJG9yOltcbiAgICAgICAgICAgICAgICAgICAge1wibmFtZVwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgICAgICB7XCJzdXJuYW1lXCI6IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImVtYWlsXCI6IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XG5cbiAgICAgICAgICAgIFVzZXJzID0gVXNlcnMubWFwKCh1c2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgdXNlcnM6IFVzZXJzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOw5MgQ09SUkVDVEFNRU5URVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFxQyxTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRXRCO0VBQ1hHLGNBQWMsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUMvQixJQUFJO01BQ0EsTUFBTUMsS0FBSyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixHQUFHLENBQUNPLElBQUksQ0FBQ0Q7TUFBSyxDQUFDLENBQUM7TUFDaEUsSUFBSUosS0FBSyxFQUFFO1FBQ1BELEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO01BRUFWLEdBQUcsQ0FBQ08sSUFBSSxDQUFDSSxH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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_bcryptjs","_token","_resources","obj","__esModule","default","_default","exports","register_admin","req","res","userV","models","User","findOne","email","body","status","send","message","rol","password","bcrypt","hash","user","create","json","resources","user_list","error","console","log","register","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";\n\nexport default {\n    register_admin: async(req, res) => {\n        try {\n            const userV = await models.User.findOne({email: req.body.email});\n            if (userV) {\n                res.status(500).send({\n                    message: \"El usuario que intentas registrar ya exsite.\"\n                });\n            }\n\n            req.body.rol = \"admin\";\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            let user = await models.User.create(req.body);\n            res.status(200).json({\n                user: resources.User.user_list(user)\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register_admin - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    register: async(req, res) => {\n        try {\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            const user = await models.User.create(req.body);\n            res.status(200).json(user);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    login: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    login_admin: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1, rol:\"admin\"});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar,\n                            rol: user.rol,\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n\n    update: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.avatar.path;\n                var name = img_path.split('\\\\');\n                var avatar_name = name[2];\n                console.log(avatar_name);\n            }\n            if (req.body.password) {\n                req.body.password = await bcrypt.hash(req.body.password, 10);\n            }\n\n            await models.User.findByIdAndUpdate({_id:req.body._id}, req.body);\n            let UserT = await models.User.findOne({_id:req.body._id});\n\n            res.status(200).json({\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n                user: resources.User.user_list(UserT),\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            let Users = await models.User.find({\n                $or:[\n                    {\"name\": RegExp(search, \"i\")},\n                    {\"surname\": RegExp(search, \"i\")},\n                    {\"email\": RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            Users = Users.map((user) => {\n                return resources.User.user_list(user);\n            });\n\n            res.status(200).json({\n                users: Users\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            const User = await models.User.findByIdAndDelete({_id: req.query._id});\n            res.status(200).json({\n                message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":"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"}},"mtime":1700696027897},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\n//const router = routerx();\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", _UserController.default.register);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJyZWdpc3Rlcl9hZG1pbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiBpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlclwiO1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCc7XG5cbi8vY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBodHRwOi8vbG9jYWxob3N0Oi8zMDAwL2FwaS91c2VyL3JlZ2lzdGVyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9hZG1pblwiLCBhdXRoLnZlcmlmeUFkbWluLCB1c2VyQ29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCB1c2VyQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsIGF1dGgudmVyaWZ5QWRtaW4sIHVzZXJDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW4pO1xucm91dGVyLnBvc3QoXCIvbG9naW5fYWRtaW5cIiwgdXNlckNvbnRyb2xsZXIubG9naW5fYWRtaW4pO1xuXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLCB1c2VyQ29udHJvbGxlci5yZW1vdmUpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQyxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUQsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRnZDOztBQUlBO0FBQ0EsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7QUFDQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDakRKLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGlCQUFpQixFQUFFRyxhQUFJLENBQUNDLFdBQVcsRUFBRUgsdUJBQWMsQ0FBQ0ksY0FBYyxDQUFDO0FBQy9FUCxNQUFNLENBQUNRLEdBQUcsQ0FBQyxTQUFTLEVBQUVMLHVCQUFjLENBQUNNLE1BQU0sQ0FBQztBQUM1Q1QsTUFBTSxDQUFDVSxHQUFHLENBQUMsT0FBTyxFQUFFTCxhQUFJLENBQUNDLFdBQVcsRUFBRUgsdUJBQWMsQ0FBQ1EsSUFBSSxDQUFDO0FBQzFEWCxNQUFNLENBQUNFLElBQUksQ0FBQyxRQUFRLEVBQUVDLHVCQUFjLENBQUNTLEtBQUssQ0FBQztBQUMzQ1osTUFBTSxDQUFDRSxJQUFJLENBQUMsY0FBYyxFQUFFQyx1QkFBYyxDQUFDVSxXQUFXLENBQUM7QUFFdkRiLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDLFNBQVMsRUFBRVgsdUJBQWMsQ0FBQ1ksTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFsQixPQUFBLEdBRWpDQyxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","userController","register","auth","verifyAdmin","register_admin","put","update","get","list","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["User.js"],"sourcesContent":[" import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport userController from \"../controllers/UserController\";\nimport auth from '../middlewares/auth';\n\n//const router = routerx();\nconst router = routerx();\n\n// http://localhost:/3000/api/user/register\nrouter.post(\"/register\", userController.register);\nrouter.post(\"/register_admin\", auth.verifyAdmin, userController.register_admin);\nrouter.put(\"/update\", userController.update);\nrouter.get(\"/list\", auth.verifyAdmin, userController.list);\nrouter.post(\"/login\", userController.login);\nrouter.post(\"/login_admin\", userController.login_admin);\n\nrouter.delete(\"/delete\", userController.remove);\n\nexport default router;"],"mappings":";;;;;;AAAC,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAED,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAFvC;;AAIA;AACA,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;AACAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAAEG,aAAI,CAACC,WAAW,EAAEH,uBAAc,CAACI,cAAc,CAAC;AAC/EP,MAAM,CAACQ,GAAG,CAAC,SAAS,EAAEL,uBAAc,CAACM,MAAM,CAAC;AAC5CT,MAAM,CAACU,GAAG,CAAC,OAAO,EAAEL,aAAI,CAACC,WAAW,EAAEH,uBAAc,CAACQ,IAAI,CAAC;AAC1DX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACS,KAAK,CAAC;AAC3CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACU,WAAW,CAAC;AAEvDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAAEX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAEjCC,MAAM"}},"mtime":1700696028050},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register_admin: async (req, res) => {\n    try {\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"El usuario que intentas registrar ya exsite.\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register_admin - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        // SI ESTÁ REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": RegExp(search, \"i\")\n        }, {\n          \"surname\": RegExp(search, \"i\")\n        }, {\n          \"email\": RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYmNyeXB0anMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3Rlcl9hZG1pbiIsInJlcSIsInJlcyIsInVzZXJWIiwibW9kZWxzIiwiVXNlciIsImZpbmRPbmUiLCJlbWFpbCIsImJvZHkiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInJvbCIsInBhc3N3b3JkIiwiYmNyeXB0IiwiaGFzaCIsInVzZXIiLCJjcmVhdGUiLCJqc29uIiwicmVzb3VyY2VzIiwidXNlcl9saXN0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXIiLCJsb2dpbiIsInN0YXRlIiwiY29tcGFyZSIsInRva2VuVCIsInRva2VuIiwiZW5jb2RlIiwiX2lkIiwiVVNFUl9GUk9OVEVEIiwibmFtZSIsInN1cm5hbWUiLCJhdmF0YXIiLCJsb2dpbl9hZG1pbiIsInVwZGF0ZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiVXNlclQiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJVc2VycyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlcnMiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHRva2VuIGZyb20gXCIuLi9zZXJ2aWNlcy90b2tlblwiO1xuaW1wb3J0IHJlc291cmNlcyBmcm9tIFwiLi4vcmVzb3VyY2VzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZWdpc3Rlcl9hZG1pbjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJWID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsfSk7XG4gICAgICAgICAgICBpZiAodXNlclYpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRWwgdXN1YXJpbyBxdWUgaW50ZW50YXMgcmVnaXN0cmFyIHlhIGV4c2l0ZS5cIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXEuYm9keS5yb2wgPSBcImFkbWluXCI7XG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICBsZXQgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2VzLlVzZXIudXNlcl9saXN0KHVzZXIpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgcmVnaXN0ZXJfYWRtaW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXIpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciByZWdpc3RlciAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsb2dpbjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWwsIHN0YXRlOjF9KTtcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgLy8gU0kgRVNUw4EgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BXG4gICAgICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCwgdXNlci5yb2wsIHVzZXIuZW1haWwpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW5ULFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVTRVJfRlJPTlRFRDpVU0VSX0ZST05URURcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbG9naW5fYWRtaW46IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLCBzdGF0ZToxLCByb2w6XCJhZG1pblwifSk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIC8vIFNJIEVTVMOBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wYXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsIHVzZXIucm9sLCB1c2VyLmVtYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2VuVCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sOiB1c2VyLnJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVEXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxLmJvZHkucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6cmVxLmJvZHkuX2lkfSwgcmVxLmJvZHkpO1xuICAgICAgICAgICAgbGV0IFVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdChVc2VyVCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGlzdDogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xuICAgICAgICAgICAgbGV0IFVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XG4gICAgICAgICAgICAgICAgJG9yOltcbiAgICAgICAgICAgICAgICAgICAge1wibmFtZVwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgICAgICB7XCJzdXJuYW1lXCI6IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImVtYWlsXCI6IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XG5cbiAgICAgICAgICAgIFVzZXJzID0gVXNlcnMubWFwKCh1c2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgdXNlcnM6IFVzZXJzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOw5MgQ09SUkVDVEFNRU5URVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgbG9naW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFxQyxTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRXRCO0VBQ1hHLGNBQWMsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUMvQixJQUFJO01BQ0EsTUFBTUMsS0FBSyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixHQUFHLENBQUNPLElBQUksQ0FBQ0Q7TUFBSyxDQUFDLENBQUM7TUFDaEUsSUFBSUosS0FBSyxFQUFFO1FBQ1BELEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO01BRUFWLEdBQUcsQ0FBQ08sSUFBSSxDQUFDSSxH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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_bcryptjs","_token","_resources","obj","__esModule","default","_default","exports","register_admin","req","res","userV","models","User","findOne","email","body","status","send","message","rol","password","bcrypt","hash","user","create","json","resources","user_list","error","console","log","register","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";\n\nexport default {\n    register_admin: async(req, res) => {\n        try {\n            const userV = await models.User.findOne({email: req.body.email});\n            if (userV) {\n                res.status(500).send({\n                    message: \"El usuario que intentas registrar ya exsite.\"\n                });\n            }\n\n            req.body.rol = \"admin\";\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            let user = await models.User.create(req.body);\n            res.status(200).json({\n                user: resources.User.user_list(user)\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register_admin - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    register: async(req, res) => {\n        try {\n            req.body.password = await bcrypt.hash(req.body.password, 10);\n            const user = await models.User.create(req.body);\n            res.status(200).json(user);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    login: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    login_admin: async(req, res) => {\n        try {\n            const user = await models.User.findOne({email: req.body.email, state:1, rol:\"admin\"});\n            if (user) {\n                // SI ESTÁ REGISTRADO EN EL SISTEMA\n                let compare = await bcrypt.compare(req.body.password, user.password);\n                if (compare) {\n                    let tokenT = await token.encode(user._id, user.rol, user.email);\n                    const USER_FRONTED = {\n                        token: tokenT,\n                        user: {\n                            name: user.name,\n                            email: user.email,\n                            surname: user.surname,\n                            avatar: user.avatar,\n                            rol: user.rol,\n                        }\n                    }\n                    res.status(200).json({\n                        USER_FRONTED:USER_FRONTED\n                    });\n                } else {\n                    res.status(500).send({\n                        message: \"EL USUARIO NO EXISTE\"\n                    });\n                }\n            } else {\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n\n    update: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.avatar.path;\n                var name = img_path.split('\\\\');\n                var avatar_name = name[2];\n                console.log(avatar_name);\n            }\n            if (req.body.password) {\n                req.body.password = await bcrypt.hash(req.body.password, 10);\n            }\n\n            await models.User.findByIdAndUpdate({_id:req.body._id}, req.body);\n            let UserT = await models.User.findOne({_id:req.body._id});\n\n            res.status(200).json({\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n                user: resources.User.user_list(UserT),\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            let Users = await models.User.find({\n                $or:[\n                    {\"name\": RegExp(search, \"i\")},\n                    {\"surname\": RegExp(search, \"i\")},\n                    {\"email\": RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            Users = Users.map((user) => {\n                return resources.User.user_list(user);\n            });\n\n            res.status(200).json({\n                users: Users\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            const User = await models.User.findByIdAndDelete({_id: req.query._id});\n            res.status(200).json({\n                message: \"EL USUARIO SE ELIMINÓ CORRECTAMENTE\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":"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"}},"mtime":1700696027897},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1ZhcmllZGFkIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlZhcmllZGFkIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCI7XG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gXCIuL0NhdGVnb3JpZVwiO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4vUHJvZHVjdFwiO1xuaW1wb3J0IFZhcmllZGFkIGZyb20gXCIuL1ZhcmllZGFkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBVc2VyLFxuICAgIENhdGVnb3JpZSxcbiAgICBQcm9kdWN0LFxuICAgIFZhcmllZGFkXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxRQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBa0MsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVuQjtFQUNYRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQSxrQkFBUztFQUNUQyxPQUFPLEVBQVBBLGdCQUFPO0VBQ1BDLFFBQVEsRUFBUkE7QUFDSixDQUFDIn0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","_Product","_Variedad","obj","__esModule","default","_default","exports","User","Categorie","Product","Variedad"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["index.js"],"sourcesContent":["import User from \"./User\";\nimport Categorie from \"./Categorie\";\nimport Product from \"./Product\";\nimport Variedad from \"./Variedad\";\n\nexport default {\n    User,\n    Categorie,\n    Product,\n    Variedad\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEnB;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA;AACJ,CAAC"}},"mtime":1701028540746},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es des activo.\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwic3RhdGUiLCJOdW1iZXIiLCJwaG9uZSIsImJpcnRoZGF5IiwidGltZXN0YW1wcyIsIlVzZXIiLCJtb29uZ29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb29uZ29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICByb2w6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjMwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBuYW1lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIHN1cm5hbWU6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGVtYWlsOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWUsIHVuaXF1ZTp0cnVlfSxcbiAgICBwYXNzd29yZDp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBhdmF0YXI6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHN0YXRlOnt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6MX0sIC8vIDEgZXMgYWN0aXZvIHkgMiBlcyBkZXMgYWN0aXZvLlxuICAgIHBob25lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGJpcnRoZGF5Ont0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxufSx7XG4gICAgdGltZXN0YW1wczogdHJ1ZVxufSk7XG5cbmNvbnN0IFVzZXIgPSBtb29uZ29zZS5tb2RlbChcInVzZXJcIiwgVXNlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","required","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","moongose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["User.js"],"sourcesContent":["import moongose, {Schema} from \"mongoose\";\n\nconst UserSchema = new Schema({\n    rol:{type: String, maxlength:30, required:true},\n    name:{type: String, maxlength:250, required:true},\n    surname:{type: String, maxlength:250, required:false},\n    email:{type: String, maxlength:250, required:true, unique:true},\n    password:{type: String, maxlength:250, required:true},\n    avatar:{type: String, maxlength:250, required:false},\n    state:{type: Number, default:1}, // 1 es activo y 2 es des activo.\n    phone:{type: String, maxlength:20, required:false},\n    birthday:{type: String, maxlength:20, required:false},\n},{\n    timestamps: true\n});\n\nconst User = moongose.model(\"user\", UserSchema);\nexport default User;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMY,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC/CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACjDE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACrDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC,IAAI;IAAEI,MAAM,EAAC;EAAI,CAAC;EAC/DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACpDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAAE7B,OAAO,EAAC;EAAC,CAAC;EAAE;EACjC8B,KAAK,EAAC;IAACZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK,CAAC;EAClDU,QAAQ,EAAC;IAACb,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK;AACxD,CAAC,EAAC;EACEW,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAArC,OAAA,GACjCiC,IAAI"}},"mtime":1700696027899},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = exports.default = Categorie;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNhdGVnb3JpZSIsIm1vb25nb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9vbmdvc2UsIHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDYXRlZ29yaWVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICB0aXRsZTp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBpbWFnZW46e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXG4gICAgc3RhdGU6e3R5cGU6IE51bWJlciwgbWF4bGVuZ3RoOjIsIGRlZmF1bHQ6MX0sXG59LHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlXG59KTtcblxuY29uc3QgQ2F0ZWdvcmllID0gbW9vbmdvc2UubW9kZWwoXCJjYXRlZ29yaWVcIiwgQ2F0ZWdvcmllU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3JpZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsSUFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBakIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFJLENBQUEsR0FBQVIsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBSSxDQUFBLEtBQUFBLENBQUEsQ0FBQVgsR0FBQSxJQUFBVyxDQUFBLENBQUFDLEdBQUEsSUFBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBSSxDQUFBLElBQUFWLENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFnQixHQUFBLENBQUFuQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUUxQyxNQUFNWSxlQUFlLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUMvQkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xEQyxNQUFNLEVBQUM7SUFBQ0osSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkRFLEtBQUssRUFBQztJQUFDTCxJQUFJLEVBQUVNLE1BQU07SUFBRUosU0FBUyxFQUFDLENBQUM7SUFBRXBCLE9BQU8sRUFBQztFQUFDO0FBQy9DLENBQUMsRUFBQztFQUNFeUIsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLFNBQVMsR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFdBQVcsRUFBRWIsZUFBZSxDQUFDO0FBQUMsSUFBQWMsUUFBQSxHQUFBQyxPQUFBLENBQUE5QixPQUFBLEdBQ2hEMEIsU0FBUyJ9","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categorie","moongose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["Categorie.js"],"sourcesContent":["import moongose, {Schema} from \"mongoose\";\n\nconst CategorieSchema = new Schema({\n    title:{type: String, maxlength:250, required:true},\n    imagen:{type: String, maxlength:250, required:true},\n    state:{type: Number, maxlength:2, default:1},\n},{\n    timestamps: true\n});\n\nconst Categorie = moongose.model(\"categorie\", CategorieSchema);\nexport default Categorie;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMY,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAC/BC,KAAK,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDC,MAAM,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnDE,KAAK,EAAC;IAACL,IAAI,EAAEM,MAAM;IAAEJ,SAAS,EAAC,CAAC;IAAEpB,OAAO,EAAC;EAAC;AAC/C,CAAC,EAAC;EACEyB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAAEb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAChD0B,SAAS"}},"mtime":1700696027899},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_udemy', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      /**\n       * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n       * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n       * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n       * \n       * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n       * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n       */\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_udemy');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(\"Debbug - token.js: \", error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbInRva2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZW5jb2RlOiBhc3luYyhfaWQsIHJvbCwgZW1haWwpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7X2lkOiBfaWQsIHJvbDpyb2wsIGVtYWlsOmVtYWlsfSwgJ2Vjb21tZXJjZV91ZGVteScsIHtleHBpcmVzSW46ICcxZCd9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgZGVjb2RlOiBhc3luYyh0b2tlbikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPQlRFTkVSIEVMIF9pZCBERUwgUEFZTE9BRCBWRVJJRklDQURPLlxuICAgICAgICAgICAgICogTFVFR08gU0UgQlVTQ0EgRVNBIENPTEVDQ0lPTiBFTiBFTCBNT0RFTFMgVVNFUlMgWSBERVNQVUVTIERFIFZFUklGSUNBIFxuICAgICAgICAgICAgICogUVVFIFNJIEVTVMOBIEVOIFVOIEVTVEFETyBBQ1RJVk8uXG4gICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAqIFkgU0kgRUwgVVNVQVJJTyBTSSBFWElTVEUsIFBVRVMgU0UgUkVUT1JOQSBFU0UgVVNVQVJJTy5cbiAgICAgICAgICAgICAqIEVOIENBU08gREUgUVVFIE5PIEVYSVNUQSwgU0UgUkVUT1JNQSBGQUxTRS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3Qge19pZH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCAnZWNvbW1lcmNlX3VkZW15Jyk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiBfaWQsIHN0YXRlOiAxfSk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEZWJidWcgLSB0b2tlbi5qczogXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVoQjtFQUNYRyxNQUFNLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssS0FBSztJQUM5QixNQUFNQyxLQUFLLEdBQUdDLHFCQUFHLENBQUNDLElBQUksQ0FBQztNQUFDTCxHQUFHLEVBQUVBLEdBQUc7TUFBRUMsR0FBRyxFQUFDQSxHQUFHO01BQUVDLEtBQUssRUFBQ0E7SUFBSyxDQUFDLEVBQUUsaUJBQWlCLEVBQUU7TUFBQ0ksU0FBUyxFQUFFO0lBQUksQ0FBQyxDQUFDO0lBQzlGLE9BQU9ILEtBQUs7RUFDaEIsQ0FBQztFQUNESSxNQUFNLEVBQUUsTUFBTUosS0FBSyxJQUFLO0lBQ3BCLElBQUk7TUFDQTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO01BQ1ksTUFBTTtRQUFDSDtNQUFHLENBQUMsR0FBRyxNQUFNSSxxQkFBRyxDQUFDSSxNQUFNLENBQUNMLEtBQUssRUFBRSxpQkFBaUIsQ0FBQztNQUN4RCxNQUFNTSxJQUFJLEdBQUdDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ1osR0FBRyxFQUFFQSxHQUFHO1FBQUVhLEtBQUssRUFBRTtNQUFDLENBQUMsQ0FBQztNQUN0RCxJQUFJSixJQUFJLEVBQUU7UUFDTixPQUFPQSxJQUFJO01BQ2Y7TUFDQSxPQUFPLEtBQUs7SUFDaEIsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRUYsS0FBSyxDQUFDO01BQ3pDLE9BQU8sS0FBSztJQUNoQjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\nimport models from '../models';\n\nexport default {\n    encode: async(_id, rol, email) => {\n        const token = jwt.sign({_id: _id, rol:rol, email:email}, 'ecommerce_udemy', {expiresIn: '1d'});\n        return token;\n    },\n    decode: async(token) => {\n        try {\n            /**\n             * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n             * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n             * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n             * \n             * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n             * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n             */\n            const {_id} = await jwt.verify(token, 'ecommerce_udemy');\n            const user = models.User.findOne({_id: _id, state: 1});\n            if (user) {\n                return user;\n            }\n            return false;\n        } catch (error) {\n            console.log(\"Debbug - token.js: \", error);\n            return false;\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACXG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAK;IAC9B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAAEA,GAAG;MAAEC,GAAG,EAACA,GAAG;MAAEC,KAAK,EAACA;IAAK,CAAC,EAAE,iBAAiB,EAAE;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IAC9F,OAAOH,KAAK;EAChB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;MACY,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,iBAAiB,CAAC;MACxD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAAEa,KAAK,EAAE;MAAC,CAAC,CAAC;MACtD,IAAIJ,IAAI,EAAE;QACN,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEF,KAAK,CAAC;MACzC,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC"}},"mtime":1700696028062},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvcmVzb3VyY2VzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJztcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIFVzZXIsXG4gICAgQ2F0ZWdvcmllLFxuICAgIFByb2R1Y3Rcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRWpCO0VBQ1hHLElBQUksRUFBSkEsYUFBSTtFQUNKQyxTQUFTLEVBQVRBLGtCQUFTO0VBQ1RDLE9BQU8sRUFBUEE7QUFDSixDQUFDIn0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","_Product","obj","__esModule","default","_default","exports","User","Categorie","Product"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["index.js"],"sourcesContent":["import User from './User';\nimport Categorie from './Categorie';\nimport Product from './Product';\n\nexport default {\n    User,\n    Categorie,\n    Product\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEjB;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA;AACJ,CAAC"}},"mtime":1701096238553},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsImF2YXRhciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvcmVzb3VyY2VzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgdXNlcl9saXN0OiAodXNlcikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFSCxJQUFJLENBQUNHLE9BQU87TUFDckJDLEtBQUssRUFBRUosSUFBSSxDQUFDSSxLQUFLO01BQ2pCQyxNQUFNLEVBQUVMLElBQUksQ0FBQ0s7SUFDakIsQ0FBQztFQUNMO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["user_list","user","_id","name","surname","email","avatar"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["User.js"],"sourcesContent":["export default {\n    user_list: (user) => {\n        return {\n            _id: user._id,\n            name: user.name,\n            surname: user.surname,\n            email: user.email,\n            avatar: user.avatar\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IACjB,CAAC;EACL;AACJ,CAAC"}},"mtime":1700696028048},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL3Jlc291cmNlcy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgY2F0ZWdvcmllX2xpc3Q6IChjYXRlZ29yaWUpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9pZDogY2F0ZWdvcmllLl9pZCxcbiAgICAgICAgICAgIHRpdGxlOiBjYXRlZ29yaWUudGl0bGUsXG4gICAgICAgICAgICBpbWFnZW46IGNhdGVnb3JpZS5pbWFnZW4sXG4gICAgICAgICAgICBzdGF0ZTogY2F0ZWdvcmllLnN0YXRlLFxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLGNBQWMsRUFBR0MsU0FBUyxJQUFLO0lBQzNCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxTQUFTLENBQUNDLEdBQUc7TUFDbEJDLEtBQUssRUFBRUYsU0FBUyxDQUFDRSxLQUFLO01BQ3RCQyxNQUFNLEVBQUVILFNBQVMsQ0FBQ0csTUFBTTtNQUN4QkMsS0FBSyxFQUFFSixTQUFTLENBQUNJO0lBQ3JCLENBQUM7RUFDTDtBQUNKLENBQUMifQ==","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","state"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["Categorie.js"],"sourcesContent":["export default {\n    categorie_list: (categorie) => {\n        return {\n            _id: categorie._id,\n            title: categorie.title,\n            imagen: categorie.imagen,\n            state: categorie.state,\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,cAAc,EAAGC,SAAS,IAAK;IAC3B,OAAO;MACHC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,KAAK,EAAEJ,SAAS,CAACI;IACrB,CAAC;EACL;AACJ,CAAC"}},"mtime":1700696028047},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwidmVyaWZ5RWNvbW1lcmNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlcnMiLCJ0b2tlbiIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJkZWNvZGUiLCJyb2wiLCJ2ZXJpZnlBZG1pbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJjbGllbnRlXCIgfHwgcmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIikge1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gRVNUw4EgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFTCBUT0tFTiBOTyBFUyBWQUxJRE8nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdmVyaWZ5QWRtaW46IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKSB7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBFU1TDgSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEEsIFBPUlFVRSBFUkVTIFVOIENMSUVOVCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgVE9LRU4gTk8gRVMgVkFMSURPJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFdkI7RUFDWEcsZUFBZSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDdEMsSUFBSSxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFFO01BQ3BCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFJSSxRQUFRLEVBQUU7TUFDVixJQUFJQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxTQUFTLElBQUlGLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBRTtRQUN0RFIsSUFBSSxDQUFDLENBQUM7TUFDVixDQUFDLE1BQU07UUFDSEQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFFO1FBQ2IsQ0FBQyxDQUFDO01BQ047SUFDSixDQUFDLE1BQU07TUFDSE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RJLFdBQVcsRUFBRSxNQUFBQSxDQUFNWCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0lBQ2xDLElBQUksQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBRTtNQUNwQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBSUksUUFBUSxFQUFFO01BQ1YsSUFBSUEsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFFO1FBQ3pCUixJQUFJLENBQUMsQ0FBQztNQUNWLENBQUMsTUFBTTtRQUNIRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsTUFBTTtNQUNITixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/middlewares/","sources":["auth.js"],"sourcesContent":["import token from '../services/token';\n\nexport default {\n    verifyEcommerce: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"cliente\" || response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n    verifyAdmin: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEvB;EACXG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACtC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACtDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IAClC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACzBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC"}},"mtime":1700696027898},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.getImage);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJjYXRlZ29yaWVDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwiZ2V0SW1hZ2UiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGNhdGVnb3JpZUNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL0NhdGVnb3JpZUNvbnRyb2xsZXJcIjtcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnO1xuaW1wb3J0IG11bHRpcGFydHkgZnJvbSBcImNvbm5lY3QtbXVsdGlwYXJ0eVwiO1xuXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjogJy4vdXBsb2Fkcy9jYXRlZ29yaWUnfSk7XG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgY2F0ZWdvcmllQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sIGNhdGVnb3JpZUNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLCBhdXRoLnZlcmlmeUFkbWluLCBjYXRlZ29yaWVDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgYXV0aC52ZXJpZnlBZG1pbiwgY2F0ZWdvcmllQ29udHJvbGxlci5yZW1vdmUpO1xuXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvY2F0ZWdvcmllLzppbWdcIiwgY2F0ZWdvcmllQ29udHJvbGxlci5nZXRJbWFnZSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBQyxvQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUE0QyxTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUg1Qzs7QUFLQSxJQUFJRyxJQUFJLEdBQUcsSUFBQUMsMEJBQVUsRUFBQztFQUFDQyxTQUFTLEVBQUU7QUFBcUIsQ0FBQyxDQUFDO0FBQ3pELE1BQU1DLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDRCQUFtQixDQUFDQyxRQUFRLENBQUM7QUFDaEZOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDRCQUFtQixDQUFDRyxNQUFNLENBQUM7QUFDM0VSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDRCQUFtQixDQUFDSyxJQUFJLENBQUM7QUFDL0RWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBRVIsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDRCQUFtQixDQUFDTyxNQUFNLENBQUM7QUFFdEVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHlCQUF5QixFQUFFSiw0QkFBbUIsQ0FBQ1EsUUFBUSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFuQixPQUFBLEdBRXJESSxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categorieController","register","put","update","get","list","delete","remove","getImage","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["Categorie.js"],"sourcesContent":["import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport categorieController from \"../controllers/CategorieController\";\nimport auth from '../middlewares/auth';\nimport multiparty from \"connect-multiparty\";\n\nvar path = multiparty({uploadDir: './uploads/categorie'});\nconst router = routerx();\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], categorieController.register);\nrouter.put(\"/update\", [auth.verifyAdmin, path], categorieController.update);\nrouter.get(\"/list\", auth.verifyAdmin, categorieController.list);\nrouter.delete(\"/delete\", auth.verifyAdmin, categorieController.remove);\n\nrouter.get(\"/uploads/categorie/:img\", categorieController.getImage);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAH5C;;AAKA,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAqB,CAAC,CAAC;AACzD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACC,QAAQ,CAAC;AAChFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAE,CAACJ,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACG,MAAM,CAAC;AAC3ER,MAAM,CAACS,GAAG,CAAC,OAAO,EAAEN,aAAI,CAACC,WAAW,EAAEC,4BAAmB,CAACK,IAAI,CAAC;AAC/DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAAER,aAAI,CAACC,WAAW,EAAEC,4BAAmB,CAACO,MAAM,CAAC;AAEtEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAAEJ,4BAAmB,CAACQ,QAAQ,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAErDI,MAAM"}},"mtime":1700699996867},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/*import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";*/\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name);\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resources.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resources.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  getImage: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController getImage - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBvcnRhZGEiLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwiYm9keSIsImltYWdlbiIsImNhdGVnb3JpZSIsIm1vZGVscyIsIkNhdGVnb3JpZSIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwiQ2F0ZWdvcmllVCIsImZpbmRPbmUiLCJyZXNvdXJjZXMiLCJjYXRlZ29yaWVfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIkNhdGVnb3JpZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJjYXRlZ29yaWVzIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJnZXRJbWFnZSIsImltZyIsInBhcmFtcyIsImZzIiwic3RhdCIsImVyciIsInBhdGhfaW1nIiwic2VuZEZpbGUiLCJyZXNvbHZlIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyppbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHRva2VuIGZyb20gXCIuLi9zZXJ2aWNlcy90b2tlblwiO1xuaW1wb3J0IHJlc291cmNlcyBmcm9tIFwiLi4vcmVzb3VyY2VzXCI7Ki9cblxuaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgcmVzb3VyY2VzIGZyb20gXCIuLi9yZXNvdXJjZXNcIjtcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICBcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyZXEuZmlsZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yaWUgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciByZWdpc3RlciAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocmVxLmZpbGVzICYmIHJlcS5maWxlcy5wb3J0YWRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpO1xuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDpyZXEuYm9keS5faWR9LCByZXEuYm9keSk7XG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllVCA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZE9uZSh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBDQVRFR09SSUEgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllOiByZXNvdXJjZXMuQ2F0ZWdvcmllLmNhdGVnb3JpZV9saXN0KENhdGVnb3JpZVQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpc3Q6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtcbiAgICAgICAgICAgICAgICAkb3I6W1xuICAgICAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xuXG4gICAgICAgICAgICBDYXRlZ29yaWVzID0gQ2F0ZWdvcmllcy5tYXAoKHVzZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdCh1c2VyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllczogQ2F0ZWdvcmllc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgQ0FURUdPUklBIFNFIEVMSU1JTsOTIENPUlJFQ1RBTUVOVEVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0SW1hZ2U6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XG5cbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9jYXRlZ29yaWUvJytpbWcsIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAgaWYoIWVycil7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvY2F0ZWdvcmllLycraW1nO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgZ2V0SW1hZ2UgLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUtBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEdBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLEtBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUF3QixTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQVJ4QjtBQUNBO0FBQ0E7QUFDQTtBQUhBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBVWU7RUFFWEcsUUFBUSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQ3pCLElBQUk7TUFDQSxJQUFJRCxHQUFHLENBQUNFLEtBQUssRUFBRTtRQUNYLElBQUlDLFFBQVEsR0FBR0gsR0FBRyxDQUFDRSxLQUFLLENBQUNFLE9BQU8sQ0FBQ0MsSUFBSTtRQUNyQyxJQUFJQyxJQUFJLEdBQUdILFFBQVEsQ0FBQ0ksS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUM5QixJQUFJQyxZQUFZLEdBQUdGLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDMUJOLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDQyxNQUFNLEdBQUdGLFlBQVk7TUFDbEM7TUFDQSxNQUFNRyxTQUFTLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxTQUFTLENBQUNDLE1BQU0sQ0FBQ2QsR0FBRyxDQUFDUyxJQUFJLENBQUM7TUFDekRSLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNMLFNBQVMsQ0FBQztJQUNuQyxDQUFDLENBQUMsT0FBT00sS0FBSyxFQUFFO01BQ1poQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztJQUN0QjtFQUNKLENBQUM7RUFDREssTUFBTSxFQUFFLE1BQUFBLENBQU10QixHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUN2QixJQUFJO01BQ0EsSUFBSUQsR0FBRyxDQUFDRSxLQUFLLElBQUlGLEdBQUcsQ0FBQ0UsS0FBSyxDQUFDRSxPQUFPLEVBQUU7UUFDaEMsSUFBSUQsUUFBUSxHQUFHSCxHQUFHLENBQUNFLEtBQUssQ0FBQ0UsT0FBTyxDQUFDQyxJQUFJO1FBQ3JDLElBQUlDLElBQUksR0FBR0gsUUFBUSxDQUFDSSxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQy9CLElBQUlDLFlBQVksR0FBR0YsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMxQjtRQUNBTixHQUFHLENBQUNTLElBQUksQ0FBQ0MsTUFBTSxHQUFHRixZQUFZO01BQ2xDO01BQ0EsTUFBTUksZUFBTSxDQUFDQyxTQUFTLENBQUNVLGlCQUFpQixDQUFDO1FBQUNDLEdBQUcsRUFBQ3hCLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDZTtNQUFHLENBQUMsRUFBRXhCLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDO01BQ3RFLElBQUlnQixVQUFVLEdBQUcsTUFBTWIsZUFBTSxDQUFDQyxTQUFTLENBQUNhLE9BQU8sQ0FBQztRQUFDRixHQUFHLEVBQUN4QixHQUFHLENBQUNTLElBQUksQ0FBQ2U7TUFBRyxDQUFDLENBQUM7TUFFbkV2QixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCRyxPQUFPLEVBQUUsNkNBQTZDO1FBQ3REUixTQUFTLEVBQUVnQixrQkFBUyxDQUFDZCxTQUFTLENBQUNlLGNBQWMsQ0FBQ0gsVUFBVTtNQUM1RCxDQUFDLENBQUM7SUFDTixDQUFDLENBQUMsT0FBT1IsS0FBSyxFQUFFO01BQ1poQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztJQUN0QjtFQUNKLENBQUM7RUFDRFksSUFBSSxFQUFFLE1BQUFBLENBQU03QixHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUNyQixJQUFJO01BQ0EsSUFBSTZCLE1BQU0sR0FBRzlCLEdBQUcsQ0FBQytCLEtBQUssQ0FBQ0QsTUFBTTtNQUM3QixJQUFJRSxVQUFVLEdBQUcsTUFBTXBCLGVBQU0sQ0FBQ0MsU0FBUyxDQUFDb0IsSUFBSSxDQUFDO1FBQ3pDQyxHQUFHLEVBQUMsQ0FDQTtVQUFDLE9BQU8sRUFBRUMsTUFBTSxDQUFDTCxNQUFNLEVBQUUsR0FBRztRQUFDLENBQUM7TUFFdEMsQ0FBQyxDQUFDLENBQUNNLElBQUksQ0FBQztRQUFDLFdBQVcsRUFBRSxDQUFDO01BQUMsQ0FBQyxDQUFDO01BRTFCSixVQUFVLEdBQUdBLFVBQVUsQ0FBQ0ssR0FBRyxDQUFFQyxJQUFJLElBQUs7UUFDbEMsT0FBT1gsa0JBQVMsQ0FBQ2QsU0FBUyxDQUFDZSxjQUFjLENBQUNVLElBQUksQ0FBQztNQUNuRCxDQUFDLENBQUM7TUFFRnJDLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJ1QixVQUFVLEVBQUVQO01BQ2hCLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPZixLQUFLLEVBQUU7TUFDWmhCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUNEdUIsTUFBTSxFQUFFLE1BQUFBLENBQU14QyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUN2QixJQUFJO01BQ0EsTUFBTVcsZUFBTSxDQUFDQyxTQUFTLENBQUM0QixpQkFBaUIsQ0FBQztRQUFDakIsR0FBRyxFQUFFeEIsR0FBRyxDQUFDK0IsS0FBSyxDQUFDUDtNQUFHLENBQUMsQ0FBQztNQUM5RHZCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJHLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPRixLQUFLLEVBQUU7TUFDWmhCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0osQ0FBQztFQUVEeUIsUUFBUSxFQUFFLE1BQUFBLENBQU0xQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUN6QixJQUFJO01BQ0EsSUFBSTBDLEdBQUcsR0FBRzNDLEdBQUcsQ0FBQzRDLE1BQU0sQ0FBQyxLQUFLLENBQUM7TUFFM0JDLFdBQUUsQ0FBQ0MsSUFBSSxDQUFDLHNCQUFzQixHQUFDSCxHQUFHLEVBQUUsVUFBU0ksR0FBRyxFQUFDO1FBQzdDLElBQUcsQ0FBQ0EsR0FBRyxFQUFDO1VBQ0osSUFBSUMsUUFBUSxHQUFHLHNCQUFzQixHQUFDTCxHQUFHO1VBQ3pDMUMsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNrQyxRQUFRLENBQUM1QyxhQUFJLENBQUM2QyxPQUFPLENBQUNGLFFBQVEsQ0FBQyxDQUFDO1FBQ3BELENBQUMsTUFBSTtVQUNELElBQUlBLFFBQVEsR0FBRyx1QkFBdUI7VUFDdEMvQyxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ2tDLFFBQVEsQ0FBQzVDLGFBQUksQ0FBQzZDLE9BQU8sQ0FBQ0YsUUFBUSxDQUFDLENBQUM7UUFDcEQ7TUFDSixDQUFDLENBQUM7SUFDTixDQUFDLENBQUMsT0FBTy9CLEtBQUssRUFBRTtNQUNaaEIsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO01BQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSjtBQUNKLENBQUMifQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resources","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","categories","remove","findByIdAndDelete","getImage","img","params","fs","stat","err","path_img","sendFile","resolve"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/","sources":["CategorieController.js"],"sourcesContent":["/*import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";*/\n\nimport models from \"../models\";\nimport resources from \"../resources\";\nimport fs from 'fs';\nimport path from \"path\";\n\nexport default {\n   \n    register: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.portada.path;\n                var name = img_path.split('/');\n                var portada_name = name[2];\n                req.body.imagen = portada_name;\n            }\n            const categorie = await models.Categorie.create(req.body);\n            res.status(200).json(categorie);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    update: async(req, res) => {\n        try {\n            if (req.files && req.files.portada) {\n                var img_path = req.files.portada.path;\n                var name = img_path.split('\\\\');\n                var portada_name = name[2];\n                //console.log(portada_name);\n                req.body.imagen = portada_name;\n            }\n            await models.Categorie.findByIdAndUpdate({_id:req.body._id}, req.body);\n            let CategorieT = await models.Categorie.findOne({_id:req.body._id});\n\n            res.status(200).json({\n                message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n                categorie: resources.Categorie.categorie_list(CategorieT),\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            let Categories = await models.Categorie.find({\n                $or:[\n                    {\"title\": RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            Categories = Categories.map((user) => {\n                return resources.Categorie.categorie_list(user);\n            });\n\n            res.status(200).json({\n                categories: Categories\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            await models.Categorie.findByIdAndDelete({_id: req.query._id});\n            res.status(200).json({\n                message: \"LA CATEGORIA SE ELIMINÓ CORRECTAMENTE\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n\n    getImage: async(req, res) => {\n        try {\n            var img = req.params['img'];\n\n            fs.stat('./uploads/categorie/'+img, function(err){\n                if(!err){\n                    let path_img = './uploads/categorie/'+img;\n                    res.status(200).sendFile(path.resolve(path_img));\n                }else{\n                    let path_img = './uploads/default.jpg';\n                    res.status(200).sendFile(path.resolve(path_img));\n                }\n            })\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController getImage - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":"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"}},"mtime":1700763268883},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    require: true,\n    maxlength: 250\n  },\n  slug: {\n    type: String,\n    require: true,\n    maxlength: 1000\n  },\n  sku: {\n    type: String,\n    require: true\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    require: true\n  },\n  price_soles: {\n    type: Number,\n    require: true\n  },\n  price_usd: {\n    type: Number,\n    require: true\n  },\n  portada: {\n    type: String,\n    require: true\n  },\n  galerias: [{\n    type: Object,\n    require: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es en prueba o desarrollo, 2 será publico y 3 será anulado\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    require: true\n  },\n  resumen: {\n    type: String,\n    require: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('Product', ProductSchema);\nvar _default = exports.default = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwibWF4bGVuZ3RoIiwic2x1ZyIsInNrdSIsImNhdGVnb3JpZSIsIk9iamVjdElkIiwicmVmIiwicHJpY2Vfc29sZXMiLCJOdW1iZXIiLCJwcmljZV91c2QiLCJwb3J0YWRhIiwiZ2FsZXJpYXMiLCJzdGF0ZSIsInN0b2NrIiwiZGVzY3JpcHRpb24iLCJyZXN1bWVuIiwidGFncyIsInJlcXVpcmVkIiwidHlwZV9pbnZlbnRhcmlvIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJQcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSAseyBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBTY2hlbWEgKHtcbiAgICB0aXRsZToge3R5cGU6U3RyaW5nLCByZXF1aXJlOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgICBzbHVnOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmU6dHJ1ZSwgbWF4bGVuZ3RoOiAxMDAwfSxcbiAgICBza3U6IHt0eXBlOlN0cmluZywgcmVxdWlyZTp0cnVlfSxcbiAgICBjYXRlZ29yaWU6IHt0eXBlOlNjaGVtYS5PYmplY3RJZCwgcmVmOiAnY2F0ZWdvcmllJywgcmVxdWlyZTp0cnVlfSxcbiAgICBwcmljZV9zb2xlczoge3R5cGU6TnVtYmVyLCByZXF1aXJlOnRydWV9LFxuICAgIHByaWNlX3VzZDoge3R5cGU6TnVtYmVyLCByZXF1aXJlOnRydWV9LFxuICAgIHBvcnRhZGE6IHt0eXBlOlN0cmluZywgcmVxdWlyZTp0cnVlfSxcbiAgICBnYWxlcmlhczogW3t0eXBlOk9iamVjdCwgcmVxdWlyZTpmYWxzZX1dLFxuICAgIHN0YXRlOiB7dHlwZTpOdW1iZXIsIGRlZmF1bHQ6MX0sIC8vIDEgZXMgZW4gcHJ1ZWJhIG8gZGVzYXJyb2xsbywgMiBzZXLDoSBwdWJsaWNvIHkgMyBzZXLDoSBhbnVsYWRvXG4gICAgc3RvY2s6IHt0eXBlOk51bWJlciwgZGVmYXVsdDowfSxcbiAgICBkZXNjcmlwdGlvbjoge3R5cGU6U3RyaW5nLCByZXF1aXJlOnRydWV9LFxuICAgIHJlc3VtZW46IHt0eXBlOlN0cmluZywgcmVxdWlyZTp0cnVlfSxcbiAgICB0YWdzOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxuICAgIHR5cGVfaW52ZW50YXJpbzoge3R5cGU6IE51bWJlciwgZGVmYXVsdDoxfVxufSx7XG4gICAgdGltZXN0YW1wczp0cnVlLFxufSk7XG5cbmNvbnN0IFByb2R1Y3QgPSAgbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBQcm9kdWN0U2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3Q7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","ProductSchema","Schema","title","type","String","maxlength","slug","sku","categorie","ObjectId","ref","price_soles","Number","price_usd","portada","galerias","state","stock","description","resumen","tags","required","type_inventario","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["Product.js"],"sourcesContent":["import mongoose ,{ Schema } from \"mongoose\";\n\nconst ProductSchema = new Schema ({\n    title: {type:String, require:true, maxlength: 250},\n    slug: {type:String, require:true, maxlength: 1000},\n    sku: {type:String, require:true},\n    categorie: {type:Schema.ObjectId, ref: 'categorie', require:true},\n    price_soles: {type:Number, require:true},\n    price_usd: {type:Number, require:true},\n    portada: {type:String, require:true},\n    galerias: [{type:Object, require:false}],\n    state: {type:Number, default:1}, // 1 es en prueba o desarrollo, 2 será publico y 3 será anulado\n    stock: {type:Number, default:0},\n    description: {type:String, require:true},\n    resumen: {type:String, require:true},\n    tags: {type:String, required:true},\n    type_inventario: {type: Number, default:1}\n},{\n    timestamps:true,\n});\n\nconst Product =  mongoose.model('Product', ProductSchema);\nexport default Product;"],"mappings":"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"}},"mtime":1701808521895},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    require: true\n  },\n  valor: {\n    type: String,\n    require: true\n  },\n  stock: {\n    type: Number,\n    require: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJ2YWxvciIsIlN0cmluZyIsInN0b2NrIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIlZhcmllZGFkIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiVmFyaWVkYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSB9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBWYXJpZWRhZFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIHByb2R1Y3Q6IHt0eXBlOiBTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ3Byb2R1Y3QnLCByZXF1aXJlOnRydWV9LFxuICAgIHZhbG9yOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlOnRydWV9LFxuICAgIHN0b2NrOiB7dHlwZTogTnVtYmVyLCByZXF1aXJlOnRydWV9LFxufSwge1xuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcblxufSk7XG5cbmNvbnN0IFZhcmllZGFkID0gbW9uZ29vc2UubW9kZWwoJ3ZhcmllZGFkJywgVmFyaWVkYWRTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgVmFyaWVkYWQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLElBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWpCLENBQUEsRUFBQWMsQ0FBQSxTQUFBSSxDQUFBLEdBQUFSLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUksQ0FBQSxLQUFBQSxDQUFBLENBQUFYLEdBQUEsSUFBQVcsQ0FBQSxDQUFBQyxHQUFBLElBQUFSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUksQ0FBQSxJQUFBVixDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZ0IsR0FBQSxDQUFBbkIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFNUMsTUFBTVksY0FBYyxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDOUJDLE9BQU8sRUFBRTtJQUFDQyxJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFFLFNBQVM7SUFBRTNCLE9BQU8sRUFBQztFQUFJLENBQUM7RUFDOUQ0QixLQUFLLEVBQUU7SUFBQ0gsSUFBSSxFQUFFSSxNQUFNO0lBQUU3QixPQUFPLEVBQUM7RUFBSSxDQUFDO0VBQ25DOEIsS0FBSyxFQUFFO0lBQUNMLElBQUksRUFBRU0sTUFBTTtJQUFFL0IsT0FBTyxFQUFDO0VBQUk7QUFDdEMsQ0FBQyxFQUFFO0VBQ0NnQyxVQUFVLEVBQUM7QUFFZixDQUFDLENBQUM7QUFFRixNQUFNQyxRQUFRLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxVQUFVLEVBQUViLGNBQWMsQ0FBQztBQUFDLElBQUFjLFFBQUEsR0FBQUMsT0FBQSxDQUFBOUIsT0FBQSxHQUM3QzBCLFFBQVEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["Variedad.js"],"sourcesContent":["import mongoose, { Schema } from \"mongoose\";\n\nconst VariedadSchema = new Schema({\n    product: {type: Schema.ObjectId, ref: 'product', require:true},\n    valor: {type: String, require:true},\n    stock: {type: Number, require:true},\n}, {\n    timestamps:true,\n\n});\n\nconst Variedad = mongoose.model('variedad', VariedadSchema);\nexport default Variedad;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA4C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE5C,MAAMY,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,OAAO,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,SAAS;IAAE3B,OAAO,EAAC;EAAI,CAAC;EAC9D4B,KAAK,EAAE;IAACH,IAAI,EAAEI,MAAM;IAAE7B,OAAO,EAAC;EAAI,CAAC;EACnC8B,KAAK,EAAE;IAACL,IAAI,EAAEM,MAAM;IAAE/B,OAAO,EAAC;EAAI;AACtC,CAAC,EAAE;EACCgC,UAAU,EAAC;AAEf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAAEb,cAAc,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAC7C0B,QAAQ"}},"mtime":1701028423190},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    require: true,\n    maxlength: 250\n  },\n  slug: {\n    type: String,\n    require: true,\n    maxlength: 1000\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    require: true\n  },\n  price_soles: {\n    type: Number,\n    require: true\n  },\n  price_usd: {\n    type: Number,\n    require: true\n  },\n  portada: {\n    type: String,\n    require: true\n  },\n  galerias: [{\n    type: Object,\n    require: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es en prueba o desarrollo, 2 será publico y 3 será anulado\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    require: true\n  },\n  resumen: {\n    type: String,\n    require: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('Product', ProductSchema);\nvar _default = exports.default = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwibWF4bGVuZ3RoIiwic2x1ZyIsImNhdGVnb3JpZSIsIk9iamVjdElkIiwicmVmIiwicHJpY2Vfc29sZXMiLCJOdW1iZXIiLCJwcmljZV91c2QiLCJwb3J0YWRhIiwiZ2FsZXJpYXMiLCJzdGF0ZSIsInN0b2NrIiwiZGVzY3JpcHRpb24iLCJyZXN1bWVuIiwidGFncyIsInJlcXVpcmVkIiwidHlwZV9pbnZlbnRhcmlvIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJQcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSAseyBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBTY2hlbWEgKHtcbiAgICB0aXRsZToge3R5cGU6U3RyaW5nLCByZXF1aXJlOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgICBzbHVnOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmU6dHJ1ZSwgbWF4bGVuZ3RoOiAxMDAwfSxcbiAgICBjYXRlZ29yaWU6IHt0eXBlOlNjaGVtYS5PYmplY3RJZCwgcmVmOiAnY2F0ZWdvcmllJywgcmVxdWlyZTp0cnVlfSxcbiAgICBwcmljZV9zb2xlczoge3R5cGU6TnVtYmVyLCByZXF1aXJlOnRydWV9LFxuICAgIHByaWNlX3VzZDoge3R5cGU6TnVtYmVyLCByZXF1aXJlOnRydWV9LFxuICAgIHBvcnRhZGE6IHt0eXBlOlN0cmluZywgcmVxdWlyZTp0cnVlfSxcbiAgICBnYWxlcmlhczogW3t0eXBlOk9iamVjdCwgcmVxdWlyZTpmYWxzZX1dLFxuICAgIHN0YXRlOiB7dHlwZTpOdW1iZXIsIGRlZmF1bHQ6MX0sIC8vIDEgZXMgZW4gcHJ1ZWJhIG8gZGVzYXJyb2xsbywgMiBzZXLDoSBwdWJsaWNvIHkgMyBzZXLDoSBhbnVsYWRvXG4gICAgc3RvY2s6IHt0eXBlOk51bWJlciwgZGVmYXVsdDowfSxcbiAgICBkZXNjcmlwdGlvbjoge3R5cGU6U3RyaW5nLCByZXF1aXJlOnRydWV9LFxuICAgIHJlc3VtZW46IHt0eXBlOlN0cmluZywgcmVxdWlyZTp0cnVlfSxcbiAgICB0YWdzOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxuICAgIHR5cGVfaW52ZW50YXJpbzoge3R5cGU6IE51bWJlciwgZGVmYXVsdDoxfVxufSx7XG4gICAgdGltZXN0YW1wczp0cnVlLFxufSk7XG5cbmNvbnN0IFByb2R1Y3QgPSAgbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBQcm9kdWN0U2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3Q7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","ProductSchema","Schema","title","type","String","maxlength","slug","categorie","ObjectId","ref","price_soles","Number","price_usd","portada","galerias","state","stock","description","resumen","tags","required","type_inventario","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["Product.js"],"sourcesContent":["import mongoose ,{ Schema } from \"mongoose\";\n\nconst ProductSchema = new Schema ({\n    title: {type:String, require:true, maxlength: 250},\n    slug: {type:String, require:true, maxlength: 1000},\n    categorie: {type:Schema.ObjectId, ref: 'categorie', require:true},\n    price_soles: {type:Number, require:true},\n    price_usd: {type:Number, require:true},\n    portada: {type:String, require:true},\n    galerias: [{type:Object, require:false}],\n    state: {type:Number, default:1}, // 1 es en prueba o desarrollo, 2 será publico y 3 será anulado\n    stock: {type:Number, default:0},\n    description: {type:String, require:true},\n    resumen: {type:String, require:true},\n    tags: {type:String, required:true},\n    type_inventario: {type: Number, default:1}\n},{\n    timestamps:true,\n});\n\nconst Product =  mongoose.model('Product', ProductSchema);\nexport default Product;"],"mappings":"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"}},"mtime":1701093120833},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    require: true\n  },\n  valor: {\n    type: String,\n    require: true\n  },\n  stock: {\n    type: Number,\n    require: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJ2YWxvciIsIlN0cmluZyIsInN0b2NrIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIlZhcmllZGFkIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiVmFyaWVkYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSB9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBWYXJpZWRhZFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIHByb2R1Y3Q6IHt0eXBlOiBTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ3Byb2R1Y3QnLCByZXF1aXJlOnRydWV9LFxuICAgIHZhbG9yOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlOnRydWV9LFxuICAgIHN0b2NrOiB7dHlwZTogTnVtYmVyLCByZXF1aXJlOnRydWV9LFxufSwge1xuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcblxufSk7XG5cbmNvbnN0IFZhcmllZGFkID0gbW9uZ29vc2UubW9kZWwoJ3ZhcmllZGFkJywgVmFyaWVkYWRTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgVmFyaWVkYWQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLElBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWpCLENBQUEsRUFBQWMsQ0FBQSxTQUFBSSxDQUFBLEdBQUFSLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUksQ0FBQSxLQUFBQSxDQUFBLENBQUFYLEdBQUEsSUFBQVcsQ0FBQSxDQUFBQyxHQUFBLElBQUFSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUksQ0FBQSxJQUFBVixDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZ0IsR0FBQSxDQUFBbkIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFNUMsTUFBTVksY0FBYyxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDOUJDLE9BQU8sRUFBRTtJQUFDQyxJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFFLFNBQVM7SUFBRTNCLE9BQU8sRUFBQztFQUFJLENBQUM7RUFDOUQ0QixLQUFLLEVBQUU7SUFBQ0gsSUFBSSxFQUFFSSxNQUFNO0lBQUU3QixPQUFPLEVBQUM7RUFBSSxDQUFDO0VBQ25DOEIsS0FBSyxFQUFFO0lBQUNMLElBQUksRUFBRU0sTUFBTTtJQUFFL0IsT0FBTyxFQUFDO0VBQUk7QUFDdEMsQ0FBQyxFQUFFO0VBQ0NnQyxVQUFVLEVBQUM7QUFFZixDQUFDLENBQUM7QUFFRixNQUFNQyxRQUFRLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxVQUFVLEVBQUViLGNBQWMsQ0FBQztBQUFDLElBQUFjLFFBQUEsR0FBQUMsT0FBQSxDQUFBOUIsT0FBQSxHQUM3QzBCLFFBQVEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["Variedad.js"],"sourcesContent":["import mongoose, { Schema } from \"mongoose\";\n\nconst VariedadSchema = new Schema({\n    product: {type: Schema.ObjectId, ref: 'product', require:true},\n    valor: {type: String, require:true},\n    stock: {type: Number, require:true},\n}, {\n    timestamps:true,\n\n});\n\nconst Variedad = mongoose.model('variedad', VariedadSchema);\nexport default Variedad;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA4C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE5C,MAAMY,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,OAAO,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,SAAS;IAAE3B,OAAO,EAAC;EAAI,CAAC;EAC9D4B,KAAK,EAAE;IAACH,IAAI,EAAEI,MAAM;IAAE7B,OAAO,EAAC;EAAI,CAAC;EACnC8B,KAAK,EAAE;IAACL,IAAI,EAAEM,MAAM;IAAE/B,OAAO,EAAC;EAAI;AACtC,CAAC,EAAE;EACCgC,UAAU,EAAC;AAEf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAAEb,cAAc,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAC7C0B,QAAQ"}},"mtime":1701028423190},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  product_list: (product, variedades = []) => {\n    return {\n      _id: product._id,\n      title: product.title,\n      sku: product.sku,\n      slug: product.slug,\n      imagen: 'http://localhost:3000' + '/api/products/uploads/product/' + product.portada,\n      // Falta completar la ruta\n      categorie: product.categorie,\n      price_soles: product.price_soles,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      state: product.state,\n      variedades: variedades,\n      galerias: product.galerias.map(galeria => {\n        galeria.imagen = 'http://localhost:3000' + '/api/products/uploads/product/' + galeria.imagen;\n        return galeria;\n      })\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsIl9pZCIsInRpdGxlIiwic2t1Iiwic2x1ZyIsImltYWdlbiIsInBvcnRhZGEiLCJjYXRlZ29yaWUiLCJwcmljZV9zb2xlcyIsInByaWNlX3VzZCIsInN0b2NrIiwiZGVzY3JpcHRpb24iLCJyZXN1bWVuIiwidGFncyIsIkpTT04iLCJwYXJzZSIsInR5cGVfaW52ZW50YXJpbyIsInN0YXRlIiwiZ2FsZXJpYXMiLCJtYXAiLCJnYWxlcmlhIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9yZXNvdXJjZXMvIiwic291cmNlcyI6WyJQcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgICBwcm9kdWN0X2xpc3Q6IChwcm9kdWN0LCB2YXJpZWRhZGVzID0gW10pID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9pZDogcHJvZHVjdC5faWQsXG4gICAgICAgICAgICB0aXRsZTogcHJvZHVjdC50aXRsZSxcbiAgICAgICAgICAgIHNrdTogcHJvZHVjdC5za3UsXG4gICAgICAgICAgICBzbHVnOiBwcm9kdWN0LnNsdWcsXG4gICAgICAgICAgICBpbWFnZW46ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK3Byb2R1Y3QucG9ydGFkYSwgLy8gRmFsdGEgY29tcGxldGFyIGxhIHJ1dGFcbiAgICAgICAgICAgIGNhdGVnb3JpZTogcHJvZHVjdC5jYXRlZ29yaWUsXG4gICAgICAgICAgICBwcmljZV9zb2xlczogcHJvZHVjdC5wcmljZV9zb2xlcyxcbiAgICAgICAgICAgIHByaWNlX3VzZDogcHJvZHVjdC5wcmljZV91c2QsXG4gICAgICAgICAgICBzdG9jazogcHJvZHVjdC5zdG9jayxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgcmVzdW1lbjogcHJvZHVjdC5yZXN1bWVuLFxuICAgICAgICAgICAgdGFnczogcHJvZHVjdC50YWdzID8gSlNPTi5wYXJzZShwcm9kdWN0LnRhZ3MpIDogW10sXG4gICAgICAgICAgICB0eXBlX2ludmVudGFyaW86IHByb2R1Y3QudHlwZV9pbnZlbnRhcmlvLFxuICAgICAgICAgICAgc3RhdGU6IHByb2R1Y3Quc3RhdGUsXG4gICAgICAgICAgICB2YXJpZWRhZGVzOiB2YXJpZWRhZGVzLFxuICAgICAgICAgICAgZ2FsZXJpYXM6IHByb2R1Y3QuZ2FsZXJpYXMubWFwKChnYWxlcmlhKSA9PiB7XG4gICAgICAgICAgICAgICAgZ2FsZXJpYS5pbWFnZW4gPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwJysnL2FwaS9wcm9kdWN0cy91cGxvYWRzL3Byb2R1Y3QvJytnYWxlcmlhLmltYWdlbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2FsZXJpYTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFlBQVksRUFBRUEsQ0FBQ0MsT0FBTyxFQUFFQyxVQUFVLEdBQUcsRUFBRSxLQUFLO0lBQ3hDLE9BQU87TUFDSEMsR0FBRyxFQUFFRixPQUFPLENBQUNFLEdBQUc7TUFDaEJDLEtBQUssRUFBRUgsT0FBTyxDQUFDRyxLQUFLO01BQ3BCQyxHQUFHLEVBQUVKLE9BQU8sQ0FBQ0ksR0FBRztNQUNoQkMsSUFBSSxFQUFFTCxPQUFPLENBQUNLLElBQUk7TUFDbEJDLE1BQU0sRUFBRSx1QkFBdUIsR0FBQyxnQ0FBZ0MsR0FBQ04sT0FBTyxDQUFDTyxPQUFPO01BQUU7TUFDbEZDLFNBQVMsRUFBRVIsT0FBTyxDQUFDUSxTQUFTO01BQzVCQyxXQUFXLEVBQUVULE9BQU8sQ0FBQ1MsV0FBVztNQUNoQ0MsU0FBUyxFQUFFVixPQUFPLENBQUNVLFNBQVM7TUFDNUJDLEtBQUssRUFBRVgsT0FBTyxDQUFDVyxLQUFLO01BQ3BCQyxXQUFXLEVBQUVaLE9BQU8sQ0FBQ1ksV0FBVztNQUNoQ0MsT0FBTyxFQUFFYixPQUFPLENBQUNhLE9BQU87TUFDeEJDLElBQUksRUFBRWQsT0FBTyxDQUFDYyxJQUFJLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDaEIsT0FBTyxDQUFDYyxJQUFJLENBQUMsR0FBRyxFQUFFO01BQ2xERyxlQUFlLEVBQUVqQixPQUFPLENBQUNpQixlQUFlO01BQ3hDQyxLQUFLLEVBQUVsQixPQUFPLENBQUNrQixLQUFLO01BQ3BCakIsVUFBVSxFQUFFQSxVQUFVO01BQ3RCa0IsUUFBUSxFQUFFbkIsT0FBTyxDQUFDbUIsUUFBUSxDQUFDQyxHQUFHLENBQUVDLE9BQU8sSUFBSztRQUN4Q0EsT0FBTyxDQUFDZixNQUFNLEdBQUcsdUJBQXVCLEdBQUMsZ0NBQWdDLEdBQUNlLE9BQU8sQ0FBQ2YsTUFBTTtRQUN4RixPQUFPZSxPQUFPO01BQ2xCLENBQUM7SUFDTCxDQUFDO0VBQ0w7QUFDSixDQUFDIn0=","map":{"version":3,"names":["product_list","product","variedades","_id","title","sku","slug","imagen","portada","categorie","price_soles","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","state","galerias","map","galeria"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["Product.js"],"sourcesContent":["export default {\n    product_list: (product, variedades = []) => {\n        return {\n            _id: product._id,\n            title: product.title,\n            sku: product.sku,\n            slug: product.slug,\n            imagen: 'http://localhost:3000'+'/api/products/uploads/product/'+product.portada, // Falta completar la ruta\n            categorie: product.categorie,\n            price_soles: product.price_soles,\n            price_usd: product.price_usd,\n            stock: product.stock,\n            description: product.description,\n            resumen: product.resumen,\n            tags: product.tags ? JSON.parse(product.tags) : [],\n            type_inventario: product.type_inventario,\n            state: product.state,\n            variedades: variedades,\n            galerias: product.galerias.map((galeria) => {\n                galeria.imagen = 'http://localhost:3000'+'/api/products/uploads/product/'+galeria.imagen;\n                return galeria;\n            }),\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,YAAY,EAAEA,CAACC,OAAO,EAAEC,UAAU,GAAG,EAAE,KAAK;IACxC,OAAO;MACHC,GAAG,EAAEF,OAAO,CAACE,GAAG;MAChBC,KAAK,EAAEH,OAAO,CAACG,KAAK;MACpBC,GAAG,EAAEJ,OAAO,CAACI,GAAG;MAChBC,IAAI,EAAEL,OAAO,CAACK,IAAI;MAClBC,MAAM,EAAE,uBAAuB,GAAC,gCAAgC,GAACN,OAAO,CAACO,OAAO;MAAE;MAClFC,SAAS,EAAER,OAAO,CAACQ,SAAS;MAC5BC,WAAW,EAAET,OAAO,CAACS,WAAW;MAChCC,SAAS,EAAEV,OAAO,CAACU,SAAS;MAC5BC,KAAK,EAAEX,OAAO,CAACW,KAAK;MACpBC,WAAW,EAAEZ,OAAO,CAACY,WAAW;MAChCC,OAAO,EAAEb,OAAO,CAACa,OAAO;MACxBC,IAAI,EAAEd,OAAO,CAACc,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAChB,OAAO,CAACc,IAAI,CAAC,GAAG,EAAE;MAClDG,eAAe,EAAEjB,OAAO,CAACiB,eAAe;MACxCC,KAAK,EAAElB,OAAO,CAACkB,KAAK;MACpBjB,UAAU,EAAEA,UAAU;MACtBkB,QAAQ,EAAEnB,OAAO,CAACmB,QAAQ,CAACC,GAAG,CAAEC,OAAO,IAAK;QACxCA,OAAO,CAACf,MAAM,GAAG,uBAAuB,GAAC,gCAAgC,GAACe,OAAO,CAACf,MAAM;QACxF,OAAOe,OAAO;MAClB,CAAC;IACL,CAAC;EACL;AACJ,CAAC"}},"mtime":1701991938894},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  product_list: product => {\n    return {\n      _id: product._id,\n      title: product.title,\n      slug: product.slug,\n      imagen: 'http://localhost:3000/' + '/uploads/product/' + product.portada,\n      // Falta completar la ruta\n      categorie: product.categorie,\n      price_soles: product.price_soles,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      state: product.state\n    };\n  }\n};\n/**\n    title: {type:String, require:true, maxlength: 250},\n    slug: {type:String, require:true, maxlength: 1000},\n    categorie: {type:Schema.ObjectId, ref: 'categorie', require:true},\n    price_soles: {type:Number, require:true},\n    price_usd: {type:Number, require:true},\n    portada: {type:String, require:true},\n    galerias: [{type:Object, require:false}],\n    state: {type:Number, default:1}, // 1 es en prueba o desarrollo, 2 será publico y 3 será anulado\n    stock: {type:Number, default:0},\n    description: {type:String, require:true},\n    resumen: {type:String, require:true},\n    tags: {type:String, required:true},\n    type_inventario: {type: Number, default:1}\n */\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwiX2lkIiwidGl0bGUiLCJzbHVnIiwiaW1hZ2VuIiwicG9ydGFkYSIsImNhdGVnb3JpZSIsInByaWNlX3NvbGVzIiwicHJpY2VfdXNkIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwiSlNPTiIsInBhcnNlIiwidHlwZV9pbnZlbnRhcmlvIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL3Jlc291cmNlcy8iLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xuICAgIHByb2R1Y3RfbGlzdDogKHByb2R1Y3QpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9pZDogcHJvZHVjdC5faWQsXG4gICAgICAgICAgICB0aXRsZTogcHJvZHVjdC50aXRsZSxcbiAgICAgICAgICAgIHNsdWc6IHByb2R1Y3Quc2x1ZyxcbiAgICAgICAgICAgIGltYWdlbjogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC8nKycvdXBsb2Fkcy9wcm9kdWN0LycrcHJvZHVjdC5wb3J0YWRhLCAvLyBGYWx0YSBjb21wbGV0YXIgbGEgcnV0YVxuICAgICAgICAgICAgY2F0ZWdvcmllOiBwcm9kdWN0LmNhdGVnb3JpZSxcbiAgICAgICAgICAgIHByaWNlX3NvbGVzOiBwcm9kdWN0LnByaWNlX3NvbGVzLFxuICAgICAgICAgICAgcHJpY2VfdXNkOiBwcm9kdWN0LnByaWNlX3VzZCxcbiAgICAgICAgICAgIHN0b2NrOiBwcm9kdWN0LnN0b2NrLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHByb2R1Y3QuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICByZXN1bWVuOiBwcm9kdWN0LnJlc3VtZW4sXG4gICAgICAgICAgICB0YWdzOiBwcm9kdWN0LnRhZ3MgPyBKU09OLnBhcnNlKHByb2R1Y3QudGFncykgOiBbXSxcbiAgICAgICAgICAgIHR5cGVfaW52ZW50YXJpbzogcHJvZHVjdC50eXBlX2ludmVudGFyaW8sXG4gICAgICAgICAgICBzdGF0ZTogcHJvZHVjdC5zdGF0ZSxcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gICAgdGl0bGU6IHt0eXBlOlN0cmluZywgcmVxdWlyZTp0cnVlLCBtYXhsZW5ndGg6IDI1MH0sXG4gICAgc2x1Zzoge3R5cGU6U3RyaW5nLCByZXF1aXJlOnRydWUsIG1heGxlbmd0aDogMTAwMH0sXG4gICAgY2F0ZWdvcmllOiB7dHlwZTpTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ2NhdGVnb3JpZScsIHJlcXVpcmU6dHJ1ZX0sXG4gICAgcHJpY2Vfc29sZXM6IHt0eXBlOk51bWJlciwgcmVxdWlyZTp0cnVlfSxcbiAgICBwcmljZV91c2Q6IHt0eXBlOk51bWJlciwgcmVxdWlyZTp0cnVlfSxcbiAgICBwb3J0YWRhOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmU6dHJ1ZX0sXG4gICAgZ2FsZXJpYXM6IFt7dHlwZTpPYmplY3QsIHJlcXVpcmU6ZmFsc2V9XSxcbiAgICBzdGF0ZToge3R5cGU6TnVtYmVyLCBkZWZhdWx0OjF9LCAvLyAxIGVzIGVuIHBydWViYSBvIGRlc2Fycm9sbG8sIDIgc2Vyw6EgcHVibGljbyB5IDMgc2Vyw6EgYW51bGFkb1xuICAgIHN0b2NrOiB7dHlwZTpOdW1iZXIsIGRlZmF1bHQ6MH0sXG4gICAgZGVzY3JpcHRpb246IHt0eXBlOlN0cmluZywgcmVxdWlyZTp0cnVlfSxcbiAgICByZXN1bWVuOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmU6dHJ1ZX0sXG4gICAgdGFnczoge3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlfSxcbiAgICB0eXBlX2ludmVudGFyaW86IHt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6MX1cbiAqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFlBQVksRUFBR0MsT0FBTyxJQUFLO0lBQ3ZCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxPQUFPLENBQUNDLEdBQUc7TUFDaEJDLEtBQUssRUFBRUYsT0FBTyxDQUFDRSxLQUFLO01BQ3BCQyxJQUFJLEVBQUVILE9BQU8sQ0FBQ0csSUFBSTtNQUNsQkMsTUFBTSxFQUFFLHdCQUF3QixHQUFDLG1CQUFtQixHQUFDSixPQUFPLENBQUNLLE9BQU87TUFBRTtNQUN0RUMsU0FBUyxFQUFFTixPQUFPLENBQUNNLFNBQVM7TUFDNUJDLFdBQVcsRUFBRVAsT0FBTyxDQUFDTyxXQUFXO01BQ2hDQyxTQUFTLEVBQUVSLE9BQU8sQ0FBQ1EsU0FBUztNQUM1QkMsS0FBSyxFQUFFVCxPQUFPLENBQUNTLEtBQUs7TUFDcEJDLFdBQVcsRUFBRVYsT0FBTyxDQUFDVSxXQUFXO01BQ2hDQyxPQUFPLEVBQUVYLE9BQU8sQ0FBQ1csT0FBTztNQUN4QkMsSUFBSSxFQUFFWixPQUFPLENBQUNZLElBQUksR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNkLE9BQU8sQ0FBQ1ksSUFBSSxDQUFDLEdBQUcsRUFBRTtNQUNsREcsZUFBZSxFQUFFZixPQUFPLENBQUNlLGVBQWU7TUFDeENDLEtBQUssRUFBRWhCLE9BQU8sQ0FBQ2dCO0lBQ25CLENBQUM7RUFDTDtBQUNKLENBQUM7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EifQ==","map":{"version":3,"names":["product_list","product","_id","title","slug","imagen","portada","categorie","price_soles","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","state"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["Product.js"],"sourcesContent":["export default {\n    product_list: (product) => {\n        return {\n            _id: product._id,\n            title: product.title,\n            slug: product.slug,\n            imagen: 'http://localhost:3000/'+'/uploads/product/'+product.portada, // Falta completar la ruta\n            categorie: product.categorie,\n            price_soles: product.price_soles,\n            price_usd: product.price_usd,\n            stock: product.stock,\n            description: product.description,\n            resumen: product.resumen,\n            tags: product.tags ? JSON.parse(product.tags) : [],\n            type_inventario: product.type_inventario,\n            state: product.state,\n        }\n    }\n}\n\n/**\n    title: {type:String, require:true, maxlength: 250},\n    slug: {type:String, require:true, maxlength: 1000},\n    categorie: {type:Schema.ObjectId, ref: 'categorie', require:true},\n    price_soles: {type:Number, require:true},\n    price_usd: {type:Number, require:true},\n    portada: {type:String, require:true},\n    galerias: [{type:Object, require:false}],\n    state: {type:Number, default:1}, // 1 es en prueba o desarrollo, 2 será publico y 3 será anulado\n    stock: {type:Number, default:0},\n    description: {type:String, require:true},\n    resumen: {type:String, require:true},\n    tags: {type:String, required:true},\n    type_inventario: {type: Number, default:1}\n */"],"mappings":";;;;;;iCAAe;EACXA,YAAY,EAAGC,OAAO,IAAK;IACvB,OAAO;MACHC,GAAG,EAAED,OAAO,CAACC,GAAG;MAChBC,KAAK,EAAEF,OAAO,CAACE,KAAK;MACpBC,IAAI,EAAEH,OAAO,CAACG,IAAI;MAClBC,MAAM,EAAE,wBAAwB,GAAC,mBAAmB,GAACJ,OAAO,CAACK,OAAO;MAAE;MACtEC,SAAS,EAAEN,OAAO,CAACM,SAAS;MAC5BC,WAAW,EAAEP,OAAO,CAACO,WAAW;MAChCC,SAAS,EAAER,OAAO,CAACQ,SAAS;MAC5BC,KAAK,EAAET,OAAO,CAACS,KAAK;MACpBC,WAAW,EAAEV,OAAO,CAACU,WAAW;MAChCC,OAAO,EAAEX,OAAO,CAACW,OAAO;MACxBC,IAAI,EAAEZ,OAAO,CAACY,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACd,OAAO,CAACY,IAAI,CAAC,GAAG,EAAE;MAClDG,eAAe,EAAEf,OAAO,CAACe,eAAe;MACxCC,KAAK,EAAEhB,OAAO,CAACgB;IACnB,CAAC;EACL;AACJ,CAAC;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},"mtime":1701096238520},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    require: true,\n    maxlength: 250\n  },\n  slug: {\n    type: String,\n    require: true,\n    maxlength: 1000\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    require: true\n  },\n  price_soles: {\n    type: Number,\n    require: true\n  },\n  price_usd: {\n    type: Number,\n    require: true\n  },\n  portada: {\n    type: String,\n    require: true\n  },\n  galerias: [{\n    type: Object,\n    require: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es en prueba o desarrollo, 2 será publico y 3 será anulado\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    require: true\n  },\n  resumen: {\n    type: String,\n    require: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('Product', ProductSchema);\nvar _default = exports.default = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwibWF4bGVuZ3RoIiwic2x1ZyIsImNhdGVnb3JpZSIsIk9iamVjdElkIiwicmVmIiwicHJpY2Vfc29sZXMiLCJOdW1iZXIiLCJwcmljZV91c2QiLCJwb3J0YWRhIiwiZ2FsZXJpYXMiLCJzdGF0ZSIsInN0b2NrIiwiZGVzY3JpcHRpb24iLCJyZXN1bWVuIiwidGFncyIsInJlcXVpcmVkIiwidHlwZV9pbnZlbnRhcmlvIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJQcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSAseyBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBTY2hlbWEgKHtcbiAgICB0aXRsZToge3R5cGU6U3RyaW5nLCByZXF1aXJlOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgICBzbHVnOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmU6dHJ1ZSwgbWF4bGVuZ3RoOiAxMDAwfSxcbiAgICBjYXRlZ29yaWU6IHt0eXBlOlNjaGVtYS5PYmplY3RJZCwgcmVmOiAnY2F0ZWdvcmllJywgcmVxdWlyZTp0cnVlfSxcbiAgICBwcmljZV9zb2xlczoge3R5cGU6TnVtYmVyLCByZXF1aXJlOnRydWV9LFxuICAgIHByaWNlX3VzZDoge3R5cGU6TnVtYmVyLCByZXF1aXJlOnRydWV9LFxuICAgIHBvcnRhZGE6IHt0eXBlOlN0cmluZywgcmVxdWlyZTp0cnVlfSxcbiAgICBnYWxlcmlhczogW3t0eXBlOk9iamVjdCwgcmVxdWlyZTpmYWxzZX1dLFxuICAgIHN0YXRlOiB7dHlwZTpOdW1iZXIsIGRlZmF1bHQ6MX0sIC8vIDEgZXMgZW4gcHJ1ZWJhIG8gZGVzYXJyb2xsbywgMiBzZXLDoSBwdWJsaWNvIHkgMyBzZXLDoSBhbnVsYWRvXG4gICAgc3RvY2s6IHt0eXBlOk51bWJlciwgZGVmYXVsdDowfSxcbiAgICBkZXNjcmlwdGlvbjoge3R5cGU6U3RyaW5nLCByZXF1aXJlOnRydWV9LFxuICAgIHJlc3VtZW46IHt0eXBlOlN0cmluZywgcmVxdWlyZTp0cnVlfSxcbiAgICB0YWdzOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxuICAgIHR5cGVfaW52ZW50YXJpbzoge3R5cGU6IE51bWJlciwgZGVmYXVsdDoxfVxufSx7XG4gICAgdGltZXN0YW1wczp0cnVlLFxufSk7XG5cbmNvbnN0IFByb2R1Y3QgPSAgbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBQcm9kdWN0U2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3Q7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","ProductSchema","Schema","title","type","String","maxlength","slug","categorie","ObjectId","ref","price_soles","Number","price_usd","portada","galerias","state","stock","description","resumen","tags","required","type_inventario","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["Product.js"],"sourcesContent":["import mongoose ,{ Schema } from \"mongoose\";\n\nconst ProductSchema = new Schema ({\n    title: {type:String, require:true, maxlength: 250},\n    slug: {type:String, require:true, maxlength: 1000},\n    categorie: {type:Schema.ObjectId, ref: 'categorie', require:true},\n    price_soles: {type:Number, require:true},\n    price_usd: {type:Number, require:true},\n    portada: {type:String, require:true},\n    galerias: [{type:Object, require:false}],\n    state: {type:Number, default:1}, // 1 es en prueba o desarrollo, 2 será publico y 3 será anulado\n    stock: {type:Number, default:0},\n    description: {type:String, require:true},\n    resumen: {type:String, require:true},\n    tags: {type:String, required:true},\n    type_inventario: {type: Number, default:1}\n},{\n    timestamps:true,\n});\n\nconst Product =  mongoose.model('Product', ProductSchema);\nexport default Product;"],"mappings":"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"}},"mtime":1701093120833},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    require: true\n  },\n  valor: {\n    type: String,\n    require: true\n  },\n  stock: {\n    type: Number,\n    require: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJ2YWxvciIsIlN0cmluZyIsInN0b2NrIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIlZhcmllZGFkIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiVmFyaWVkYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSB9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBWYXJpZWRhZFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIHByb2R1Y3Q6IHt0eXBlOiBTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ3Byb2R1Y3QnLCByZXF1aXJlOnRydWV9LFxuICAgIHZhbG9yOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlOnRydWV9LFxuICAgIHN0b2NrOiB7dHlwZTogTnVtYmVyLCByZXF1aXJlOnRydWV9LFxufSwge1xuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcblxufSk7XG5cbmNvbnN0IFZhcmllZGFkID0gbW9uZ29vc2UubW9kZWwoJ3ZhcmllZGFkJywgVmFyaWVkYWRTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgVmFyaWVkYWQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLElBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWpCLENBQUEsRUFBQWMsQ0FBQSxTQUFBSSxDQUFBLEdBQUFSLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUksQ0FBQSxLQUFBQSxDQUFBLENBQUFYLEdBQUEsSUFBQVcsQ0FBQSxDQUFBQyxHQUFBLElBQUFSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUksQ0FBQSxJQUFBVixDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZ0IsR0FBQSxDQUFBbkIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFNUMsTUFBTVksY0FBYyxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDOUJDLE9BQU8sRUFBRTtJQUFDQyxJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFFLFNBQVM7SUFBRTNCLE9BQU8sRUFBQztFQUFJLENBQUM7RUFDOUQ0QixLQUFLLEVBQUU7SUFBQ0gsSUFBSSxFQUFFSSxNQUFNO0lBQUU3QixPQUFPLEVBQUM7RUFBSSxDQUFDO0VBQ25DOEIsS0FBSyxFQUFFO0lBQUNMLElBQUksRUFBRU0sTUFBTTtJQUFFL0IsT0FBTyxFQUFDO0VBQUk7QUFDdEMsQ0FBQyxFQUFFO0VBQ0NnQyxVQUFVLEVBQUM7QUFFZixDQUFDLENBQUM7QUFFRixNQUFNQyxRQUFRLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxVQUFVLEVBQUViLGNBQWMsQ0FBQztBQUFDLElBQUFjLFFBQUEsR0FBQUMsT0FBQSxDQUFBOUIsT0FBQSxHQUM3QzBCLFFBQVEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["Variedad.js"],"sourcesContent":["import mongoose, { Schema } from \"mongoose\";\n\nconst VariedadSchema = new Schema({\n    product: {type: Schema.ObjectId, ref: 'product', require:true},\n    valor: {type: String, require:true},\n    stock: {type: Number, require:true},\n}, {\n    timestamps:true,\n\n});\n\nconst Variedad = mongoose.model('variedad', VariedadSchema);\nexport default Variedad;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA4C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE5C,MAAMY,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,OAAO,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,SAAS;IAAE3B,OAAO,EAAC;EAAI,CAAC;EAC9D4B,KAAK,EAAE;IAACH,IAAI,EAAEI,MAAM;IAAE7B,OAAO,EAAC;EAAI,CAAC;EACnC8B,KAAK,EAAE;IAACL,IAAI,EAAEM,MAAM;IAAE/B,OAAO,EAAC;EAAI;AACtC,CAAC,EAAE;EACCgC,UAAU,EAAC;AAEf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAAEb,cAAc,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAC7C0B,QAAQ"}},"mtime":1701028423190},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  product_list: product => {\n    return {\n      _id: product._id,\n      title: product.title,\n      sku: product.sku,\n      slug: product.slug,\n      imagen: 'http://localhost:3000' + '/api/products/uploads/product/' + product.portada,\n      // Falta completar la ruta\n      categorie: product.categorie,\n      price_soles: product.price_soles,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      state: product.state\n    };\n  }\n};\n/**\n    title: {type:String, require:true, maxlength: 250},\n    slug: {type:String, require:true, maxlength: 1000},\n    categorie: {type:Schema.ObjectId, ref: 'categorie', require:true},\n    price_soles: {type:Number, require:true},\n    price_usd: {type:Number, require:true},\n    portada: {type:String, require:true},\n    galerias: [{type:Object, require:false}],\n    state: {type:Number, default:1}, // 1 es en prueba o desarrollo, 2 será publico y 3 será anulado\n    stock: {type:Number, default:0},\n    description: {type:String, require:true},\n    resumen: {type:String, require:true},\n    tags: {type:String, required:true},\n    type_inventario: {type: Number, default:1}\n */\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwiX2lkIiwidGl0bGUiLCJza3UiLCJzbHVnIiwiaW1hZ2VuIiwicG9ydGFkYSIsImNhdGVnb3JpZSIsInByaWNlX3NvbGVzIiwicHJpY2VfdXNkIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwiSlNPTiIsInBhcnNlIiwidHlwZV9pbnZlbnRhcmlvIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL3Jlc291cmNlcy8iLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xuICAgIHByb2R1Y3RfbGlzdDogKHByb2R1Y3QpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9pZDogcHJvZHVjdC5faWQsXG4gICAgICAgICAgICB0aXRsZTogcHJvZHVjdC50aXRsZSxcbiAgICAgICAgICAgIHNrdTogcHJvZHVjdC5za3UsXG4gICAgICAgICAgICBzbHVnOiBwcm9kdWN0LnNsdWcsXG4gICAgICAgICAgICBpbWFnZW46ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK3Byb2R1Y3QucG9ydGFkYSwgLy8gRmFsdGEgY29tcGxldGFyIGxhIHJ1dGFcbiAgICAgICAgICAgIGNhdGVnb3JpZTogcHJvZHVjdC5jYXRlZ29yaWUsXG4gICAgICAgICAgICBwcmljZV9zb2xlczogcHJvZHVjdC5wcmljZV9zb2xlcyxcbiAgICAgICAgICAgIHByaWNlX3VzZDogcHJvZHVjdC5wcmljZV91c2QsXG4gICAgICAgICAgICBzdG9jazogcHJvZHVjdC5zdG9jayxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgcmVzdW1lbjogcHJvZHVjdC5yZXN1bWVuLFxuICAgICAgICAgICAgdGFnczogcHJvZHVjdC50YWdzID8gSlNPTi5wYXJzZShwcm9kdWN0LnRhZ3MpIDogW10sXG4gICAgICAgICAgICB0eXBlX2ludmVudGFyaW86IHByb2R1Y3QudHlwZV9pbnZlbnRhcmlvLFxuICAgICAgICAgICAgc3RhdGU6IHByb2R1Y3Quc3RhdGUsXG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICAgIHRpdGxlOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmU6dHJ1ZSwgbWF4bGVuZ3RoOiAyNTB9LFxuICAgIHNsdWc6IHt0eXBlOlN0cmluZywgcmVxdWlyZTp0cnVlLCBtYXhsZW5ndGg6IDEwMDB9LFxuICAgIGNhdGVnb3JpZToge3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6ICdjYXRlZ29yaWUnLCByZXF1aXJlOnRydWV9LFxuICAgIHByaWNlX3NvbGVzOiB7dHlwZTpOdW1iZXIsIHJlcXVpcmU6dHJ1ZX0sXG4gICAgcHJpY2VfdXNkOiB7dHlwZTpOdW1iZXIsIHJlcXVpcmU6dHJ1ZX0sXG4gICAgcG9ydGFkYToge3R5cGU6U3RyaW5nLCByZXF1aXJlOnRydWV9LFxuICAgIGdhbGVyaWFzOiBbe3R5cGU6T2JqZWN0LCByZXF1aXJlOmZhbHNlfV0sXG4gICAgc3RhdGU6IHt0eXBlOk51bWJlciwgZGVmYXVsdDoxfSwgLy8gMSBlcyBlbiBwcnVlYmEgbyBkZXNhcnJvbGxvLCAyIHNlcsOhIHB1YmxpY28geSAzIHNlcsOhIGFudWxhZG9cbiAgICBzdG9jazoge3R5cGU6TnVtYmVyLCBkZWZhdWx0OjB9LFxuICAgIGRlc2NyaXB0aW9uOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmU6dHJ1ZX0sXG4gICAgcmVzdW1lbjoge3R5cGU6U3RyaW5nLCByZXF1aXJlOnRydWV9LFxuICAgIHRhZ3M6IHt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXG4gICAgdHlwZV9pbnZlbnRhcmlvOiB7dHlwZTogTnVtYmVyLCBkZWZhdWx0OjF9XG4gKi8iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBZTtFQUNYQSxZQUFZLEVBQUdDLE9BQU8sSUFBSztJQUN2QixPQUFPO01BQ0hDLEdBQUcsRUFBRUQsT0FBTyxDQUFDQyxHQUFHO01BQ2hCQyxLQUFLLEVBQUVGLE9BQU8sQ0FBQ0UsS0FBSztNQUNwQkMsR0FBRyxFQUFFSCxPQUFPLENBQUNHLEdBQUc7TUFDaEJDLElBQUksRUFBRUosT0FBTyxDQUFDSSxJQUFJO01BQ2xCQyxNQUFNLEVBQUUsdUJBQXVCLEdBQUMsZ0NBQWdDLEdBQUNMLE9BQU8sQ0FBQ00sT0FBTztNQUFFO01BQ2xGQyxTQUFTLEVBQUVQLE9BQU8sQ0FBQ08sU0FBUztNQUM1QkMsV0FBVyxFQUFFUixPQUFPLENBQUNRLFdBQVc7TUFDaENDLFNBQVMsRUFBRVQsT0FBTyxDQUFDUyxTQUFTO01BQzVCQyxLQUFLLEVBQUVWLE9BQU8sQ0FBQ1UsS0FBSztNQUNwQkMsV0FBVyxFQUFFWCxPQUFPLENBQUNXLFdBQVc7TUFDaENDLE9BQU8sRUFBRVosT0FBTyxDQUFDWSxPQUFPO01BQ3hCQyxJQUFJLEVBQUViLE9BQU8sQ0FBQ2EsSUFBSSxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQ2YsT0FBTyxDQUFDYSxJQUFJLENBQUMsR0FBRyxFQUFFO01BQ2xERyxlQUFlLEVBQUVoQixPQUFPLENBQUNnQixlQUFlO01BQ3hDQyxLQUFLLEVBQUVqQixPQUFPLENBQUNpQjtJQUNuQixDQUFDO0VBQ0w7QUFDSixDQUFDO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIn0=","map":{"version":3,"names":["product_list","product","_id","title","sku","slug","imagen","portada","categorie","price_soles","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","state"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["Product.js"],"sourcesContent":["export default {\n    product_list: (product) => {\n        return {\n            _id: product._id,\n            title: product.title,\n            sku: product.sku,\n            slug: product.slug,\n            imagen: 'http://localhost:3000'+'/api/products/uploads/product/'+product.portada, // Falta completar la ruta\n            categorie: product.categorie,\n            price_soles: product.price_soles,\n            price_usd: product.price_usd,\n            stock: product.stock,\n            description: product.description,\n            resumen: product.resumen,\n            tags: product.tags ? JSON.parse(product.tags) : [],\n            type_inventario: product.type_inventario,\n            state: product.state,\n        }\n    }\n}\n\n/**\n    title: {type:String, require:true, maxlength: 250},\n    slug: {type:String, require:true, maxlength: 1000},\n    categorie: {type:Schema.ObjectId, ref: 'categorie', require:true},\n    price_soles: {type:Number, require:true},\n    price_usd: {type:Number, require:true},\n    portada: {type:String, require:true},\n    galerias: [{type:Object, require:false}],\n    state: {type:Number, default:1}, // 1 es en prueba o desarrollo, 2 será publico y 3 será anulado\n    stock: {type:Number, default:0},\n    description: {type:String, require:true},\n    resumen: {type:String, require:true},\n    tags: {type:String, required:true},\n    type_inventario: {type: Number, default:1}\n */"],"mappings":";;;;;;iCAAe;EACXA,YAAY,EAAGC,OAAO,IAAK;IACvB,OAAO;MACHC,GAAG,EAAED,OAAO,CAACC,GAAG;MAChBC,KAAK,EAAEF,OAAO,CAACE,KAAK;MACpBC,GAAG,EAAEH,OAAO,CAACG,GAAG;MAChBC,IAAI,EAAEJ,OAAO,CAACI,IAAI;MAClBC,MAAM,EAAE,uBAAuB,GAAC,gCAAgC,GAACL,OAAO,CAACM,OAAO;MAAE;MAClFC,SAAS,EAAEP,OAAO,CAACO,SAAS;MAC5BC,WAAW,EAAER,OAAO,CAACQ,WAAW;MAChCC,SAAS,EAAET,OAAO,CAACS,SAAS;MAC5BC,KAAK,EAAEV,OAAO,CAACU,KAAK;MACpBC,WAAW,EAAEX,OAAO,CAACW,WAAW;MAChCC,OAAO,EAAEZ,OAAO,CAACY,OAAO;MACxBC,IAAI,EAAEb,OAAO,CAACa,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACf,OAAO,CAACa,IAAI,CAAC,GAAG,EAAE;MAClDG,eAAe,EAAEhB,OAAO,CAACgB,eAAe;MACxCC,KAAK,EAAEjB,OAAO,CAACiB;IACnB,CAAC;EACL;AACJ,CAAC;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},"mtime":1701774881130},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.getImage);\nrouter.get(\"/show/:id\", _ProductController.default.show);\n\n// Variedad\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", _auth.default.verifyAdmin, _VariedadController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Qcm9kdWN0Q29udHJvbGxlciIsIl9WYXJpZWRhZENvbnRyb2xsZXIiLCJfYXV0aCIsIl9jb25uZWN0TXVsdGlwYXJ0eSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicGF0aCIsIm11bHRpcGFydHkiLCJ1cGxvYWREaXIiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsInByb2R1Y3RDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJyZWdpc3Rlcl9pbWFnZW4iLCJyZW1vdmVfaW1hZ2VuIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsImdldEltYWdlIiwic2hvdyIsInZhcmllZGFkQ29udHJvbGxlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHByb2R1Y3RDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Qcm9kdWN0Q29udHJvbGxlclwiO1xuaW1wb3J0IHZhcmllZGFkQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9WYXJpZWRhZENvbnRyb2xsZXInO1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCc7XG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tIFwiY29ubmVjdC1tdWx0aXBhcnR5XCI7XG5cbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOiAnLi91cGxvYWRzL3Byb2R1Y3QnfSk7XG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgcHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJfaW1hZ2VuXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgcHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXJfaW1hZ2VuKTtcbnJvdXRlci5wb3N0KFwiL3JlbW92ZV9pbWFnZW5cIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBwcm9kdWN0Q29udHJvbGxlci5yZW1vdmVfaW1hZ2VuKTtcblxucm91dGVyLnB1dChcIi91cGRhdGVcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBwcm9kdWN0Q29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsIGF1dGgudmVyaWZ5QWRtaW4sIHByb2R1Y3RDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgYXV0aC52ZXJpZnlBZG1pbiwgcHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlKTtcblxucm91dGVyLmdldChcIi91cGxvYWRzL3Byb2R1Y3QvOmltZ1wiLCBwcm9kdWN0Q29udHJvbGxlci5nZXRJbWFnZSk7XG5yb3V0ZXIuZ2V0KFwiL3Nob3cvOmlkXCIsIHByb2R1Y3RDb250cm9sbGVyLnNob3cpO1xuXG4vLyBWYXJpZWRhZFxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItdmFyaWVkYWRcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCB2YXJpZWRhZENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGUtdmFyaWVkYWRcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCB2YXJpZWRhZENvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXZhcmllZGFkLzppZFwiLCBhdXRoLnZlcmlmeUFkbWluLCB2YXJpZWRhZENvbnRyb2xsZXIuZGVsZXRlKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFDLGtCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxtQkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksa0JBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUE0QyxTQUFBRCx1QkFBQU0sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUo1Qzs7QUFNQSxJQUFJRyxJQUFJLEdBQUcsSUFBQUMsMEJBQVUsRUFBQztFQUFDQyxTQUFTLEVBQUU7QUFBbUIsQ0FBQyxDQUFDO0FBQ3ZELE1BQU1DLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDBCQUFpQixDQUFDQyxRQUFRLENBQUM7QUFDOUVOLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBRVEsMEJBQWlCLENBQUNFLGVBQWUsQ0FBQztBQUM1RlAsTUFBTSxDQUFDRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFUSwwQkFBaUIsQ0FBQ0csYUFBYSxDQUFDO0FBRXhGUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFUSwwQkFBaUIsQ0FBQ0ssTUFBTSxDQUFDO0FBQ3pFVixNQUFNLENBQUNXLEdBQUcsQ0FBQyxPQUFPLEVBQUVSLGFBQUksQ0FBQ0MsV0FBVyxFQUFFQywwQkFBaUIsQ0FBQ08sSUFBSSxDQUFDO0FBQzdEWixNQUFNLENBQUNhLE1BQU0sQ0FBQyxTQUFTLEVBQUVWLGFBQUksQ0FBQ0MsV0FBVyxFQUFFQywwQkFBaUIsQ0FBQ1MsTUFBTSxDQUFDO0FBRXBFZCxNQUFNLENBQUNXLEdBQUcsQ0FBQyx1QkFBdUIsRUFBRU4sMEJBQWlCLENBQUNVLFFBQVEsQ0FBQztBQUMvRGYsTUFBTSxDQUFDVyxHQUFHLENBQUMsV0FBVyxFQUFFTiwwQkFBaUIsQ0FBQ1csSUFBSSxDQUFDOztBQUUvQztBQUNBaEIsTUFBTSxDQUFDRSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFb0IsMkJBQWtCLENBQUNYLFFBQVEsQ0FBQztBQUN4Rk4sTUFBTSxDQUFDUyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsQ0FBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFb0IsMkJBQWtCLENBQUNQLE1BQU0sQ0FBQztBQUNuRlYsTUFBTSxDQUFDYSxNQUFNLENBQUMsc0JBQXNCLEVBQUVWLGFBQUksQ0FBQ0MsV0FBVyxFQUFFYSwyQkFBa0IsQ0FBQ0osTUFBTSxDQUFDO0FBQUMsSUFBQUssUUFBQSxHQUFBQyxPQUFBLENBQUF2QixPQUFBLEdBRXBFSSxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ProductController","_VariedadController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","productController","register","register_imagen","remove_imagen","put","update","get","list","delete","remove","getImage","show","variedadController","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["Product.js"],"sourcesContent":["import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport productController from \"../controllers/ProductController\";\nimport variedadController from '../controllers/VariedadController';\nimport auth from '../middlewares/auth';\nimport multiparty from \"connect-multiparty\";\n\nvar path = multiparty({uploadDir: './uploads/product'});\nconst router = routerx();\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], productController.register);\nrouter.post(\"/register_imagen\", [auth.verifyAdmin, path], productController.register_imagen);\nrouter.post(\"/remove_imagen\", [auth.verifyAdmin, path], productController.remove_imagen);\n\nrouter.put(\"/update\", [auth.verifyAdmin, path], productController.update);\nrouter.get(\"/list\", auth.verifyAdmin, productController.list);\nrouter.delete(\"/delete\", auth.verifyAdmin, productController.remove);\n\nrouter.get(\"/uploads/product/:img\", productController.getImage);\nrouter.get(\"/show/:id\", productController.show);\n\n// Variedad\nrouter.post(\"/register-variedad\", [auth.verifyAdmin, path], variedadController.register);\nrouter.put(\"/update-variedad\", [auth.verifyAdmin, path], variedadController.update);\nrouter.delete(\"/delete-variedad/:id\", auth.verifyAdmin, variedadController.delete);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,mBAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,kBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAJ5C;;AAMA,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAmB,CAAC,CAAC;AACvD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACC,QAAQ,CAAC;AAC9EN,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACE,eAAe,CAAC;AAC5FP,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACG,aAAa,CAAC;AAExFR,MAAM,CAACS,GAAG,CAAC,SAAS,EAAE,CAACN,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACK,MAAM,CAAC;AACzEV,MAAM,CAACW,GAAG,CAAC,OAAO,EAAER,aAAI,CAACC,WAAW,EAAEC,0BAAiB,CAACO,IAAI,CAAC;AAC7DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAAEV,aAAI,CAACC,WAAW,EAAEC,0BAAiB,CAACS,MAAM,CAAC;AAEpEd,MAAM,CAACW,GAAG,CAAC,uBAAuB,EAAEN,0BAAiB,CAACU,QAAQ,CAAC;AAC/Df,MAAM,CAACW,GAAG,CAAC,WAAW,EAAEN,0BAAiB,CAACW,IAAI,CAAC;;AAE/C;AACAhB,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEoB,2BAAkB,CAACX,QAAQ,CAAC;AACxFN,MAAM,CAACS,GAAG,CAAC,kBAAkB,EAAE,CAACN,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEoB,2BAAkB,CAACP,MAAM,CAAC;AACnFV,MAAM,CAACa,MAAM,CAAC,sBAAsB,EAAEV,aAAI,CAACC,WAAW,EAAEa,2BAAkB,CAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GAEpEI,MAAM"}},"mtime":1701948880092},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      if (valid_Product) {\n        res.status(200).send({\n          code: 403,\n          message: \"El producto ya existe\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json({\n        message: \"El Producto se registró correctamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Debugg: ProducController - Ocurrio un problema en Register\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (valid_Product) {\n        res.status(200).send({\n          code: 403,\n          message: \"El producto ya existe\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: \"El Registro se ha modificado correctamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Debugg: ProducController - Ocurrio un problema en Update\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      var categorie = req.query.categorie;\n      let products = await _models.default.Product.find({\n        $or: [{\n          \"title\": new RegExp(search, 'i')\n        }, {\n          \"categorie\": categorie\n        }]\n      }).populate('categorie');\n      products = products.map(product => {\n        return _resources.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController list - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.params._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      resizeTo.status(200).json({\n        message: \"El producto se ha eliminado correctamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController remove - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  getImage: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController getImage - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('/');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"La imagen se subió perfectamente\",\n        imagen: {\n          imagen: imagen_name,\n          imagen_path: 'http://localhost:3000/' + '/uploads/product/' + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController register_imagen - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"La imagen se eliminó perfectamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController remove_imagen - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let product = await _models.default.Product.findById({\n        _id: product_id\n      }).populate(\"categorie\");\n      let variedades = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resources.default.Product.product_list(product, variedades)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController show - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJ2YWxpZF9Qcm9kdWN0IiwibW9kZWxzIiwiUHJvZHVjdCIsImZpbmRPbmUiLCJ0aXRsZSIsInN0YXR1cyIsInNlbmQiLCJjb2RlIiwibWVzc2FnZSIsInNsdWciLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJmaWxlcyIsImltZ19wYXRoIiwiaW1hZ2VuIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsInBvcnRhZGEiLCJwcm9kdWN0IiwiY3JlYXRlIiwianNvbiIsImVycm9yIiwidXBkYXRlIiwiX2lkIiwiJG5lIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJjb25zb2xlIiwibG9nIiwibGlzdCIsInNlYXJjaCIsInF1ZXJ5IiwiY2F0ZWdvcmllIiwicHJvZHVjdHMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwicG9wdWxhdGUiLCJtYXAiLCJyZXNvdXJjZXMiLCJwcm9kdWN0X2xpc3QiLCJyZW1vdmUiLCJwYXJhbXMiLCJmaW5kQnlJZEFuZERlbGV0ZSIsInJlc2l6ZVRvIiwiZ2V0SW1hZ2UiLCJpbWciLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlZ2lzdGVyX2ltYWdlbiIsImltYWdlbl9uYW1lIiwiJHB1c2giLCJnYWxlcmlhcyIsIl9faWQiLCJpbWFnZW5fcGF0aCIsInJlbW92ZV9pbWFnZW4iLCIkcHVsbCIsInNob3ciLCJwcm9kdWN0X2lkIiwiaWQiLCJmaW5kQnlJZCIsInZhcmllZGFkZXMiLCJWYXJpZWRhZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJQcm9kdWN0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscyc7XG5pbXBvcnQgcmVzb3VyY2VzIGZyb20gJy4uL3Jlc291cmNlcyc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcblxuICAgICAgICAgICAgbGV0IHZhbGlkX1Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHt0aXRsZTogZGF0YS50aXRsZX0pO1xuXG4gICAgICAgICAgICBpZih2YWxpZF9Qcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiA0MDMsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRWwgcHJvZHVjdG8geWEgZXhpc3RlXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGEuc2x1ZyA9IGRhdGEudGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csJy0nKS5yZXBsYWNlKC9bXlxcdy1dKy9nLCcnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHJlcS5maWxlcykge1xuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAgICAgICAgZGF0YS5wb3J0YWRhID0gcG9ydGFkYV9uYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmNyZWF0ZShkYXRhKTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRWwgUHJvZHVjdG8gc2UgcmVnaXN0csOzIGNvcnJlY3RhbWVudGVcIlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkRlYnVnZzogUHJvZHVjQ29udHJvbGxlciAtIE9jdXJyaW8gdW4gcHJvYmxlbWEgZW4gUmVnaXN0ZXJcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG5cbiAgICAgICAgICAgIGxldCB2YWxpZF9Qcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7dGl0bGU6IGRhdGEudGl0bGUsIF9pZDogeyRuZTogZGF0YS5faWR9IH0pO1xuXG4gICAgICAgICAgICBpZih2YWxpZF9Qcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiA0MDMsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRWwgcHJvZHVjdG8geWEgZXhpc3RlXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGEuc2x1ZyA9IGRhdGEudGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csJy0nKS5yZXBsYWNlKC9bXlxcdy1dKy9nLCcnKTtcblxuICAgICAgICAgICAgaWYgKHJlcS5maWxlcyAmJiByZXEuZmlsZXMuaW1hZ2VuKSB7XG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmltYWdlbi5wYXRoO1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICBkYXRhLnBvcnRhZGEgPSBwb3J0YWRhX25hbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSwgZGF0YSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVsIFJlZ2lzdHJvIHNlIGhhIG1vZGlmaWNhZG8gY29ycmVjdGFtZW50ZVwiXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRGVidWdnOiBQcm9kdWNDb250cm9sbGVyIC0gT2N1cnJpbyB1biBwcm9ibGVtYSBlbiBVcGRhdGVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpc3Q6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICAgICAgICAgIHZhciBjYXRlZ29yaWUgPSByZXEucXVlcnkuY2F0ZWdvcmllO1xuICAgICAgICAgICAgbGV0IHByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7XG4gICAgICAgICAgICAgICAgJG9yOltcbiAgICAgICAgICAgICAgICAgICAge1widGl0bGVcIjogbmV3IFJlZ0V4cChzZWFyY2gsICdpJyl9LFxuICAgICAgICAgICAgICAgICAgICB7XCJjYXRlZ29yaWVcIjogY2F0ZWdvcmllfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSkucG9wdWxhdGUoJ2NhdGVnb3JpZScpXG5cbiAgICAgICAgICAgIHByb2R1Y3RzID0gcHJvZHVjdHMubWFwKHByb2R1Y3QgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZXMuUHJvZHVjdC5wcm9kdWN0X2xpc3QocHJvZHVjdCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBwcm9kdWN0c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFByb2R1Y3RDb250cm9sbGVyIGxpc3QgLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5wYXJhbXMuX2lkO1xuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmREZWxldGUoe19pZDogX2lkfSk7XG4gICAgICAgICAgICByZXNpemVUby5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVsIHByb2R1Y3RvIHNlIGhhIGVsaW1pbmFkbyBjb3JyZWN0YW1lbnRlXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBQcm9kdWN0Q29udHJvbGxlciByZW1vdmUgLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0SW1hZ2U6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XG5cbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9wcm9kdWN0LycraW1nLCBmdW5jdGlvbihlcnIpe1xuICAgICAgICAgICAgICAgIGlmKCFlcnIpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL3Byb2R1Y3QvJytpbWc7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBQcm9kdWN0Q29udHJvbGxlciBnZXRJbWFnZSAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZWdpc3Rlcl9pbWFnZW46IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgICAgICB2YXIgaW1hZ2VuX25hbWUgPSBuYW1lWzJdO1xuXG4gICAgICAgICAgICBsZXQgcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0sIHtcbiAgICAgICAgICAgICAgICAkcHVzaDoge1xuICAgICAgICAgICAgICAgICAgICBnYWxlcmlhczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VuOiBpbWFnZW5fbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogcmVxLmJvZHkuX19pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMYSBpbWFnZW4gc2Ugc3ViacOzIHBlcmZlY3RhbWVudGVcIixcbiAgICAgICAgICAgICAgICBpbWFnZW46IHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VuOiBpbWFnZW5fbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VuX3BhdGg6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvJysnL3VwbG9hZHMvcHJvZHVjdC8nK2ltYWdlbl9uYW1lLFxuICAgICAgICAgICAgICAgICAgICBfaWQ6IHJlcS5ib2R5Ll9faWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBQcm9kdWN0Q29udHJvbGxlciByZWdpc3Rlcl9pbWFnZW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlX2ltYWdlbjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0sIHtcbiAgICAgICAgICAgICAgICAkcHVsbDoge1xuICAgICAgICAgICAgICAgICAgICBnYWxlcmlhczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxhIGltYWdlbiBzZSBlbGltaW7DsyBwZXJmZWN0YW1lbnRlXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogUHJvZHVjdENvbnRyb2xsZXIgcmVtb3ZlX2ltYWdlbiAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzaG93OiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHByb2R1Y3RfaWQgPSByZXEucGFyYW1zLmlkO1xuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZCh7X2lkOiBwcm9kdWN0X2lkfSkucG9wdWxhdGUoXCJjYXRlZ29yaWVcIik7XG4gICAgICAgICAgICBsZXQgdmFyaWVkYWRlcyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBwcm9kdWN0X2lkfSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgcHJvZHVjdDogcmVzb3VyY2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KHByb2R1Y3QsIHZhcmllZGFkZXMpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBQcm9kdWN0Q29udHJvbGxlciBzaG93IC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBd0IsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxP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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","data","body","valid_Product","models","Product","findOne","title","status","send","code","message","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","product","create","json","error","update","_id","$ne","findByIdAndUpdate","console","log","list","search","query","categorie","products","find","$or","RegExp","populate","map","resources","product_list","remove","params","findByIdAndDelete","resizeTo","getImage","img","fs","stat","err","path_img","sendFile","resolve","register_imagen","imagen_name","$push","galerias","__id","imagen_path","remove_imagen","$pull","show","product_id","id","findById","variedades","Variedad"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/","sources":["ProductController.js"],"sourcesContent":["import models from '../models';\nimport resources from '../resources';\nimport fs from 'fs';\nimport path from \"path\";\n\nexport default {\n    register: async(req, res) => {\n        try {\n            let data = req.body;\n\n            let valid_Product = await models.Product.findOne({title: data.title});\n\n            if(valid_Product) {\n                res.status(200).send({\n                    code: 403,\n                    message: \"El producto ya existe\"\n                });\n                return;\n            }\n\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\n            \n            if (req.files) {\n                var img_path = req.files.imagen.path;\n                var name = img_path.split('/');\n                var portada_name = name[2];\n                data.portada = portada_name;\n            }\n\n            let product = await models.Product.create(data);\n\n            res.status(200).json({\n                message: \"El Producto se registró correctamente\"\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"Debugg: ProducController - Ocurrio un problema en Register\"\n            });\n        }\n    },\n    update: async(req, res) => {\n        try {\n            let data = req.body;\n\n            let valid_Product = await models.Product.findOne({title: data.title, _id: {$ne: data._id} });\n\n            if(valid_Product) {\n                res.status(200).send({\n                    code: 403,\n                    message: \"El producto ya existe\"\n                });\n                return;\n            }\n\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\n\n            if (req.files && req.files.imagen) {\n                var img_path = req.files.imagen.path;\n                var name = img_path.split('/');\n                var portada_name = name[2];\n                data.portada = portada_name;\n            }\n\n            await models.Product.findByIdAndUpdate({_id: data._id}, data);\n\n            res.status(200).json({\n                message: \"El Registro se ha modificado correctamente\"\n            });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"Debugg: ProducController - Ocurrio un problema en Update\"\n            });\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            var categorie = req.query.categorie;\n            let products = await models.Product.find({\n                $or:[\n                    {\"title\": new RegExp(search, 'i')},\n                    {\"categorie\": categorie},\n                ],\n            }).populate('categorie')\n\n            products = products.map(product => {\n                return resources.Product.product_list(product);\n            });\n\n            res.status(200).json({\n                products: products\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController list - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            let _id = req.params._id;\n            await models.Product.findByIdAndDelete({_id: _id});\n            resizeTo.status(200).json({\n                message: \"El producto se ha eliminado correctamente\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController remove - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    getImage: async(req, res) => {\n        try {\n            var img = req.params['img'];\n\n            fs.stat('./uploads/product/'+img, function(err){\n                if(!err){\n                    let path_img = './uploads/product/'+img;\n                    res.status(200).sendFile(path.resolve(path_img));\n                }else{\n                    let path_img = './uploads/default.jpg';\n                    res.status(200).sendFile(path.resolve(path_img));\n                }\n            })\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController getImage - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    register_imagen: async(req, res) => {\n        try {\n            var img_path = req.files.imagen.path;\n            var name = img_path.split('/');\n            var imagen_name = name[2];\n\n            let product = await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n                $push: {\n                    galerias: {\n                        imagen: imagen_name,\n                        _id: req.body.__id\n                    }\n                }\n            });\n            res.status(200).json({\n                message: \"La imagen se subió perfectamente\",\n                imagen: {\n                    imagen: imagen_name,\n                    imagen_path: 'http://localhost:3000/'+'/uploads/product/'+imagen_name,\n                    _id: req.body.__id\n                }\n            })\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController register_imagen - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove_imagen: async(req, res) => {\n        try {\n            await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n                $pull: {\n                    galerias: {\n                        _id: req.body.__id\n                    }\n                }\n            });\n            res.status(200).json({\n                message: \"La imagen se eliminó perfectamente\",\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController remove_imagen - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    show: async(req, res) => {\n        try {\n            var product_id = req.params.id;\n            let product = await models.Product.findById({_id: product_id}).populate(\"categorie\");\n            let variedades = await models.Variedad.find({product: product_id});\n            res.status(200).json({\n                product: resources.Product.product_list(product, variedades)\n            })\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController show - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":"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"}},"mtime":1701990513389},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1ZhcmllZGFkIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlZhcmllZGFkIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCI7XG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gXCIuL0NhdGVnb3JpZVwiO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4vUHJvZHVjdFwiO1xuaW1wb3J0IFZhcmllZGFkIGZyb20gXCIuL1ZhcmllZGFkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBVc2VyLFxuICAgIENhdGVnb3JpZSxcbiAgICBQcm9kdWN0LFxuICAgIFZhcmllZGFkXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxRQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBa0MsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVuQjtFQUNYRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQSxrQkFBUztFQUNUQyxPQUFPLEVBQVBBLGdCQUFPO0VBQ1BDLFFBQVEsRUFBUkE7QUFDSixDQUFDIn0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","_Product","_Variedad","obj","__esModule","default","_default","exports","User","Categorie","Product","Variedad"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["index.js"],"sourcesContent":["import User from \"./User\";\nimport Categorie from \"./Categorie\";\nimport Product from \"./Product\";\nimport Variedad from \"./Variedad\";\n\nexport default {\n    User,\n    Categorie,\n    Product,\n    Variedad\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEnB;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA;AACJ,CAAC"}},"mtime":1701028540746},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es des activo.\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwic3RhdGUiLCJOdW1iZXIiLCJwaG9uZSIsImJpcnRoZGF5IiwidGltZXN0YW1wcyIsIlVzZXIiLCJtb29uZ29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb29uZ29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICByb2w6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjMwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBuYW1lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIHN1cm5hbWU6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGVtYWlsOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmVkOnRydWUsIHVuaXF1ZTp0cnVlfSxcbiAgICBwYXNzd29yZDp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBhdmF0YXI6e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHN0YXRlOnt0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6MX0sIC8vIDEgZXMgYWN0aXZvIHkgMiBlcyBkZXMgYWN0aXZvLlxuICAgIHBob25lOnt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxuICAgIGJpcnRoZGF5Ont0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZWQ6ZmFsc2V9LFxufSx7XG4gICAgdGltZXN0YW1wczogdHJ1ZVxufSk7XG5cbmNvbnN0IFVzZXIgPSBtb29uZ29zZS5tb2RlbChcInVzZXJcIiwgVXNlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","required","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","moongose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["User.js"],"sourcesContent":["import moongose, {Schema} from \"mongoose\";\n\nconst UserSchema = new Schema({\n    rol:{type: String, maxlength:30, required:true},\n    name:{type: String, maxlength:250, required:true},\n    surname:{type: String, maxlength:250, required:false},\n    email:{type: String, maxlength:250, required:true, unique:true},\n    password:{type: String, maxlength:250, required:true},\n    avatar:{type: String, maxlength:250, required:false},\n    state:{type: Number, default:1}, // 1 es activo y 2 es des activo.\n    phone:{type: String, maxlength:20, required:false},\n    birthday:{type: String, maxlength:20, required:false},\n},{\n    timestamps: true\n});\n\nconst User = moongose.model(\"user\", UserSchema);\nexport default User;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMY,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC/CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACjDE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACrDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC,IAAI;IAAEI,MAAM,EAAC;EAAI,CAAC;EAC/DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACpDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAAE7B,OAAO,EAAC;EAAC,CAAC;EAAE;EACjC8B,KAAK,EAAC;IAACZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK,CAAC;EAClDU,QAAQ,EAAC;IAACb,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAEC,QAAQ,EAAC;EAAK;AACxD,CAAC,EAAC;EACEW,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAArC,OAAA,GACjCiC,IAAI"}},"mtime":1700696027899},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = exports.default = Categorie;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNhdGVnb3JpZSIsIm1vb25nb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9vbmdvc2UsIHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDYXRlZ29yaWVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICB0aXRsZTp7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICBpbWFnZW46e3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXG4gICAgc3RhdGU6e3R5cGU6IE51bWJlciwgbWF4bGVuZ3RoOjIsIGRlZmF1bHQ6MX0sXG59LHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlXG59KTtcblxuY29uc3QgQ2F0ZWdvcmllID0gbW9vbmdvc2UubW9kZWwoXCJjYXRlZ29yaWVcIiwgQ2F0ZWdvcmllU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3JpZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsSUFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBakIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFJLENBQUEsR0FBQVIsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBSSxDQUFBLEtBQUFBLENBQUEsQ0FBQVgsR0FBQSxJQUFBVyxDQUFBLENBQUFDLEdBQUEsSUFBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBSSxDQUFBLElBQUFWLENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFnQixHQUFBLENBQUFuQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUUxQyxNQUFNWSxlQUFlLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUMvQkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xEQyxNQUFNLEVBQUM7SUFBQ0osSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkRFLEtBQUssRUFBQztJQUFDTCxJQUFJLEVBQUVNLE1BQU07SUFBRUosU0FBUyxFQUFDLENBQUM7SUFBRXBCLE9BQU8sRUFBQztFQUFDO0FBQy9DLENBQUMsRUFBQztFQUNFeUIsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLFNBQVMsR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFdBQVcsRUFBRWIsZUFBZSxDQUFDO0FBQUMsSUFBQWMsUUFBQSxHQUFBQyxPQUFBLENBQUE5QixPQUFBLEdBQ2hEMEIsU0FBUyJ9","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categorie","moongose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["Categorie.js"],"sourcesContent":["import moongose, {Schema} from \"mongoose\";\n\nconst CategorieSchema = new Schema({\n    title:{type: String, maxlength:250, required:true},\n    imagen:{type: String, maxlength:250, required:true},\n    state:{type: Number, maxlength:2, default:1},\n},{\n    timestamps: true\n});\n\nconst Categorie = moongose.model(\"categorie\", CategorieSchema);\nexport default Categorie;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMY,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAC/BC,KAAK,EAAC;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDC,MAAM,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnDE,KAAK,EAAC;IAACL,IAAI,EAAEM,MAAM;IAAEJ,SAAS,EAAC,CAAC;IAAEpB,OAAO,EAAC;EAAC;AAC/C,CAAC,EAAC;EACEyB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAAEb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAChD0B,SAAS"}},"mtime":1700696027899},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    require: true,\n    maxlength: 250\n  },\n  slug: {\n    type: String,\n    require: true,\n    maxlength: 1000\n  },\n  sku: {\n    type: String,\n    require: true\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    require: true\n  },\n  price_soles: {\n    type: Number,\n    require: true\n  },\n  price_usd: {\n    type: Number,\n    require: true\n  },\n  portada: {\n    type: String,\n    require: true\n  },\n  galerias: [{\n    type: Object,\n    require: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es en prueba o desarrollo, 2 será publico y 3 será anulado\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    require: true\n  },\n  resumen: {\n    type: String,\n    require: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('Product', ProductSchema);\nvar _default = exports.default = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwibWF4bGVuZ3RoIiwic2x1ZyIsInNrdSIsImNhdGVnb3JpZSIsIk9iamVjdElkIiwicmVmIiwicHJpY2Vfc29sZXMiLCJOdW1iZXIiLCJwcmljZV91c2QiLCJwb3J0YWRhIiwiZ2FsZXJpYXMiLCJzdGF0ZSIsInN0b2NrIiwiZGVzY3JpcHRpb24iLCJyZXN1bWVuIiwidGFncyIsInJlcXVpcmVkIiwidHlwZV9pbnZlbnRhcmlvIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJQcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSAseyBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBTY2hlbWEgKHtcbiAgICB0aXRsZToge3R5cGU6U3RyaW5nLCByZXF1aXJlOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgICBzbHVnOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmU6dHJ1ZSwgbWF4bGVuZ3RoOiAxMDAwfSxcbiAgICBza3U6IHt0eXBlOlN0cmluZywgcmVxdWlyZTp0cnVlfSxcbiAgICBjYXRlZ29yaWU6IHt0eXBlOlNjaGVtYS5PYmplY3RJZCwgcmVmOiAnY2F0ZWdvcmllJywgcmVxdWlyZTp0cnVlfSxcbiAgICBwcmljZV9zb2xlczoge3R5cGU6TnVtYmVyLCByZXF1aXJlOnRydWV9LFxuICAgIHByaWNlX3VzZDoge3R5cGU6TnVtYmVyLCByZXF1aXJlOnRydWV9LFxuICAgIHBvcnRhZGE6IHt0eXBlOlN0cmluZywgcmVxdWlyZTp0cnVlfSxcbiAgICBnYWxlcmlhczogW3t0eXBlOk9iamVjdCwgcmVxdWlyZTpmYWxzZX1dLFxuICAgIHN0YXRlOiB7dHlwZTpOdW1iZXIsIGRlZmF1bHQ6MX0sIC8vIDEgZXMgZW4gcHJ1ZWJhIG8gZGVzYXJyb2xsbywgMiBzZXLDoSBwdWJsaWNvIHkgMyBzZXLDoSBhbnVsYWRvXG4gICAgc3RvY2s6IHt0eXBlOk51bWJlciwgZGVmYXVsdDowfSxcbiAgICBkZXNjcmlwdGlvbjoge3R5cGU6U3RyaW5nLCByZXF1aXJlOnRydWV9LFxuICAgIHJlc3VtZW46IHt0eXBlOlN0cmluZywgcmVxdWlyZTp0cnVlfSxcbiAgICB0YWdzOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxuICAgIHR5cGVfaW52ZW50YXJpbzoge3R5cGU6IE51bWJlciwgZGVmYXVsdDoxfVxufSx7XG4gICAgdGltZXN0YW1wczp0cnVlLFxufSk7XG5cbmNvbnN0IFByb2R1Y3QgPSAgbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBQcm9kdWN0U2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3Q7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","ProductSchema","Schema","title","type","String","maxlength","slug","sku","categorie","ObjectId","ref","price_soles","Number","price_usd","portada","galerias","state","stock","description","resumen","tags","required","type_inventario","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["Product.js"],"sourcesContent":["import mongoose ,{ Schema } from \"mongoose\";\n\nconst ProductSchema = new Schema ({\n    title: {type:String, require:true, maxlength: 250},\n    slug: {type:String, require:true, maxlength: 1000},\n    sku: {type:String, require:true},\n    categorie: {type:Schema.ObjectId, ref: 'categorie', require:true},\n    price_soles: {type:Number, require:true},\n    price_usd: {type:Number, require:true},\n    portada: {type:String, require:true},\n    galerias: [{type:Object, require:false}],\n    state: {type:Number, default:1}, // 1 es en prueba o desarrollo, 2 será publico y 3 será anulado\n    stock: {type:Number, default:0},\n    description: {type:String, require:true},\n    resumen: {type:String, require:true},\n    tags: {type:String, required:true},\n    type_inventario: {type: Number, default:1}\n},{\n    timestamps:true,\n});\n\nconst Product =  mongoose.model('Product', ProductSchema);\nexport default Product;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA4C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE5C,MAAMY,aAAa,GAAG,IAAIC,gBAAM,CAAE;EAC9BC,KAAK,EAAE;IAACC,IAAI,EAACC,MAAM;IAAE1B,OAAO,EAAC,IAAI;IAAE2B,SAAS,EAAE;EAAG,CAAC;EAClDC,IAAI,EAAE;IAACH,IAAI,EAACC,MAAM;IAAE1B,OAAO,EAAC,IAAI;IAAE2B,SAAS,EAAE;EAAI,CAAC;EAClDE,GAAG,EAAE;IAACJ,IAAI,EAACC,MAAM;IAAE1B,OAAO,EAAC;EAAI,CAAC;EAChC8B,SAAS,EAAE;IAACL,IAAI,EAACF,gBAAM,CAACQ,QAAQ;IAAEC,GAAG,EAAE,WAAW;IAAEhC,OAAO,EAAC;EAAI,CAAC;EACjEiC,WAAW,EAAE;IAACR,IAAI,EAACS,MAAM;IAAElC,OAAO,EAAC;EAAI,CAAC;EACxCmC,SAAS,EAAE;IAACV,IAAI,EAACS,MAAM;IAAElC,OAAO,EAAC;EAAI,CAAC;EACtCoC,OAAO,EAAE;IAACX,IAAI,EAACC,MAAM;IAAE1B,OAAO,EAAC;EAAI,CAAC;EACpCqC,QAAQ,EAAE,CAAC;IAACZ,IAAI,EAACZ,MAAM;IAAEb,OAAO,EAAC;EAAK,CAAC,CAAC;EACxCsC,KAAK,EAAE;IAACb,IAAI,EAACS,MAAM;IAAE3B,OAAO,EAAC;EAAC,CAAC;EAAE;EACjCgC,KAAK,EAAE;IAACd,IAAI,EAACS,MAAM;IAAE3B,OAAO,EAAC;EAAC,CAAC;EAC/BiC,WAAW,EAAE;IAACf,IAAI,EAACC,MAAM;IAAE1B,OAAO,EAAC;EAAI,CAAC;EACxCyC,OAAO,EAAE;IAAChB,IAAI,EAACC,MAAM;IAAE1B,OAAO,EAAC;EAAI,CAAC;EACpC0C,IAAI,EAAE;IAACjB,IAAI,EAACC,MAAM;IAAEiB,QAAQ,EAAC;EAAI,CAAC;EAClCC,eAAe,EAAE;IAACnB,IAAI,EAAES,MAAM;IAAE3B,OAAO,EAAC;EAAC;AAC7C,CAAC,EAAC;EACEsC,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,OAAO,GAAIC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAAE1B,aAAa,CAAC;AAAC,IAAA2B,QAAA,GAAAC,OAAA,CAAA3C,OAAA,GAC3CuC,OAAO"}},"mtime":1701808521895},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    require: true\n  },\n  valor: {\n    type: String,\n    require: true\n  },\n  stock: {\n    type: Number,\n    require: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJ2YWxvciIsIlN0cmluZyIsInN0b2NrIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIlZhcmllZGFkIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiVmFyaWVkYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSB9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBWYXJpZWRhZFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIHByb2R1Y3Q6IHt0eXBlOiBTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ3Byb2R1Y3QnLCByZXF1aXJlOnRydWV9LFxuICAgIHZhbG9yOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlOnRydWV9LFxuICAgIHN0b2NrOiB7dHlwZTogTnVtYmVyLCByZXF1aXJlOnRydWV9LFxufSwge1xuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcblxufSk7XG5cbmNvbnN0IFZhcmllZGFkID0gbW9uZ29vc2UubW9kZWwoJ3ZhcmllZGFkJywgVmFyaWVkYWRTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgVmFyaWVkYWQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLElBQUFILE1BQUEsQ0FBQUksU0FBQSxDQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWpCLENBQUEsRUFBQWMsQ0FBQSxTQUFBSSxDQUFBLEdBQUFSLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUksQ0FBQSxLQUFBQSxDQUFBLENBQUFYLEdBQUEsSUFBQVcsQ0FBQSxDQUFBQyxHQUFBLElBQUFSLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUksQ0FBQSxJQUFBVixDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZ0IsR0FBQSxDQUFBbkIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFNUMsTUFBTVksY0FBYyxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDOUJDLE9BQU8sRUFBRTtJQUFDQyxJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFFLFNBQVM7SUFBRTNCLE9BQU8sRUFBQztFQUFJLENBQUM7RUFDOUQ0QixLQUFLLEVBQUU7SUFBQ0gsSUFBSSxFQUFFSSxNQUFNO0lBQUU3QixPQUFPLEVBQUM7RUFBSSxDQUFDO0VBQ25DOEIsS0FBSyxFQUFFO0lBQUNMLElBQUksRUFBRU0sTUFBTTtJQUFFL0IsT0FBTyxFQUFDO0VBQUk7QUFDdEMsQ0FBQyxFQUFFO0VBQ0NnQyxVQUFVLEVBQUM7QUFFZixDQUFDLENBQUM7QUFFRixNQUFNQyxRQUFRLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxVQUFVLEVBQUViLGNBQWMsQ0FBQztBQUFDLElBQUFjLFFBQUEsR0FBQUMsT0FBQSxDQUFBOUIsT0FBQSxHQUM3QzBCLFFBQVEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/models/","sources":["Variedad.js"],"sourcesContent":["import mongoose, { Schema } from \"mongoose\";\n\nconst VariedadSchema = new Schema({\n    product: {type: Schema.ObjectId, ref: 'product', require:true},\n    valor: {type: String, require:true},\n    stock: {type: Number, require:true},\n}, {\n    timestamps:true,\n\n});\n\nconst Variedad = mongoose.model('variedad', VariedadSchema);\nexport default Variedad;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA4C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE5C,MAAMY,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,OAAO,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,SAAS;IAAE3B,OAAO,EAAC;EAAI,CAAC;EAC9D4B,KAAK,EAAE;IAACH,IAAI,EAAEI,MAAM;IAAE7B,OAAO,EAAC;EAAI,CAAC;EACnC8B,KAAK,EAAE;IAACL,IAAI,EAAEM,MAAM;IAAE/B,OAAO,EAAC;EAAI;AACtC,CAAC,EAAE;EACCgC,UAAU,EAAC;AAEf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAAEb,cAAc,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAC7C0B,QAAQ"}},"mtime":1701028423190},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_udemy', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      /**\n       * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n       * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n       * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n       * \n       * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n       * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n       */\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_udemy');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(\"Debbug - token.js: \", error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbInRva2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZW5jb2RlOiBhc3luYyhfaWQsIHJvbCwgZW1haWwpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7X2lkOiBfaWQsIHJvbDpyb2wsIGVtYWlsOmVtYWlsfSwgJ2Vjb21tZXJjZV91ZGVteScsIHtleHBpcmVzSW46ICcxZCd9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgZGVjb2RlOiBhc3luYyh0b2tlbikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPQlRFTkVSIEVMIF9pZCBERUwgUEFZTE9BRCBWRVJJRklDQURPLlxuICAgICAgICAgICAgICogTFVFR08gU0UgQlVTQ0EgRVNBIENPTEVDQ0lPTiBFTiBFTCBNT0RFTFMgVVNFUlMgWSBERVNQVUVTIERFIFZFUklGSUNBIFxuICAgICAgICAgICAgICogUVVFIFNJIEVTVMOBIEVOIFVOIEVTVEFETyBBQ1RJVk8uXG4gICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAqIFkgU0kgRUwgVVNVQVJJTyBTSSBFWElTVEUsIFBVRVMgU0UgUkVUT1JOQSBFU0UgVVNVQVJJTy5cbiAgICAgICAgICAgICAqIEVOIENBU08gREUgUVVFIE5PIEVYSVNUQSwgU0UgUkVUT1JNQSBGQUxTRS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3Qge19pZH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCAnZWNvbW1lcmNlX3VkZW15Jyk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiBfaWQsIHN0YXRlOiAxfSk7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEZWJidWcgLSB0b2tlbi5qczogXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVoQjtFQUNYRyxNQUFNLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssS0FBSztJQUM5QixNQUFNQyxLQUFLLEdBQUdDLHFCQUFHLENBQUNDLElBQUksQ0FBQztNQUFDTCxHQUFHLEVBQUVBLEdBQUc7TUFBRUMsR0FBRyxFQUFDQSxHQUFHO01BQUVDLEtBQUssRUFBQ0E7SUFBSyxDQUFDLEVBQUUsaUJBQWlCLEVBQUU7TUFBQ0ksU0FBUyxFQUFFO0lBQUksQ0FBQyxDQUFDO0lBQzlGLE9BQU9ILEtBQUs7RUFDaEIsQ0FBQztFQUNESSxNQUFNLEVBQUUsTUFBTUosS0FBSyxJQUFLO0lBQ3BCLElBQUk7TUFDQTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO01BQ1ksTUFBTTtRQUFDSDtNQUFHLENBQUMsR0FBRyxNQUFNSSxxQkFBRyxDQUFDSSxNQUFNLENBQUNMLEtBQUssRUFBRSxpQkFBaUIsQ0FBQztNQUN4RCxNQUFNTSxJQUFJLEdBQUdDLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ1osR0FBRyxFQUFFQSxHQUFHO1FBQUVhLEtBQUssRUFBRTtNQUFDLENBQUMsQ0FBQztNQUN0RCxJQUFJSixJQUFJLEVBQUU7UUFDTixPQUFPQSxJQUFJO01BQ2Y7TUFDQSxPQUFPLEtBQUs7SUFDaEIsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRUYsS0FBSyxDQUFDO01BQ3pDLE9BQU8sS0FBSztJQUNoQjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\nimport models from '../models';\n\nexport default {\n    encode: async(_id, rol, email) => {\n        const token = jwt.sign({_id: _id, rol:rol, email:email}, 'ecommerce_udemy', {expiresIn: '1d'});\n        return token;\n    },\n    decode: async(token) => {\n        try {\n            /**\n             * OBTENER EL _id DEL PAYLOAD VERIFICADO.\n             * LUEGO SE BUSCA ESA COLECCION EN EL MODELS USERS Y DESPUES DE VERIFICA \n             * QUE SI ESTÁ EN UN ESTADO ACTIVO.\n             * \n             * Y SI EL USUARIO SI EXISTE, PUES SE RETORNA ESE USUARIO.\n             * EN CASO DE QUE NO EXISTA, SE RETORMA FALSE.\n             */\n            const {_id} = await jwt.verify(token, 'ecommerce_udemy');\n            const user = models.User.findOne({_id: _id, state: 1});\n            if (user) {\n                return user;\n            }\n            return false;\n        } catch (error) {\n            console.log(\"Debbug - token.js: \", error);\n            return false;\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACXG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAK;IAC9B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAAEA,GAAG;MAAEC,GAAG,EAACA,GAAG;MAAEC,KAAK,EAACA;IAAK,CAAC,EAAE,iBAAiB,EAAE;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IAC9F,OAAOH,KAAK;EAChB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAK;IACpB,IAAI;MACA;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;MACY,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,iBAAiB,CAAC;MACxD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAAEa,KAAK,EAAE;MAAC,CAAC,CAAC;MACtD,IAAIJ,IAAI,EAAE;QACN,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEF,KAAK,CAAC;MACzC,OAAO,KAAK;IAChB;EACJ;AACJ,CAAC"}},"mtime":1700696028062},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvcmVzb3VyY2VzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJztcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIFVzZXIsXG4gICAgQ2F0ZWdvcmllLFxuICAgIFByb2R1Y3Rcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRWpCO0VBQ1hHLElBQUksRUFBSkEsYUFBSTtFQUNKQyxTQUFTLEVBQVRBLGtCQUFTO0VBQ1RDLE9BQU8sRUFBUEE7QUFDSixDQUFDIn0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categorie","_Product","obj","__esModule","default","_default","exports","User","Categorie","Product"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["index.js"],"sourcesContent":["import User from './User';\nimport Categorie from './Categorie';\nimport Product from './Product';\n\nexport default {\n    User,\n    Categorie,\n    Product\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEjB;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA;AACJ,CAAC"}},"mtime":1701096238553},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJlbWFpbCIsImF2YXRhciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvcmVzb3VyY2VzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgdXNlcl9saXN0OiAodXNlcikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhclxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFSCxJQUFJLENBQUNHLE9BQU87TUFDckJDLEtBQUssRUFBRUosSUFBSSxDQUFDSSxLQUFLO01BQ2pCQyxNQUFNLEVBQUVMLElBQUksQ0FBQ0s7SUFDakIsQ0FBQztFQUNMO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["user_list","user","_id","name","surname","email","avatar"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["User.js"],"sourcesContent":["export default {\n    user_list: (user) => {\n        return {\n            _id: user._id,\n            name: user.name,\n            surname: user.surname,\n            email: user.email,\n            avatar: user.avatar\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;MACjBC,MAAM,EAAEL,IAAI,CAACK;IACjB,CAAC;EACL;AACJ,CAAC"}},"mtime":1700696028048},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL3Jlc291cmNlcy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgY2F0ZWdvcmllX2xpc3Q6IChjYXRlZ29yaWUpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9pZDogY2F0ZWdvcmllLl9pZCxcbiAgICAgICAgICAgIHRpdGxlOiBjYXRlZ29yaWUudGl0bGUsXG4gICAgICAgICAgICBpbWFnZW46IGNhdGVnb3JpZS5pbWFnZW4sXG4gICAgICAgICAgICBzdGF0ZTogY2F0ZWdvcmllLnN0YXRlLFxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLGNBQWMsRUFBR0MsU0FBUyxJQUFLO0lBQzNCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxTQUFTLENBQUNDLEdBQUc7TUFDbEJDLEtBQUssRUFBRUYsU0FBUyxDQUFDRSxLQUFLO01BQ3RCQyxNQUFNLEVBQUVILFNBQVMsQ0FBQ0csTUFBTTtNQUN4QkMsS0FBSyxFQUFFSixTQUFTLENBQUNJO0lBQ3JCLENBQUM7RUFDTDtBQUNKLENBQUMifQ==","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","state"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["Categorie.js"],"sourcesContent":["export default {\n    categorie_list: (categorie) => {\n        return {\n            _id: categorie._id,\n            title: categorie.title,\n            imagen: categorie.imagen,\n            state: categorie.state,\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,cAAc,EAAGC,SAAS,IAAK;IAC3B,OAAO;MACHC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,KAAK,EAAEJ,SAAS,CAACI;IACrB,CAAC;EACL;AACJ,CAAC"}},"mtime":1700696028047},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  product_list: (product, variedades = []) => {\n    return {\n      _id: product._id,\n      title: product.title,\n      sku: product.sku,\n      slug: product.slug,\n      imagen: 'http://localhost:3000' + '/api/products/uploads/product/' + product.portada,\n      // Falta completar la ruta\n      categorie: product.categorie,\n      price_soles: product.price_soles,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      state: product.state,\n      variedades: variedades,\n      galerias: product.galerias.map(galeria => {\n        galeria.imagen = 'http://localhost:3000' + '/api/products/uploads/product/' + galeria.imagen;\n        return galeria;\n      })\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsIl9pZCIsInRpdGxlIiwic2t1Iiwic2x1ZyIsImltYWdlbiIsInBvcnRhZGEiLCJjYXRlZ29yaWUiLCJwcmljZV9zb2xlcyIsInByaWNlX3VzZCIsInN0b2NrIiwiZGVzY3JpcHRpb24iLCJyZXN1bWVuIiwidGFncyIsIkpTT04iLCJwYXJzZSIsInR5cGVfaW52ZW50YXJpbyIsInN0YXRlIiwiZ2FsZXJpYXMiLCJtYXAiLCJnYWxlcmlhIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9yZXNvdXJjZXMvIiwic291cmNlcyI6WyJQcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgICBwcm9kdWN0X2xpc3Q6IChwcm9kdWN0LCB2YXJpZWRhZGVzID0gW10pID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIF9pZDogcHJvZHVjdC5faWQsXG4gICAgICAgICAgICB0aXRsZTogcHJvZHVjdC50aXRsZSxcbiAgICAgICAgICAgIHNrdTogcHJvZHVjdC5za3UsXG4gICAgICAgICAgICBzbHVnOiBwcm9kdWN0LnNsdWcsXG4gICAgICAgICAgICBpbWFnZW46ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK3Byb2R1Y3QucG9ydGFkYSwgLy8gRmFsdGEgY29tcGxldGFyIGxhIHJ1dGFcbiAgICAgICAgICAgIGNhdGVnb3JpZTogcHJvZHVjdC5jYXRlZ29yaWUsXG4gICAgICAgICAgICBwcmljZV9zb2xlczogcHJvZHVjdC5wcmljZV9zb2xlcyxcbiAgICAgICAgICAgIHByaWNlX3VzZDogcHJvZHVjdC5wcmljZV91c2QsXG4gICAgICAgICAgICBzdG9jazogcHJvZHVjdC5zdG9jayxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgcmVzdW1lbjogcHJvZHVjdC5yZXN1bWVuLFxuICAgICAgICAgICAgdGFnczogcHJvZHVjdC50YWdzID8gSlNPTi5wYXJzZShwcm9kdWN0LnRhZ3MpIDogW10sXG4gICAgICAgICAgICB0eXBlX2ludmVudGFyaW86IHByb2R1Y3QudHlwZV9pbnZlbnRhcmlvLFxuICAgICAgICAgICAgc3RhdGU6IHByb2R1Y3Quc3RhdGUsXG4gICAgICAgICAgICB2YXJpZWRhZGVzOiB2YXJpZWRhZGVzLFxuICAgICAgICAgICAgZ2FsZXJpYXM6IHByb2R1Y3QuZ2FsZXJpYXMubWFwKChnYWxlcmlhKSA9PiB7XG4gICAgICAgICAgICAgICAgZ2FsZXJpYS5pbWFnZW4gPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwJysnL2FwaS9wcm9kdWN0cy91cGxvYWRzL3Byb2R1Y3QvJytnYWxlcmlhLmltYWdlbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2FsZXJpYTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFlBQVksRUFBRUEsQ0FBQ0MsT0FBTyxFQUFFQyxVQUFVLEdBQUcsRUFBRSxLQUFLO0lBQ3hDLE9BQU87TUFDSEMsR0FBRyxFQUFFRixPQUFPLENBQUNFLEdBQUc7TUFDaEJDLEtBQUssRUFBRUgsT0FBTyxDQUFDRyxLQUFLO01BQ3BCQyxHQUFHLEVBQUVKLE9BQU8sQ0FBQ0ksR0FBRztNQUNoQkMsSUFBSSxFQUFFTCxPQUFPLENBQUNLLElBQUk7TUFDbEJDLE1BQU0sRUFBRSx1QkFBdUIsR0FBQyxnQ0FBZ0MsR0FBQ04sT0FBTyxDQUFDTyxPQUFPO01BQUU7TUFDbEZDLFNBQVMsRUFBRVIsT0FBTyxDQUFDUSxTQUFTO01BQzVCQyxXQUFXLEVBQUVULE9BQU8sQ0FBQ1MsV0FBVztNQUNoQ0MsU0FBUyxFQUFFVixPQUFPLENBQUNVLFNBQVM7TUFDNUJDLEtBQUssRUFBRVgsT0FBTyxDQUFDVyxLQUFLO01BQ3BCQyxXQUFXLEVBQUVaLE9BQU8sQ0FBQ1ksV0FBVztNQUNoQ0MsT0FBTyxFQUFFYixPQUFPLENBQUNhLE9BQU87TUFDeEJDLElBQUksRUFBRWQsT0FBTyxDQUFDYyxJQUFJLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDaEIsT0FBTyxDQUFDYyxJQUFJLENBQUMsR0FBRyxFQUFFO01BQ2xERyxlQUFlLEVBQUVqQixPQUFPLENBQUNpQixlQUFlO01BQ3hDQyxLQUFLLEVBQUVsQixPQUFPLENBQUNrQixLQUFLO01BQ3BCakIsVUFBVSxFQUFFQSxVQUFVO01BQ3RCa0IsUUFBUSxFQUFFbkIsT0FBTyxDQUFDbUIsUUFBUSxDQUFDQyxHQUFHLENBQUVDLE9BQU8sSUFBSztRQUN4Q0EsT0FBTyxDQUFDZixNQUFNLEdBQUcsdUJBQXVCLEdBQUMsZ0NBQWdDLEdBQUNlLE9BQU8sQ0FBQ2YsTUFBTTtRQUN4RixPQUFPZSxPQUFPO01BQ2xCLENBQUM7SUFDTCxDQUFDO0VBQ0w7QUFDSixDQUFDIn0=","map":{"version":3,"names":["product_list","product","variedades","_id","title","sku","slug","imagen","portada","categorie","price_soles","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","state","galerias","map","galeria"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/resources/","sources":["Product.js"],"sourcesContent":["export default {\n    product_list: (product, variedades = []) => {\n        return {\n            _id: product._id,\n            title: product.title,\n            sku: product.sku,\n            slug: product.slug,\n            imagen: 'http://localhost:3000'+'/api/products/uploads/product/'+product.portada, // Falta completar la ruta\n            categorie: product.categorie,\n            price_soles: product.price_soles,\n            price_usd: product.price_usd,\n            stock: product.stock,\n            description: product.description,\n            resumen: product.resumen,\n            tags: product.tags ? JSON.parse(product.tags) : [],\n            type_inventario: product.type_inventario,\n            state: product.state,\n            variedades: variedades,\n            galerias: product.galerias.map((galeria) => {\n                galeria.imagen = 'http://localhost:3000'+'/api/products/uploads/product/'+galeria.imagen;\n                return galeria;\n            }),\n        }\n    }\n}"],"mappings":";;;;;;iCAAe;EACXA,YAAY,EAAEA,CAACC,OAAO,EAAEC,UAAU,GAAG,EAAE,KAAK;IACxC,OAAO;MACHC,GAAG,EAAEF,OAAO,CAACE,GAAG;MAChBC,KAAK,EAAEH,OAAO,CAACG,KAAK;MACpBC,GAAG,EAAEJ,OAAO,CAACI,GAAG;MAChBC,IAAI,EAAEL,OAAO,CAACK,IAAI;MAClBC,MAAM,EAAE,uBAAuB,GAAC,gCAAgC,GAACN,OAAO,CAACO,OAAO;MAAE;MAClFC,SAAS,EAAER,OAAO,CAACQ,SAAS;MAC5BC,WAAW,EAAET,OAAO,CAACS,WAAW;MAChCC,SAAS,EAAEV,OAAO,CAACU,SAAS;MAC5BC,KAAK,EAAEX,OAAO,CAACW,KAAK;MACpBC,WAAW,EAAEZ,OAAO,CAACY,WAAW;MAChCC,OAAO,EAAEb,OAAO,CAACa,OAAO;MACxBC,IAAI,EAAEd,OAAO,CAACc,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAChB,OAAO,CAACc,IAAI,CAAC,GAAG,EAAE;MAClDG,eAAe,EAAEjB,OAAO,CAACiB,eAAe;MACxCC,KAAK,EAAElB,OAAO,CAACkB,KAAK;MACpBjB,UAAU,EAAEA,UAAU;MACtBkB,QAAQ,EAAEnB,OAAO,CAACmB,QAAQ,CAACC,GAAG,CAAEC,OAAO,IAAK;QACxCA,OAAO,CAACf,MAAM,GAAG,uBAAuB,GAAC,gCAAgC,GAACe,OAAO,CAACf,MAAM;QACxF,OAAOe,OAAO;MAClB,CAAC;IACL,CAAC;EACL;AACJ,CAAC"}},"mtime":1701991938894},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(401).send({\n        message: 'NO SE ENVIÓ EL TOKEN'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(401).send({\n          message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n        });\n      }\n    } else {\n      res.status(401).send({\n        message: 'EL TOKEN NO ES VALIDO'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwidmVyaWZ5RWNvbW1lcmNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlcnMiLCJ0b2tlbiIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJkZWNvZGUiLCJyb2wiLCJ2ZXJpZnlBZG1pbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJjbGllbnRlXCIgfHwgcmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIikge1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gRVNUw4EgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFTCBUT0tFTiBOTyBFUyBWQUxJRE8nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdmVyaWZ5QWRtaW46IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTk8gU0UgRU5WScOTIEVMIFRPS0VOJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKSB7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOTyBFU1TDgSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEEsIFBPUlFVRSBFUkVTIFVOIENMSUVOVCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUwgVE9LRU4gTk8gRVMgVkFMSURPJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFdkI7RUFDWEcsZUFBZSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDdEMsSUFBSSxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFFO01BQ3BCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFJSSxRQUFRLEVBQUU7TUFDVixJQUFJQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxTQUFTLElBQUlGLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBRTtRQUN0RFIsSUFBSSxDQUFDLENBQUM7TUFDVixDQUFDLE1BQU07UUFDSEQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFFO1FBQ2IsQ0FBQyxDQUFDO01BQ047SUFDSixDQUFDLE1BQU07TUFDSE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RJLFdBQVcsRUFBRSxNQUFBQSxDQUFNWCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0lBQ2xDLElBQUksQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBRTtNQUNwQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBSUksUUFBUSxFQUFFO01BQ1YsSUFBSUEsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFFO1FBQ3pCUixJQUFJLENBQUMsQ0FBQztNQUNWLENBQUMsTUFBTTtRQUNIRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsTUFBTTtNQUNITixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKO0FBQ0osQ0FBQyJ9","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/middlewares/","sources":["auth.js"],"sourcesContent":["import token from '../services/token';\n\nexport default {\n    verifyEcommerce: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"cliente\" || response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n    verifyAdmin: async(req, res, next) => {\n        if (!req.headers.token) {\n            res.status(401).send({\n                message: 'NO SE ENVIÓ EL TOKEN'\n            });\n        }\n        const response = await token.decode(req.headers.token);\n        if (response) {\n            if (response.rol == \"admin\") {\n                next();\n            } else {\n                res.status(401).send({\n                    message: 'NO ESTÁ PERMITIDO VISITAR ESTA RUTA, PORQUE ERES UN CLIENT'\n                });\n            }\n        } else {\n            res.status(401).send({\n                message: 'EL TOKEN NO ES VALIDO'\n            });\n        }\n    },\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEvB;EACXG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACtC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACtDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IAClC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACV,IAAIA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAE;QACzBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC"}},"mtime":1700696027898},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.getImage);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJjYXRlZ29yaWVDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwiZ2V0SW1hZ2UiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGNhdGVnb3JpZUNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL0NhdGVnb3JpZUNvbnRyb2xsZXJcIjtcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnO1xuaW1wb3J0IG11bHRpcGFydHkgZnJvbSBcImNvbm5lY3QtbXVsdGlwYXJ0eVwiO1xuXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjogJy4vdXBsb2Fkcy9jYXRlZ29yaWUnfSk7XG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgY2F0ZWdvcmllQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sIGNhdGVnb3JpZUNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLCBhdXRoLnZlcmlmeUFkbWluLCBjYXRlZ29yaWVDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgYXV0aC52ZXJpZnlBZG1pbiwgY2F0ZWdvcmllQ29udHJvbGxlci5yZW1vdmUpO1xuXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvY2F0ZWdvcmllLzppbWdcIiwgY2F0ZWdvcmllQ29udHJvbGxlci5nZXRJbWFnZSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBQyxvQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUE0QyxTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUg1Qzs7QUFLQSxJQUFJRyxJQUFJLEdBQUcsSUFBQUMsMEJBQVUsRUFBQztFQUFDQyxTQUFTLEVBQUU7QUFBcUIsQ0FBQyxDQUFDO0FBQ3pELE1BQU1DLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDRCQUFtQixDQUFDQyxRQUFRLENBQUM7QUFDaEZOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDRCQUFtQixDQUFDRyxNQUFNLENBQUM7QUFDM0VSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBRU4sYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDRCQUFtQixDQUFDSyxJQUFJLENBQUM7QUFDL0RWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBRVIsYUFBSSxDQUFDQyxXQUFXLEVBQUVDLDRCQUFtQixDQUFDTyxNQUFNLENBQUM7QUFFdEVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHlCQUF5QixFQUFFSiw0QkFBbUIsQ0FBQ1EsUUFBUSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFuQixPQUFBLEdBRXJESSxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categorieController","register","put","update","get","list","delete","remove","getImage","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["Categorie.js"],"sourcesContent":["import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport categorieController from \"../controllers/CategorieController\";\nimport auth from '../middlewares/auth';\nimport multiparty from \"connect-multiparty\";\n\nvar path = multiparty({uploadDir: './uploads/categorie'});\nconst router = routerx();\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], categorieController.register);\nrouter.put(\"/update\", [auth.verifyAdmin, path], categorieController.update);\nrouter.get(\"/list\", auth.verifyAdmin, categorieController.list);\nrouter.delete(\"/delete\", auth.verifyAdmin, categorieController.remove);\n\nrouter.get(\"/uploads/categorie/:img\", categorieController.getImage);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAH5C;;AAKA,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAqB,CAAC,CAAC;AACzD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACC,QAAQ,CAAC;AAChFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAE,CAACJ,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACG,MAAM,CAAC;AAC3ER,MAAM,CAACS,GAAG,CAAC,OAAO,EAAEN,aAAI,CAACC,WAAW,EAAEC,4BAAmB,CAACK,IAAI,CAAC;AAC/DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAAER,aAAI,CAACC,WAAW,EAAEC,4BAAmB,CAACO,MAAM,CAAC;AAEtEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAAEJ,4BAAmB,CAACQ,QAAQ,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAErDI,MAAM"}},"mtime":1700699996867},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/*import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";*/\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        //console.log(portada_name);\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resources.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resources.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  getImage: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: UserController getImage - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBvcnRhZGEiLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwiYm9keSIsImltYWdlbiIsImNhdGVnb3JpZSIsIm1vZGVscyIsIkNhdGVnb3JpZSIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwiQ2F0ZWdvcmllVCIsImZpbmRPbmUiLCJyZXNvdXJjZXMiLCJjYXRlZ29yaWVfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIkNhdGVnb3JpZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJjYXRlZ29yaWVzIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJnZXRJbWFnZSIsImltZyIsInBhcmFtcyIsImZzIiwic3RhdCIsImVyciIsInBhdGhfaW1nIiwic2VuZEZpbGUiLCJyZXNvbHZlIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvZWRkeWx1amFuL0RvY3VtZW50cy9ERVNBUlJPTExPL1dFQi9FQ09NTUVSQ0UvRUNPTU1FUkNFLU1FQU4vYXBpX2Vjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyppbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHRva2VuIGZyb20gXCIuLi9zZXJ2aWNlcy90b2tlblwiO1xuaW1wb3J0IHJlc291cmNlcyBmcm9tIFwiLi4vcmVzb3VyY2VzXCI7Ki9cblxuaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgcmVzb3VyY2VzIGZyb20gXCIuLi9yZXNvdXJjZXNcIjtcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICBcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyZXEuZmlsZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgICAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yaWUgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBVc2VyQ29udHJvbGxlciByZWdpc3RlciAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocmVxLmZpbGVzICYmIHJlcS5maWxlcy5wb3J0YWRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpO1xuICAgICAgICAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDpyZXEuYm9keS5faWR9LCByZXEuYm9keSk7XG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllVCA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZE9uZSh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBDQVRFR09SSUEgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllOiByZXNvdXJjZXMuQ2F0ZWdvcmllLmNhdGVnb3JpZV9saXN0KENhdGVnb3JpZVQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpc3Q6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtcbiAgICAgICAgICAgICAgICAkb3I6W1xuICAgICAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xuXG4gICAgICAgICAgICBDYXRlZ29yaWVzID0gQ2F0ZWdvcmllcy5tYXAoKHVzZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdCh1c2VyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllczogQ2F0ZWdvcmllc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgQ0FURUdPUklBIFNFIEVMSU1JTsOTIENPUlJFQ1RBTUVOVEVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFVzZXJDb250cm9sbGVyIGxvZ2luIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0SW1hZ2U6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XG5cbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9jYXRlZ29yaWUvJytpbWcsIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAgaWYoIWVycil7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvY2F0ZWdvcmllLycraW1nO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogVXNlckNvbnRyb2xsZXIgZ2V0SW1hZ2UgLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUtBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEdBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLEtBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUF3QixTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQVJ4QjtBQUNBO0FBQ0E7QUFDQTtBQUhBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBVWU7RUFFWEcsUUFBUSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQ3pCLElBQUk7TUFDQSxJQUFJRCxHQUFHLENBQUNFLEtBQUssRUFBRTtRQUNYLElBQUlDLFFBQVEsR0FBR0gsR0FBRyxDQUFDRSxLQUFLLENBQUNFLE9BQU8sQ0FBQ0MsSUFBSTtRQUNyQyxJQUFJQyxJQUFJLEdBQUdILFFBQVEsQ0FBQ0ksS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUM5QixJQUFJQyxZQUFZLEdBQUdGLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDMUJOLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDQyxNQUFNLEdBQUdGLFlBQVk7TUFDbEM7TUFDQSxNQUFNRyxTQUFTLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxTQUFTLENBQUNDLE1BQU0sQ0FBQ2QsR0FBRyxDQUFDUyxJQUFJLENBQUM7TUFDekRSLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNMLFNBQVMsQ0FBQztJQUNuQyxD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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resources","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","categories","remove","findByIdAndDelete","getImage","img","params","fs","stat","err","path_img","sendFile","resolve"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/","sources":["CategorieController.js"],"sourcesContent":["/*import models from \"../models\";\nimport bcrypt from 'bcryptjs';\nimport token from \"../services/token\";\nimport resources from \"../resources\";*/\n\nimport models from \"../models\";\nimport resources from \"../resources\";\nimport fs from 'fs';\nimport path from \"path\";\n\nexport default {\n   \n    register: async(req, res) => {\n        try {\n            if (req.files) {\n                var img_path = req.files.portada.path;\n                var name = img_path.split('/');\n                var portada_name = name[2];\n                req.body.imagen = portada_name;\n            }\n            const categorie = await models.Categorie.create(req.body);\n            res.status(200).json(categorie);\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController register - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    update: async(req, res) => {\n        try {\n            if (req.files && req.files.portada) {\n                var img_path = req.files.portada.path;\n                var name = img_path.split('\\\\');\n                var portada_name = name[2];\n                //console.log(portada_name);\n                req.body.imagen = portada_name;\n            }\n            await models.Categorie.findByIdAndUpdate({_id:req.body._id}, req.body);\n            let CategorieT = await models.Categorie.findOne({_id:req.body._id});\n\n            res.status(200).json({\n                message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n                categorie: resources.Categorie.categorie_list(CategorieT),\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            let Categories = await models.Categorie.find({\n                $or:[\n                    {\"title\": RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            Categories = Categories.map((user) => {\n                return resources.Categorie.categorie_list(user);\n            });\n\n            res.status(200).json({\n                categories: Categories\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            await models.Categorie.findByIdAndDelete({_id: req.query._id});\n            res.status(200).json({\n                message: \"LA CATEGORIA SE ELIMINÓ CORRECTAMENTE\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController login - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n\n    getImage: async(req, res) => {\n        try {\n            var img = req.params['img'];\n\n            fs.stat('./uploads/categorie/'+img, function(err){\n                if(!err){\n                    let path_img = './uploads/categorie/'+img;\n                    res.status(200).sendFile(path.resolve(path_img));\n                }else{\n                    let path_img = './uploads/default.jpg';\n                    res.status(200).sendFile(path.resolve(path_img));\n                }\n            })\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: UserController getImage - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":"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"}},"mtime":1701775886457},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.getImage);\nrouter.get(\"/show/:id\", _ProductController.default.show);\n\n// Variedad\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", _auth.default.verifyAdmin, _VariedadController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Qcm9kdWN0Q29udHJvbGxlciIsIl9WYXJpZWRhZENvbnRyb2xsZXIiLCJfYXV0aCIsIl9jb25uZWN0TXVsdGlwYXJ0eSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicGF0aCIsIm11bHRpcGFydHkiLCJ1cGxvYWREaXIiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsInByb2R1Y3RDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJyZWdpc3Rlcl9pbWFnZW4iLCJyZW1vdmVfaW1hZ2VuIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsImdldEltYWdlIiwic2hvdyIsInZhcmllZGFkQ29udHJvbGxlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHByb2R1Y3RDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Qcm9kdWN0Q29udHJvbGxlclwiO1xuaW1wb3J0IHZhcmllZGFkQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9WYXJpZWRhZENvbnRyb2xsZXInO1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCc7XG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tIFwiY29ubmVjdC1tdWx0aXBhcnR5XCI7XG5cbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOiAnLi91cGxvYWRzL3Byb2R1Y3QnfSk7XG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgcHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJfaW1hZ2VuXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgcHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXJfaW1hZ2VuKTtcbnJvdXRlci5wb3N0KFwiL3JlbW92ZV9pbWFnZW5cIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBwcm9kdWN0Q29udHJvbGxlci5yZW1vdmVfaW1hZ2VuKTtcblxucm91dGVyLnB1dChcIi91cGRhdGVcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBwcm9kdWN0Q29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsIGF1dGgudmVyaWZ5QWRtaW4sIHByb2R1Y3RDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgYXV0aC52ZXJpZnlBZG1pbiwgcHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlKTtcblxucm91dGVyLmdldChcIi91cGxvYWRzL3Byb2R1Y3QvOmltZ1wiLCBwcm9kdWN0Q29udHJvbGxlci5nZXRJbWFnZSk7XG5yb3V0ZXIuZ2V0KFwiL3Nob3cvOmlkXCIsIHByb2R1Y3RDb250cm9sbGVyLnNob3cpO1xuXG4vLyBWYXJpZWRhZFxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItdmFyaWVkYWRcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCB2YXJpZWRhZENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGUtdmFyaWVkYWRcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCB2YXJpZWRhZENvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXZhcmllZGFkLzppZFwiLCBhdXRoLnZlcmlmeUFkbWluLCB2YXJpZWRhZENvbnRyb2xsZXIuZGVsZXRlKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFDLGtCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxtQkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksa0JBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUE0QyxTQUFBRCx1QkFBQU0sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUo1Qzs7QUFNQSxJQUFJRyxJQUFJLEdBQUcsSUFBQUMsMEJBQVUsRUFBQztFQUFDQyxTQUFTLEVBQUU7QUFBbUIsQ0FBQyxDQUFDO0FBQ3ZELE1BQU1DLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDBCQUFpQixDQUFDQyxRQUFRLENBQUM7QUFDOUVOLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBRVEsMEJBQWlCLENBQUNFLGVBQWUsQ0FBQztBQUM1RlAsTUFBTSxDQUFDRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFUSwwQkFBaUIsQ0FBQ0csYUFBYSxDQUFDO0FBRXhGUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFUSwwQkFBaUIsQ0FBQ0ssTUFBTSxDQUFDO0FBQ3pFVixNQUFNLENBQUNXLEdBQUcsQ0FBQyxPQUFPLEVBQUVSLGFBQUksQ0FBQ0MsV0FBVyxFQUFFQywwQkFBaUIsQ0FBQ08sSUFBSSxDQUFDO0FBQzdEWixNQUFNLENBQUNhLE1BQU0sQ0FBQyxTQUFTLEVBQUVWLGFBQUksQ0FBQ0MsV0FBVyxFQUFFQywwQkFBaUIsQ0FBQ1MsTUFBTSxDQUFDO0FBRXBFZCxNQUFNLENBQUNXLEdBQUcsQ0FBQyx1QkFBdUIsRUFBRU4sMEJBQWlCLENBQUNVLFFBQVEsQ0FBQztBQUMvRGYsTUFBTSxDQUFDVyxHQUFHLENBQUMsV0FBVyxFQUFFTiwwQkFBaUIsQ0FBQ1csSUFBSSxDQUFDOztBQUUvQztBQUNBaEIsTUFBTSxDQUFDRSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFb0IsMkJBQWtCLENBQUNYLFFBQVEsQ0FBQztBQUN4Rk4sTUFBTSxDQUFDUyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsQ0FBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFb0IsMkJBQWtCLENBQUNQLE1BQU0sQ0FBQztBQUNuRlYsTUFBTSxDQUFDYSxNQUFNLENBQUMsc0JBQXNCLEVBQUVWLGFBQUksQ0FBQ0MsV0FBVyxFQUFFYSwyQkFBa0IsQ0FBQ0osTUFBTSxDQUFDO0FBQUMsSUFBQUssUUFBQSxHQUFBQyxPQUFBLENBQUF2QixPQUFBLEdBRXBFSSxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ProductController","_VariedadController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","productController","register","register_imagen","remove_imagen","put","update","get","list","delete","remove","getImage","show","variedadController","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["Product.js"],"sourcesContent":["import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport productController from \"../controllers/ProductController\";\nimport variedadController from '../controllers/VariedadController';\nimport auth from '../middlewares/auth';\nimport multiparty from \"connect-multiparty\";\n\nvar path = multiparty({uploadDir: './uploads/product'});\nconst router = routerx();\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], productController.register);\nrouter.post(\"/register_imagen\", [auth.verifyAdmin, path], productController.register_imagen);\nrouter.post(\"/remove_imagen\", [auth.verifyAdmin, path], productController.remove_imagen);\n\nrouter.put(\"/update\", [auth.verifyAdmin, path], productController.update);\nrouter.get(\"/list\", auth.verifyAdmin, productController.list);\nrouter.delete(\"/delete\", auth.verifyAdmin, productController.remove);\n\nrouter.get(\"/uploads/product/:img\", productController.getImage);\nrouter.get(\"/show/:id\", productController.show);\n\n// Variedad\nrouter.post(\"/register-variedad\", [auth.verifyAdmin, path], variedadController.register);\nrouter.put(\"/update-variedad\", [auth.verifyAdmin, path], variedadController.update);\nrouter.delete(\"/delete-variedad/:id\", auth.verifyAdmin, variedadController.delete);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,mBAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,kBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAJ5C;;AAMA,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAmB,CAAC,CAAC;AACvD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACC,QAAQ,CAAC;AAC9EN,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACE,eAAe,CAAC;AAC5FP,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACG,aAAa,CAAC;AAExFR,MAAM,CAACS,GAAG,CAAC,SAAS,EAAE,CAACN,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACK,MAAM,CAAC;AACzEV,MAAM,CAACW,GAAG,CAAC,OAAO,EAAER,aAAI,CAACC,WAAW,EAAEC,0BAAiB,CAACO,IAAI,CAAC;AAC7DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAAEV,aAAI,CAACC,WAAW,EAAEC,0BAAiB,CAACS,MAAM,CAAC;AAEpEd,MAAM,CAACW,GAAG,CAAC,uBAAuB,EAAEN,0BAAiB,CAACU,QAAQ,CAAC;AAC/Df,MAAM,CAACW,GAAG,CAAC,WAAW,EAAEN,0BAAiB,CAACW,IAAI,CAAC;;AAE/C;AACAhB,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEoB,2BAAkB,CAACX,QAAQ,CAAC;AACxFN,MAAM,CAACS,GAAG,CAAC,kBAAkB,EAAE,CAACN,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEoB,2BAAkB,CAACP,MAAM,CAAC;AACnFV,MAAM,CAACa,MAAM,CAAC,sBAAsB,EAAEV,aAAI,CAACC,WAAW,EAAEa,2BAAkB,CAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GAEpEI,MAAM"}},"mtime":1701948880092},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      if (valid_Product) {\n        res.status(200).send({\n          code: 403,\n          message: \"El producto ya existe\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json({\n        message: \"El Producto se registró correctamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Debugg: ProducController - Ocurrio un problema en Register\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (valid_Product) {\n        res.status(200).send({\n          code: 403,\n          message: \"El producto ya existe\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: \"El Registro se ha modificado correctamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Debugg: ProducController - Ocurrio un problema en Update\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      var categorie = req.query.categorie;\n      let products = await _models.default.Product.find({\n        $or: [{\n          \"title\": new RegExp(search, 'i')\n        }, {\n          \"categorie\": categorie\n        }]\n      }).populate('categorie');\n      products = products.map(product => {\n        return _resources.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController list - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.params._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      resizeTo.status(200).json({\n        message: \"El producto se ha eliminado correctamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController remove - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  getImage: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController getImage - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('/');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"La imagen se subió perfectamente\",\n        imagen: {\n          //imagen: imagen_name,\n          imagen: 'http://localhost:3000' + '/api/products/uploads/product/' + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController register_imagen - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"La imagen se eliminó perfectamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController remove_imagen - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let product = await _models.default.Product.findById({\n        _id: product_id\n      }).populate(\"categorie\");\n      let variedades = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resources.default.Product.product_list(product, variedades)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController show - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJ2YWxpZF9Qcm9kdWN0IiwibW9kZWxzIiwiUHJvZHVjdCIsImZpbmRPbmUiLCJ0aXRsZSIsInN0YXR1cyIsInNlbmQiLCJjb2RlIiwibWVzc2FnZSIsInNsdWciLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJmaWxlcyIsImltZ19wYXRoIiwiaW1hZ2VuIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsInBvcnRhZGEiLCJwcm9kdWN0IiwiY3JlYXRlIiwianNvbiIsImVycm9yIiwidXBkYXRlIiwiX2lkIiwiJG5lIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJjb25zb2xlIiwibG9nIiwibGlzdCIsInNlYXJjaCIsInF1ZXJ5IiwiY2F0ZWdvcmllIiwicHJvZHVjdHMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwicG9wdWxhdGUiLCJtYXAiLCJyZXNvdXJjZXMiLCJwcm9kdWN0X2xpc3QiLCJyZW1vdmUiLCJwYXJhbXMiLCJmaW5kQnlJZEFuZERlbGV0ZSIsInJlc2l6ZVRvIiwiZ2V0SW1hZ2UiLCJpbWciLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlZ2lzdGVyX2ltYWdlbiIsImltYWdlbl9uYW1lIiwiJHB1c2giLCJnYWxlcmlhcyIsIl9faWQiLCJyZW1vdmVfaW1hZ2VuIiwiJHB1bGwiLCJzaG93IiwicHJvZHVjdF9pZCIsImlkIiwiZmluZEJ5SWQiLCJ2YXJpZWRhZGVzIiwiVmFyaWVkYWQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiUHJvZHVjdENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xuaW1wb3J0IHJlc291cmNlcyBmcm9tICcuLi9yZXNvdXJjZXMnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG5cbiAgICAgICAgICAgIGxldCB2YWxpZF9Qcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7dGl0bGU6IGRhdGEudGl0bGV9KTtcblxuICAgICAgICAgICAgaWYodmFsaWRfUHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNDAzLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVsIHByb2R1Y3RvIHlhIGV4aXN0ZVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhLnNsdWcgPSBkYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCctJykucmVwbGFjZSgvW15cXHctXSsvZywnJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChyZXEuZmlsZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAgICAgICAgIGRhdGEucG9ydGFkYSA9IHBvcnRhZGFfbmFtZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5jcmVhdGUoZGF0YSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVsIFByb2R1Y3RvIHNlIHJlZ2lzdHLDsyBjb3JyZWN0YW1lbnRlXCJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJEZWJ1Z2c6IFByb2R1Y0NvbnRyb2xsZXIgLSBPY3VycmlvIHVuIHByb2JsZW1hIGVuIFJlZ2lzdGVyXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuXG4gICAgICAgICAgICBsZXQgdmFsaWRfUHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe3RpdGxlOiBkYXRhLnRpdGxlLCBfaWQ6IHskbmU6IGRhdGEuX2lkfSB9KTtcblxuICAgICAgICAgICAgaWYodmFsaWRfUHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNDAzLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVsIHByb2R1Y3RvIHlhIGV4aXN0ZVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhLnNsdWcgPSBkYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCctJykucmVwbGFjZSgvW15cXHctXSsvZywnJyk7XG5cbiAgICAgICAgICAgIGlmIChyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLmltYWdlbikge1xuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAgICAgICAgZGF0YS5wb3J0YWRhID0gcG9ydGFkYV9uYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBkYXRhLl9pZH0sIGRhdGEpO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFbCBSZWdpc3RybyBzZSBoYSBtb2RpZmljYWRvIGNvcnJlY3RhbWVudGVcIlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkRlYnVnZzogUHJvZHVjQ29udHJvbGxlciAtIE9jdXJyaW8gdW4gcHJvYmxlbWEgZW4gVXBkYXRlXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsaXN0OiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XG4gICAgICAgICAgICB2YXIgY2F0ZWdvcmllID0gcmVxLnF1ZXJ5LmNhdGVnb3JpZTtcbiAgICAgICAgICAgIGxldCBwcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe1xuICAgICAgICAgICAgICAgICRvcjpbXG4gICAgICAgICAgICAgICAgICAgIHtcInRpdGxlXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCAnaScpfSxcbiAgICAgICAgICAgICAgICAgICAge1wiY2F0ZWdvcmllXCI6IGNhdGVnb3JpZX0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0pLnBvcHVsYXRlKCdjYXRlZ29yaWUnKVxuXG4gICAgICAgICAgICBwcm9kdWN0cyA9IHByb2R1Y3RzLm1hcChwcm9kdWN0ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KHByb2R1Y3QpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogcHJvZHVjdHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBQcm9kdWN0Q29udHJvbGxlciBsaXN0IC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLl9pZDtcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xuICAgICAgICAgICAgcmVzaXplVG8uc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFbCBwcm9kdWN0byBzZSBoYSBlbGltaW5hZG8gY29ycmVjdGFtZW50ZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogUHJvZHVjdENvbnRyb2xsZXIgcmVtb3ZlIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEltYWdlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGltZyA9IHJlcS5wYXJhbXNbJ2ltZyddO1xuXG4gICAgICAgICAgICBmcy5zdGF0KCcuL3VwbG9hZHMvcHJvZHVjdC8nK2ltZywgZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgICAgICBpZighZXJyKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9wcm9kdWN0LycraW1nO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogUHJvZHVjdENvbnRyb2xsZXIgZ2V0SW1hZ2UgLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVnaXN0ZXJfaW1hZ2VuOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmltYWdlbi5wYXRoO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgICAgdmFyIGltYWdlbl9uYW1lID0gbmFtZVsyXTtcblxuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LCB7XG4gICAgICAgICAgICAgICAgJHB1c2g6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2FsZXJpYXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlbjogaW1hZ2VuX25hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHJlcS5ib2R5Ll9faWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTGEgaW1hZ2VuIHNlIHN1YmnDsyBwZXJmZWN0YW1lbnRlXCIsXG4gICAgICAgICAgICAgICAgaW1hZ2VuOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vaW1hZ2VuOiBpbWFnZW5fbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VuOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJysnL2FwaS9wcm9kdWN0cy91cGxvYWRzL3Byb2R1Y3QvJytpbWFnZW5fbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogUHJvZHVjdENvbnRyb2xsZXIgcmVnaXN0ZXJfaW1hZ2VuIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZV9pbWFnZW46IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LCB7XG4gICAgICAgICAgICAgICAgJHB1bGw6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2FsZXJpYXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogcmVxLmJvZHkuX19pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMYSBpbWFnZW4gc2UgZWxpbWluw7MgcGVyZmVjdGFtZW50ZVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFByb2R1Y3RDb250cm9sbGVyIHJlbW92ZV9pbWFnZW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2hvdzogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBwcm9kdWN0X2lkID0gcmVxLnBhcmFtcy5pZDtcbiAgICAgICAgICAgIGxldCBwcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDogcHJvZHVjdF9pZH0pLnBvcHVsYXRlKFwiY2F0ZWdvcmllXCIpO1xuICAgICAgICAgICAgbGV0IHZhcmllZGFkZXMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogcHJvZHVjdF9pZH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIHByb2R1Y3Q6IHJlc291cmNlcy5Qcm9kdWN0LnByb2R1Y3RfbGlzdChwcm9kdWN0LCB2YXJpZWRhZGVzKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogUHJvZHVjdENvbnRyb2xsZXIgc2hvdyAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsR0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQXdCLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxF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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","data","body","valid_Product","models","Product","findOne","title","status","send","code","message","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","product","create","json","error","update","_id","$ne","findByIdAndUpdate","console","log","list","search","query","categorie","products","find","$or","RegExp","populate","map","resources","product_list","remove","params","findByIdAndDelete","resizeTo","getImage","img","fs","stat","err","path_img","sendFile","resolve","register_imagen","imagen_name","$push","galerias","__id","remove_imagen","$pull","show","product_id","id","findById","variedades","Variedad"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/","sources":["ProductController.js"],"sourcesContent":["import models from '../models';\nimport resources from '../resources';\nimport fs from 'fs';\nimport path from \"path\";\n\nexport default {\n    register: async(req, res) => {\n        try {\n            let data = req.body;\n\n            let valid_Product = await models.Product.findOne({title: data.title});\n\n            if(valid_Product) {\n                res.status(200).send({\n                    code: 403,\n                    message: \"El producto ya existe\"\n                });\n                return;\n            }\n\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\n            \n            if (req.files) {\n                var img_path = req.files.imagen.path;\n                var name = img_path.split('/');\n                var portada_name = name[2];\n                data.portada = portada_name;\n            }\n\n            let product = await models.Product.create(data);\n\n            res.status(200).json({\n                message: \"El Producto se registró correctamente\"\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"Debugg: ProducController - Ocurrio un problema en Register\"\n            });\n        }\n    },\n    update: async(req, res) => {\n        try {\n            let data = req.body;\n\n            let valid_Product = await models.Product.findOne({title: data.title, _id: {$ne: data._id} });\n\n            if(valid_Product) {\n                res.status(200).send({\n                    code: 403,\n                    message: \"El producto ya existe\"\n                });\n                return;\n            }\n\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\n\n            if (req.files && req.files.imagen) {\n                var img_path = req.files.imagen.path;\n                var name = img_path.split('/');\n                var portada_name = name[2];\n                data.portada = portada_name;\n            }\n\n            await models.Product.findByIdAndUpdate({_id: data._id}, data);\n\n            res.status(200).json({\n                message: \"El Registro se ha modificado correctamente\"\n            });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"Debugg: ProducController - Ocurrio un problema en Update\"\n            });\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            var categorie = req.query.categorie;\n            let products = await models.Product.find({\n                $or:[\n                    {\"title\": new RegExp(search, 'i')},\n                    {\"categorie\": categorie},\n                ],\n            }).populate('categorie')\n\n            products = products.map(product => {\n                return resources.Product.product_list(product);\n            });\n\n            res.status(200).json({\n                products: products\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController list - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            let _id = req.params._id;\n            await models.Product.findByIdAndDelete({_id: _id});\n            resizeTo.status(200).json({\n                message: \"El producto se ha eliminado correctamente\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController remove - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    getImage: async(req, res) => {\n        try {\n            var img = req.params['img'];\n\n            fs.stat('./uploads/product/'+img, function(err){\n                if(!err){\n                    let path_img = './uploads/product/'+img;\n                    res.status(200).sendFile(path.resolve(path_img));\n                }else{\n                    let path_img = './uploads/default.jpg';\n                    res.status(200).sendFile(path.resolve(path_img));\n                }\n            })\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController getImage - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    register_imagen: async(req, res) => {\n        try {\n            var img_path = req.files.imagen.path;\n            var name = img_path.split('/');\n            var imagen_name = name[2];\n\n            let product = await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n                $push: {\n                    galerias: {\n                        imagen: imagen_name,\n                        _id: req.body.__id\n                    }\n                }\n            });\n            res.status(200).json({\n                message: \"La imagen se subió perfectamente\",\n                imagen: {\n                    //imagen: imagen_name,\n                    imagen: 'http://localhost:3000'+'/api/products/uploads/product/'+imagen_name,\n                    _id: req.body.__id\n                }\n            })\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController register_imagen - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove_imagen: async(req, res) => {\n        try {\n            await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n                $pull: {\n                    galerias: {\n                        _id: req.body.__id\n                    }\n                }\n            });\n            res.status(200).json({\n                message: \"La imagen se eliminó perfectamente\",\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController remove_imagen - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    show: async(req, res) => {\n        try {\n            var product_id = req.params.id;\n            let product = await models.Product.findById({_id: product_id}).populate(\"categorie\");\n            let variedades = await models.Variedad.find({product: product_id});\n            res.status(200).json({\n                product: resources.Product.product_list(product, variedades)\n            })\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController show - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,GAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAwB,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAET;EACXG,QAAQ,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,KAAK;IACzB,IAAI;MACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,IAAIC,aAAa,GAAG,MAAMC,eAAM,CAACC,OAAO,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,IAAI,CAACM;MAAK,CAAC,CAAC;MAErE,IAAGJ,aAAa,EAAE;QACdH,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,IAAI,EAAE,GAAG;UACTC,OAAO,EAAE;QACb,CAAC,CAAC;QACF;MACJ;MAEAV,IAAI,CAACW,IAAI,GAAGX,IAAI,CAACM,KAAK,CAACM,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,EAAC,GAAG,CAAC,CAACA,OAAO,CAAC,UAAU,EAAC,EAAE,CAAC;MAE7E,IAAIf,GAAG,CAACgB,KAAK,EAAE;QACX,IAAIC,QAAQ,GAAGjB,GAAG,CAACgB,KAAK,CAACE,MAAM,CAACC,IAAI;QACpC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC;QAC9B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAC1BlB,IAAI,CAACqB,OAAO,GAAGD,YAAY;MAC/B;MAEA,IAAIE,OAAO,GAAG,MAAMnB,eAAM,CAACC,OAAO,CAACmB,MAAM,CAACvB,IAAI,CAAC;MAE/CD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAC;QACjBd,OAAO,EAAE;MACb,CAAC,CAAC;IAEN,CAAC,CAAC,OAAOe,KAAK,EAAE;MACZ1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDgB,MAAM,EAAE,MAAAA,CAAM5B,GAAG,EAAEC,GAAG,KAAK;IACvB,IAAI;MACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,IAAIC,aAAa,GAAG,MAAMC,eAAM,CAACC,OAAO,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,IAAI,CAACM,KAAK;QAAEqB,GAAG,EAAE;UAACC,GAAG,EAAE5B,IAAI,CAAC2B;QAAG;MAAE,CAAC,CAAC;MAE5F,IAAGzB,aAAa,EAAE;QACdH,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,IAAI,EAAE,GAAG;UACTC,OAAO,EAAE;QACb,CAAC,CAAC;QACF;MACJ;MAEAV,IAAI,CAACW,IAAI,GAAGX,IAAI,CAACM,KAAK,CAACM,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,EAAC,GAAG,CAAC,CAACA,OAAO,CAAC,UAAU,EAAC,EAAE,CAAC;MAE7E,IAAIf,GAAG,CAACgB,KAAK,IAAIhB,GAAG,CAACgB,KAAK,CAACE,MAAM,EAAE;QAC/B,IAAID,QAAQ,GAAGjB,GAAG,CAACgB,KAAK,CAACE,MAAM,CAACC,IAAI;QACpC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC;QAC9B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAC1BlB,IAAI,CAACqB,OAAO,GAAGD,YAAY;MAC/B;MAEA,MAAMjB,eAAM,CAACC,OAAO,CAACyB,iBAAiB,CAAC;QAACF,GAAG,EAAE3B,IAAI,CAAC2B;MAAG,CAAC,EAAE3B,IAAI,CAAC;MAE7DD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAC;QACjBd,OAAO,EAAE;MACb,CAAC,CAAC;IAEN,CAAC,CAAC,OAAOe,KAAK,EAAE;MACZK,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;MAClB1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDsB,IAAI,EAAE,MAAAA,CAAMlC,GAAG,EAAEC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIkC,MAAM,GAAGnC,GAAG,CAACoC,KAAK,CAACD,MAAM;MAC7B,IAAIE,SAAS,GAAGrC,GAAG,CAACoC,KAAK,CAACC,SAAS;MACnC,IAAIC,QAAQ,GAAG,MAAMjC,eAAM,CAACC,OAAO,CAACiC,IAAI,CAAC;QACrCC,GAAG,EAAC,CACA;UAAC,OAAO,EAAE,IAAIC,MAAM,CAACN,MAAM,EAAE,GAAG;QAAC,CAAC,EAClC;UAAC,WAAW,EAAEE;QAAS,CAAC;MAEhC,CAAC,CAAC,CAACK,QAAQ,CAAC,WAAW,CAAC;MAExBJ,QAAQ,GAAGA,QAAQ,CAACK,GAAG,CAACnB,OAAO,IAAI;QAC/B,OAAOoB,kBAAS,CAACtC,OAAO,CAACuC,YAAY,CAACrB,OAAO,CAAC;MAClD,CAAC,CAAC;MAEFvB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAC;QACjBY,QAAQ,EAAEA;MACd,CAAC,CAAC;IACN,CAAC,CAAC,OAAOX,KAAK,EAAE;MACZ1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;MACFoB,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;IACtB;EACJ,CAAC;EACDmB,MAAM,EAAE,MAAAA,CAAM9C,GAAG,EAAEC,GAAG,KAAK;IACvB,IAAI;MACA,IAAI4B,GAAG,GAAG7B,GAAG,CAAC+C,MAAM,CAAClB,GAAG;MACxB,MAAMxB,eAAM,CAACC,OAAO,CAAC0C,iBAAiB,CAAC;QAACnB,GAAG,EAAEA;MAAG,CAAC,CAAC;MAClDoB,QAAQ,CAACxC,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAC;QACtBd,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOe,KAAK,EAAE;MACZ1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;MACFoB,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;IACtB;EACJ,CAAC;EACDuB,QAAQ,EAAE,MAAAA,CAAMlD,GAAG,EAAEC,GAAG,KAAK;IACzB,IAAI;MACA,IAAIkD,GAAG,GAAGnD,GAAG,CAAC+C,MAAM,CAAC,KAAK,CAAC;MAE3BK,WAAE,CAACC,IAAI,CAAC,oBAAoB,GAACF,GAAG,EAAE,UAASG,GAAG,EAAC;QAC3C,IAAG,CAACA,GAAG,EAAC;UACJ,IAAIC,QAAQ,GAAG,oBAAoB,GAACJ,GAAG;UACvClD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAAC+C,QAAQ,CAACrC,aAAI,CAACsC,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD,CAAC,MAAI;UACD,IAAIA,QAAQ,GAAG,uBAAuB;UACtCtD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAAC+C,QAAQ,CAACrC,aAAI,CAACsC,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD;MACJ,CAAC,CAAC;IACN,CAAC,CAAC,OAAO5B,KAAK,EAAE;MACZ1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;MACFoB,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;IACtB;EACJ,CAAC;EACD+B,eAAe,EAAE,MAAAA,CAAM1D,GAAG,EAAEC,GAAG,KAAK;IAChC,IAAI;MACA,IAAIgB,QAAQ,GAAGjB,GAAG,CAACgB,KAAK,CAACE,MAAM,CAACC,IAAI;MACpC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC;MAC9B,IAAIsC,WAAW,GAAGvC,IAAI,CAAC,CAAC,CAAC;MAEzB,IAAII,OAAO,GAAG,MAAMnB,eAAM,CAACC,OAAO,CAACyB,iBAAiB,CAAC;QAACF,GAAG,EAAE7B,GAAG,CAACG,IAAI,CAAC0B;MAAG,CAAC,EAAE;QACtE+B,KAAK,EAAE;UACHC,QAAQ,EAAE;YACN3C,MAAM,EAAEyC,WAAW;YACnB9B,GAAG,EAAE7B,GAAG,CAACG,IAAI,CAAC2D;UAClB;QACJ;MACJ,CAAC,CAAC;MACF7D,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAC;QACjBd,OAAO,EAAE,kCAAkC;QAC3CM,MAAM,EAAE;UACJ;UACAA,MAAM,EAAE,uBAAuB,GAAC,gCAAgC,GAACyC,WAAW;UAC5E9B,GAAG,EAAE7B,GAAG,CAACG,IAAI,CAAC2D;QAClB;MACJ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOnC,KAAK,EAAE;MACZ1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;MACFoB,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;IACtB;EACJ,CAAC;EACDoC,aAAa,EAAE,MAAAA,CAAM/D,GAAG,EAAEC,GAAG,KAAK;IAC9B,IAAI;MACA,MAAMI,eAAM,CAACC,OAAO,CAACyB,iBAAiB,CAAC;QAACF,GAAG,EAAE7B,GAAG,CAACG,IAAI,CAAC0B;MAAG,CAAC,EAAE;QACxDmC,KAAK,EAAE;UACHH,QAAQ,EAAE;YACNhC,GAAG,EAAE7B,GAAG,CAACG,IAAI,CAAC2D;UAClB;QACJ;MACJ,CAAC,CAAC;MACF7D,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAC;QACjBd,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOe,KAAK,EAAE;MACZ1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;MACFoB,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;IACtB;EACJ,CAAC;EACDsC,IAAI,EAAE,MAAAA,CAAMjE,GAAG,EAAEC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIiE,UAAU,GAAGlE,GAAG,CAAC+C,MAAM,CAACoB,EAAE;MAC9B,IAAI3C,OAAO,GAAG,MAAMnB,eAAM,CAACC,OAAO,CAAC8D,QAAQ,CAAC;QAACvC,GAAG,EAAEqC;MAAU,CAAC,CAAC,CAACxB,QAAQ,CAAC,WAAW,CAAC;MACpF,IAAI2B,UAAU,GAAG,MAAMhE,eAAM,CAACiE,QAAQ,CAAC/B,IAAI,CAAC;QAACf,OAAO,EAAE0C;MAAU,CAAC,CAAC;MAClEjE,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAC;QACjBF,OAAO,EAAEoB,kBAAS,CAACtC,OAAO,CAACuC,YAAY,CAACrB,OAAO,EAAE6C,UAAU;MAC/D,CAAC,CAAC;IACN,CAAC,CAAC,OAAO1C,KAAK,EAAE;MACZ1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;MACFoB,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC"}},"mtime":1701994409311},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"La variedad se eleminó correctamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJ2YXJpZWRhZF9leGl0cyIsIm1vZGVscyIsIlZhcmllZGFkIiwiZmluZE9uZSIsInZhbG9yIiwicHJvZHVjdCIsInZhcmllZGFkIiwic3RvY2siLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsImZpbmRCeUlkIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlIiwiZGVsZXRlIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJWYXJpZWRhZENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZWdpc3Rlcjphc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuICAgICAgICAgICAgbGV0IHZhcmllZGFkX2V4aXRzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe3ZhbG9yOiBkYXRhLnZhbG9yLCBwcm9kdWN0OiBkYXRhLnByb2R1Y3R9KTtcbiAgICAgICAgICAgIHZhciB2YXJpZWRhZCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICh2YXJpZWRhZF9leGl0cykge1xuICAgICAgICAgICAgICAgIGRhdGEuc3RvY2sgPSB2YXJpZWRhZF9leGl0cy5zdG9jayArIGRhdGEuc3RvY2s7XG4gICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0sIGRhdGEpO1xuICAgICAgICAgICAgICAgIHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5jcmVhdGUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICB2YXJpZWRhZDp2YXJpZWRhZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRGViYnVnIC0gVmFyaWVkYWRDb250cm9sbGVyOiAgT2N1cnJpbyB1biBwcm9ibGVtYSBlbiBlbCBtZWRvdG8gcmVnaXN0ZXJcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZTphc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LCBkYXRhKTtcbiAgICAgICAgICAgIGxldCB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZCh7X2lkOiBkYXRhLl9pZH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIHZhcmllZGFkOnZhcmllZGFkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJEZWJidWcgLSBWYXJpZWRhZENvbnRyb2xsZXI6ICBPY3VycmlvIHVuIHByb2JsZW1hIGVuIGVsIG1lZG90byByZWdpc3RlclwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGVsZXRlOmFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcIkxhIHZhcmllZGFkIHNlIGVsZW1pbsOzIGNvcnJlY3RhbWVudGVcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRGViYnVnIC0gVmFyaWVkYWRDb250cm9sbGVyOiAgT2N1cnJpbyB1biBwcm9ibGVtYSBlbiBlbCBtZWRvdG8gcmVnaXN0ZXJcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBRSxH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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","send","message","console","log","update","delete","params","id","findByIdAndDelete"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/","sources":["VariedadController.js"],"sourcesContent":["import models from \"../models\";\n\nexport default {\n    register:async(req,res) => {\n        try {\n            let data = req.body;\n            let variedad_exits = await models.Variedad.findOne({valor: data.valor, product: data.product});\n            var variedad = null;\n\n            if (variedad_exits) {\n                data.stock = variedad_exits.stock + data.stock;\n                await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id}, data);\n                variedad = await models.Variedad.findById({_id: variedad_exits._id});\n            } else {\n                variedad = await models.Variedad.create(data);\n            }\n            \n            res.status(200).json({\n                variedad:variedad,\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n            });\n            console.log(error);\n        }\n    },\n    update:async(req,res) => {\n        try {\n            let data = req.body;\n            await models.Variedad.findByIdAndUpdate({_id:data._id}, data);\n            let variedad = await models.Variedad.findById({_id: data._id});\n            res.status(200).json({\n                variedad:variedad,\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n            });\n            console.log(error);\n        }\n    },\n    delete:async(req,res) => {\n        try {\n            let _id = req.params.id;\n            await models.Variedad.findByIdAndDelete({_id:_id});\n            res.status(200).json({\n                message:\"La variedad se eleminó correctamente\",\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n            });\n            console.log(error);\n        }\n    },\n}"],"mappings":"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"}},"mtime":1701962309375},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"La variedad se eleminó correctamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJ2YXJpZWRhZF9leGl0cyIsIm1vZGVscyIsIlZhcmllZGFkIiwiZmluZE9uZSIsInZhbG9yIiwicHJvZHVjdCIsInZhcmllZGFkIiwic3RvY2siLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsImZpbmRCeUlkIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlIiwiZGVsZXRlIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJWYXJpZWRhZENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZWdpc3Rlcjphc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuICAgICAgICAgICAgbGV0IHZhcmllZGFkX2V4aXRzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe3ZhbG9yOiBkYXRhLnZhbG9yLCBwcm9kdWN0OiBkYXRhLnByb2R1Y3R9KTtcbiAgICAgICAgICAgIHZhciB2YXJpZWRhZCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICh2YXJpZWRhZF9leGl0cykge1xuICAgICAgICAgICAgICAgIGRhdGEuc3RvY2sgPSB2YXJpZWRhZF9leGl0cy5zdG9jayArIGRhdGEuc3RvY2s7XG4gICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0sIGRhdGEpO1xuICAgICAgICAgICAgICAgIHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5jcmVhdGUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICB2YXJpZWRhZDp2YXJpZWRhZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRGViYnVnIC0gVmFyaWVkYWRDb250cm9sbGVyOiAgT2N1cnJpbyB1biBwcm9ibGVtYSBlbiBlbCBtZWRvdG8gcmVnaXN0ZXJcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZTphc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LCBkYXRhKTtcbiAgICAgICAgICAgIGxldCB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZCh7X2lkOiBkYXRhLl9pZH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIHZhcmllZGFkOnZhcmllZGFkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJEZWJidWcgLSBWYXJpZWRhZENvbnRyb2xsZXI6ICBPY3VycmlvIHVuIHByb2JsZW1hIGVuIGVsIG1lZG90byByZWdpc3RlclwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGVsZXRlOmFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcIkxhIHZhcmllZGFkIHNlIGVsZW1pbsOzIGNvcnJlY3RhbWVudGVcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRGViYnVnIC0gVmFyaWVkYWRDb250cm9sbGVyOiAgT2N1cnJpbyB1biBwcm9ibGVtYSBlbiBlbCBtZWRvdG8gcmVnaXN0ZXJcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBRSxH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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","send","message","console","log","update","delete","params","id","findByIdAndDelete"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/","sources":["VariedadController.js"],"sourcesContent":["import models from \"../models\";\n\nexport default {\n    register:async(req,res) => {\n        try {\n            let data = req.body;\n            let variedad_exits = await models.Variedad.findOne({valor: data.valor, product: data.product});\n            var variedad = null;\n\n            if (variedad_exits) {\n                data.stock = variedad_exits.stock + data.stock;\n                await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id}, data);\n                variedad = await models.Variedad.findById({_id: variedad_exits._id});\n            } else {\n                variedad = await models.Variedad.create(data);\n            }\n            \n            res.status(200).json({\n                variedad:variedad,\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n            });\n            console.log(error);\n        }\n    },\n    update:async(req,res) => {\n        try {\n            let data = req.body;\n            await models.Variedad.findByIdAndUpdate({_id:data._id}, data);\n            let variedad = await models.Variedad.findById({_id: data._id});\n            res.status(200).json({\n                variedad:variedad,\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n            });\n            console.log(error);\n        }\n    },\n    delete:async(req,res) => {\n        try {\n            let _id = req.params.id;\n            await models.Variedad.findByIdAndDelete({_id:_id});\n            res.status(200).json({\n                message:\"La variedad se eleminó correctamente\",\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n            });\n            console.log(error);\n        }\n    },\n}"],"mappings":"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"}},"mtime":1701962309375},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//import routerx from \"express\";\n\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.getImage);\nrouter.get(\"/show/:id\", _ProductController.default.show);\n\n// Variedad\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", _auth.default.verifyAdmin, _VariedadController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Qcm9kdWN0Q29udHJvbGxlciIsIl9WYXJpZWRhZENvbnRyb2xsZXIiLCJfYXV0aCIsIl9jb25uZWN0TXVsdGlwYXJ0eSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicGF0aCIsIm11bHRpcGFydHkiLCJ1cGxvYWREaXIiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsInByb2R1Y3RDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJyZWdpc3Rlcl9pbWFnZW4iLCJyZW1vdmVfaW1hZ2VuIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsImdldEltYWdlIiwic2hvdyIsInZhcmllZGFkQ29udHJvbGxlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiO1xuLy9pbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IHByb2R1Y3RDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Qcm9kdWN0Q29udHJvbGxlclwiO1xuaW1wb3J0IHZhcmllZGFkQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9WYXJpZWRhZENvbnRyb2xsZXInO1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCc7XG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tIFwiY29ubmVjdC1tdWx0aXBhcnR5XCI7XG5cbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOiAnLi91cGxvYWRzL3Byb2R1Y3QnfSk7XG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgcHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJfaW1hZ2VuXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgcHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXJfaW1hZ2VuKTtcbnJvdXRlci5wb3N0KFwiL3JlbW92ZV9pbWFnZW5cIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBwcm9kdWN0Q29udHJvbGxlci5yZW1vdmVfaW1hZ2VuKTtcblxucm91dGVyLnB1dChcIi91cGRhdGVcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBwcm9kdWN0Q29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsIGF1dGgudmVyaWZ5QWRtaW4sIHByb2R1Y3RDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgYXV0aC52ZXJpZnlBZG1pbiwgcHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlKTtcblxucm91dGVyLmdldChcIi91cGxvYWRzL3Byb2R1Y3QvOmltZ1wiLCBwcm9kdWN0Q29udHJvbGxlci5nZXRJbWFnZSk7XG5yb3V0ZXIuZ2V0KFwiL3Nob3cvOmlkXCIsIHByb2R1Y3RDb250cm9sbGVyLnNob3cpO1xuXG4vLyBWYXJpZWRhZFxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItdmFyaWVkYWRcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCB2YXJpZWRhZENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGUtdmFyaWVkYWRcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCB2YXJpZWRhZENvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXZhcmllZGFkLzppZFwiLCBhdXRoLnZlcmlmeUFkbWluLCB2YXJpZWRhZENvbnRyb2xsZXIuZGVsZXRlKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFDLGtCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxtQkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksa0JBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUE0QyxTQUFBRCx1QkFBQU0sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUo1Qzs7QUFNQSxJQUFJRyxJQUFJLEdBQUcsSUFBQUMsMEJBQVUsRUFBQztFQUFDQyxTQUFTLEVBQUU7QUFBbUIsQ0FBQyxDQUFDO0FBQ3ZELE1BQU1DLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDBCQUFpQixDQUFDQyxRQUFRLENBQUM7QUFDOUVOLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBRVEsMEJBQWlCLENBQUNFLGVBQWUsQ0FBQztBQUM1RlAsTUFBTSxDQUFDRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFUSwwQkFBaUIsQ0FBQ0csYUFBYSxDQUFDO0FBRXhGUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFUSwwQkFBaUIsQ0FBQ0ssTUFBTSxDQUFDO0FBQ3pFVixNQUFNLENBQUNXLEdBQUcsQ0FBQyxPQUFPLEVBQUVSLGFBQUksQ0FBQ0MsV0FBVyxFQUFFQywwQkFBaUIsQ0FBQ08sSUFBSSxDQUFDO0FBQzdEWixNQUFNLENBQUNhLE1BQU0sQ0FBQyxTQUFTLEVBQUVWLGFBQUksQ0FBQ0MsV0FBVyxFQUFFQywwQkFBaUIsQ0FBQ1MsTUFBTSxDQUFDO0FBRXBFZCxNQUFNLENBQUNXLEdBQUcsQ0FBQyx1QkFBdUIsRUFBRU4sMEJBQWlCLENBQUNVLFFBQVEsQ0FBQztBQUMvRGYsTUFBTSxDQUFDVyxHQUFHLENBQUMsV0FBVyxFQUFFTiwwQkFBaUIsQ0FBQ1csSUFBSSxDQUFDOztBQUUvQztBQUNBaEIsTUFBTSxDQUFDRSxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFb0IsMkJBQWtCLENBQUNYLFFBQVEsQ0FBQztBQUN4Rk4sTUFBTSxDQUFDUyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsQ0FBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFb0IsMkJBQWtCLENBQUNQLE1BQU0sQ0FBQztBQUNuRlYsTUFBTSxDQUFDYSxNQUFNLENBQUMsc0JBQXNCLEVBQUVWLGFBQUksQ0FBQ0MsV0FBVyxFQUFFYSwyQkFBa0IsQ0FBQ0osTUFBTSxDQUFDO0FBQUMsSUFBQUssUUFBQSxHQUFBQyxPQUFBLENBQUF2QixPQUFBLEdBRXBFSSxNQUFNIn0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ProductController","_VariedadController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","productController","register","register_imagen","remove_imagen","put","update","get","list","delete","remove","getImage","show","variedadController","_default","exports"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/router/","sources":["Product.js"],"sourcesContent":["import routerx from \"express-promise-router\";\n//import routerx from \"express\";\nimport productController from \"../controllers/ProductController\";\nimport variedadController from '../controllers/VariedadController';\nimport auth from '../middlewares/auth';\nimport multiparty from \"connect-multiparty\";\n\nvar path = multiparty({uploadDir: './uploads/product'});\nconst router = routerx();\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], productController.register);\nrouter.post(\"/register_imagen\", [auth.verifyAdmin, path], productController.register_imagen);\nrouter.post(\"/remove_imagen\", [auth.verifyAdmin, path], productController.remove_imagen);\n\nrouter.put(\"/update\", [auth.verifyAdmin, path], productController.update);\nrouter.get(\"/list\", auth.verifyAdmin, productController.list);\nrouter.delete(\"/delete\", auth.verifyAdmin, productController.remove);\n\nrouter.get(\"/uploads/product/:img\", productController.getImage);\nrouter.get(\"/show/:id\", productController.show);\n\n// Variedad\nrouter.post(\"/register-variedad\", [auth.verifyAdmin, path], variedadController.register);\nrouter.put(\"/update-variedad\", [auth.verifyAdmin, path], variedadController.update);\nrouter.delete(\"/delete-variedad/:id\", auth.verifyAdmin, variedadController.delete);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,mBAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,kBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAJ5C;;AAMA,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAmB,CAAC,CAAC;AACvD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACC,QAAQ,CAAC;AAC9EN,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACE,eAAe,CAAC;AAC5FP,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACG,aAAa,CAAC;AAExFR,MAAM,CAACS,GAAG,CAAC,SAAS,EAAE,CAACN,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACK,MAAM,CAAC;AACzEV,MAAM,CAACW,GAAG,CAAC,OAAO,EAAER,aAAI,CAACC,WAAW,EAAEC,0BAAiB,CAACO,IAAI,CAAC;AAC7DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAAEV,aAAI,CAACC,WAAW,EAAEC,0BAAiB,CAACS,MAAM,CAAC;AAEpEd,MAAM,CAACW,GAAG,CAAC,uBAAuB,EAAEN,0BAAiB,CAACU,QAAQ,CAAC;AAC/Df,MAAM,CAACW,GAAG,CAAC,WAAW,EAAEN,0BAAiB,CAACW,IAAI,CAAC;;AAE/C;AACAhB,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEoB,2BAAkB,CAACX,QAAQ,CAAC;AACxFN,MAAM,CAACS,GAAG,CAAC,kBAAkB,EAAE,CAACN,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEoB,2BAAkB,CAACP,MAAM,CAAC;AACnFV,MAAM,CAACa,MAAM,CAAC,sBAAsB,EAAEV,aAAI,CAACC,WAAW,EAAEa,2BAAkB,CAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GAEpEI,MAAM"}},"mtime":1701948880092},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      if (valid_Product) {\n        res.status(200).send({\n          code: 403,\n          message: \"El producto ya existe\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json({\n        message: \"El Producto se registró correctamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Debugg: ProducController - Ocurrio un problema en Register\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (valid_Product) {\n        res.status(200).send({\n          code: 403,\n          message: \"El producto ya existe\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: \"El Registro se ha modificado correctamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Debugg: ProducController - Ocurrio un problema en Update\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      var categorie = req.query.categorie;\n      let products = await _models.default.Product.find({\n        $or: [{\n          \"title\": new RegExp(search, 'i')\n        }, {\n          \"categorie\": categorie\n        }]\n      }).populate('categorie');\n      products = products.map(product => {\n        return _resources.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController list - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.params._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      resizeTo.status(200).json({\n        message: \"El producto se ha eliminado correctamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController remove - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  getImage: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController getImage - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('/');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"La imagen se subió perfectamente\",\n        imagen: {\n          //imagen: imagen_name,\n          imagen: 'http://localhost:3000' + '/api/products/uploads/product/' + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController register_imagen - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"La imagen se eliminó perfectamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController remove_imagen - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let product = await _models.default.Product.findById({\n        _id: product_id\n      }).populate(\"categorie\");\n      let variedades = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resources.default.Product.product_list(product, variedades)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"debbug: ProductController show - OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJ2YWxpZF9Qcm9kdWN0IiwibW9kZWxzIiwiUHJvZHVjdCIsImZpbmRPbmUiLCJ0aXRsZSIsInN0YXR1cyIsInNlbmQiLCJjb2RlIiwibWVzc2FnZSIsInNsdWciLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJmaWxlcyIsImltZ19wYXRoIiwiaW1hZ2VuIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsInBvcnRhZGEiLCJwcm9kdWN0IiwiY3JlYXRlIiwianNvbiIsImVycm9yIiwidXBkYXRlIiwiX2lkIiwiJG5lIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJjb25zb2xlIiwibG9nIiwibGlzdCIsInNlYXJjaCIsInF1ZXJ5IiwiY2F0ZWdvcmllIiwicHJvZHVjdHMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwicG9wdWxhdGUiLCJtYXAiLCJyZXNvdXJjZXMiLCJwcm9kdWN0X2xpc3QiLCJyZW1vdmUiLCJwYXJhbXMiLCJmaW5kQnlJZEFuZERlbGV0ZSIsInJlc2l6ZVRvIiwiZ2V0SW1hZ2UiLCJpbWciLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlZ2lzdGVyX2ltYWdlbiIsImltYWdlbl9uYW1lIiwiJHB1c2giLCJnYWxlcmlhcyIsIl9faWQiLCJyZW1vdmVfaW1hZ2VuIiwiJHB1bGwiLCJzaG93IiwicHJvZHVjdF9pZCIsImlkIiwiZmluZEJ5SWQiLCJ2YXJpZWRhZGVzIiwiVmFyaWVkYWQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9lZGR5bHVqYW4vRG9jdW1lbnRzL0RFU0FSUk9MTE8vV0VCL0VDT01NRVJDRS9FQ09NTUVSQ0UtTUVBTi9hcGlfZWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiUHJvZHVjdENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xuaW1wb3J0IHJlc291cmNlcyBmcm9tICcuLi9yZXNvdXJjZXMnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG5cbiAgICAgICAgICAgIGxldCB2YWxpZF9Qcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7dGl0bGU6IGRhdGEudGl0bGV9KTtcblxuICAgICAgICAgICAgaWYodmFsaWRfUHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNDAzLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVsIHByb2R1Y3RvIHlhIGV4aXN0ZVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhLnNsdWcgPSBkYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCctJykucmVwbGFjZSgvW15cXHctXSsvZywnJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChyZXEuZmlsZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAgICAgICAgIGRhdGEucG9ydGFkYSA9IHBvcnRhZGFfbmFtZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5jcmVhdGUoZGF0YSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVsIFByb2R1Y3RvIHNlIHJlZ2lzdHLDsyBjb3JyZWN0YW1lbnRlXCJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJEZWJ1Z2c6IFByb2R1Y0NvbnRyb2xsZXIgLSBPY3VycmlvIHVuIHByb2JsZW1hIGVuIFJlZ2lzdGVyXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuXG4gICAgICAgICAgICBsZXQgdmFsaWRfUHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe3RpdGxlOiBkYXRhLnRpdGxlLCBfaWQ6IHskbmU6IGRhdGEuX2lkfSB9KTtcblxuICAgICAgICAgICAgaWYodmFsaWRfUHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNDAzLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVsIHByb2R1Y3RvIHlhIGV4aXN0ZVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhLnNsdWcgPSBkYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCctJykucmVwbGFjZSgvW15cXHctXSsvZywnJyk7XG5cbiAgICAgICAgICAgIGlmIChyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLmltYWdlbikge1xuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAgICAgICAgZGF0YS5wb3J0YWRhID0gcG9ydGFkYV9uYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBkYXRhLl9pZH0sIGRhdGEpO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFbCBSZWdpc3RybyBzZSBoYSBtb2RpZmljYWRvIGNvcnJlY3RhbWVudGVcIlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkRlYnVnZzogUHJvZHVjQ29udHJvbGxlciAtIE9jdXJyaW8gdW4gcHJvYmxlbWEgZW4gVXBkYXRlXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsaXN0OiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XG4gICAgICAgICAgICB2YXIgY2F0ZWdvcmllID0gcmVxLnF1ZXJ5LmNhdGVnb3JpZTtcbiAgICAgICAgICAgIGxldCBwcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe1xuICAgICAgICAgICAgICAgICRvcjpbXG4gICAgICAgICAgICAgICAgICAgIHtcInRpdGxlXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCAnaScpfSxcbiAgICAgICAgICAgICAgICAgICAge1wiY2F0ZWdvcmllXCI6IGNhdGVnb3JpZX0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0pLnBvcHVsYXRlKCdjYXRlZ29yaWUnKVxuXG4gICAgICAgICAgICBwcm9kdWN0cyA9IHByb2R1Y3RzLm1hcChwcm9kdWN0ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KHByb2R1Y3QpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogcHJvZHVjdHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZGViYnVnOiBQcm9kdWN0Q29udHJvbGxlciBsaXN0IC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLl9pZDtcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xuICAgICAgICAgICAgcmVzaXplVG8uc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFbCBwcm9kdWN0byBzZSBoYSBlbGltaW5hZG8gY29ycmVjdGFtZW50ZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogUHJvZHVjdENvbnRyb2xsZXIgcmVtb3ZlIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEltYWdlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGltZyA9IHJlcS5wYXJhbXNbJ2ltZyddO1xuXG4gICAgICAgICAgICBmcy5zdGF0KCcuL3VwbG9hZHMvcHJvZHVjdC8nK2ltZywgZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgICAgICBpZighZXJyKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9wcm9kdWN0LycraW1nO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogUHJvZHVjdENvbnRyb2xsZXIgZ2V0SW1hZ2UgLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVnaXN0ZXJfaW1hZ2VuOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmltYWdlbi5wYXRoO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgICAgdmFyIGltYWdlbl9uYW1lID0gbmFtZVsyXTtcblxuICAgICAgICAgICAgbGV0IHByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LCB7XG4gICAgICAgICAgICAgICAgJHB1c2g6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2FsZXJpYXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlbjogaW1hZ2VuX25hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHJlcS5ib2R5Ll9faWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTGEgaW1hZ2VuIHNlIHN1YmnDsyBwZXJmZWN0YW1lbnRlXCIsXG4gICAgICAgICAgICAgICAgaW1hZ2VuOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vaW1hZ2VuOiBpbWFnZW5fbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VuOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJysnL2FwaS9wcm9kdWN0cy91cGxvYWRzL3Byb2R1Y3QvJytpbWFnZW5fbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogUHJvZHVjdENvbnRyb2xsZXIgcmVnaXN0ZXJfaW1hZ2VuIC0gT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZV9pbWFnZW46IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LCB7XG4gICAgICAgICAgICAgICAgJHB1bGw6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2FsZXJpYXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogcmVxLmJvZHkuX19pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMYSBpbWFnZW4gc2UgZWxpbWluw7MgcGVyZmVjdGFtZW50ZVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJkZWJidWc6IFByb2R1Y3RDb250cm9sbGVyIHJlbW92ZV9pbWFnZW4gLSBPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2hvdzogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBwcm9kdWN0X2lkID0gcmVxLnBhcmFtcy5pZDtcbiAgICAgICAgICAgIGxldCBwcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDogcHJvZHVjdF9pZH0pLnBvcHVsYXRlKFwiY2F0ZWdvcmllXCIpO1xuICAgICAgICAgICAgbGV0IHZhcmllZGFkZXMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogcHJvZHVjdF9pZH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIHByb2R1Y3Q6IHJlc291cmNlcy5Qcm9kdWN0LnByb2R1Y3RfbGlzdChwcm9kdWN0LCB2YXJpZWRhZGVzKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImRlYmJ1ZzogUHJvZHVjdENvbnRyb2xsZXIgc2hvdyAtIE9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsR0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQXdCLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxF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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","data","body","valid_Product","models","Product","findOne","title","status","send","code","message","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","product","create","json","error","update","_id","$ne","findByIdAndUpdate","console","log","list","search","query","categorie","products","find","$or","RegExp","populate","map","resources","product_list","remove","params","findByIdAndDelete","resizeTo","getImage","img","fs","stat","err","path_img","sendFile","resolve","register_imagen","imagen_name","$push","galerias","__id","remove_imagen","$pull","show","product_id","id","findById","variedades","Variedad"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/","sources":["ProductController.js"],"sourcesContent":["import models from '../models';\nimport resources from '../resources';\nimport fs from 'fs';\nimport path from \"path\";\n\nexport default {\n    register: async(req, res) => {\n        try {\n            let data = req.body;\n\n            let valid_Product = await models.Product.findOne({title: data.title});\n\n            if(valid_Product) {\n                res.status(200).send({\n                    code: 403,\n                    message: \"El producto ya existe\"\n                });\n                return;\n            }\n\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\n            \n            if (req.files) {\n                var img_path = req.files.imagen.path;\n                var name = img_path.split('/');\n                var portada_name = name[2];\n                data.portada = portada_name;\n            }\n\n            let product = await models.Product.create(data);\n\n            res.status(200).json({\n                message: \"El Producto se registró correctamente\"\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"Debugg: ProducController - Ocurrio un problema en Register\"\n            });\n        }\n    },\n    update: async(req, res) => {\n        try {\n            let data = req.body;\n\n            let valid_Product = await models.Product.findOne({title: data.title, _id: {$ne: data._id} });\n\n            if(valid_Product) {\n                res.status(200).send({\n                    code: 403,\n                    message: \"El producto ya existe\"\n                });\n                return;\n            }\n\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\n\n            if (req.files && req.files.imagen) {\n                var img_path = req.files.imagen.path;\n                var name = img_path.split('/');\n                var portada_name = name[2];\n                data.portada = portada_name;\n            }\n\n            await models.Product.findByIdAndUpdate({_id: data._id}, data);\n\n            res.status(200).json({\n                message: \"El Registro se ha modificado correctamente\"\n            });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"Debugg: ProducController - Ocurrio un problema en Update\"\n            });\n        }\n    },\n    list: async(req, res) => {\n        try {\n            var search = req.query.search;\n            var categorie = req.query.categorie;\n            let products = await models.Product.find({\n                $or:[\n                    {\"title\": new RegExp(search, 'i')},\n                    {\"categorie\": categorie},\n                ],\n            }).populate('categorie')\n\n            products = products.map(product => {\n                return resources.Product.product_list(product);\n            });\n\n            res.status(200).json({\n                products: products\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController list - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove: async(req, res) => {\n        try {\n            let _id = req.params._id;\n            await models.Product.findByIdAndDelete({_id: _id});\n            resizeTo.status(200).json({\n                message: \"El producto se ha eliminado correctamente\"\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController remove - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    getImage: async(req, res) => {\n        try {\n            var img = req.params['img'];\n\n            fs.stat('./uploads/product/'+img, function(err){\n                if(!err){\n                    let path_img = './uploads/product/'+img;\n                    res.status(200).sendFile(path.resolve(path_img));\n                }else{\n                    let path_img = './uploads/default.jpg';\n                    res.status(200).sendFile(path.resolve(path_img));\n                }\n            })\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController getImage - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    register_imagen: async(req, res) => {\n        try {\n            var img_path = req.files.imagen.path;\n            var name = img_path.split('/');\n            var imagen_name = name[2];\n\n            let product = await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n                $push: {\n                    galerias: {\n                        imagen: imagen_name,\n                        _id: req.body.__id\n                    }\n                }\n            });\n            res.status(200).json({\n                message: \"La imagen se subió perfectamente\",\n                imagen: {\n                    //imagen: imagen_name,\n                    imagen: 'http://localhost:3000'+'/api/products/uploads/product/'+imagen_name,\n                    _id: req.body.__id\n                }\n            })\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController register_imagen - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    remove_imagen: async(req, res) => {\n        try {\n            await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n                $pull: {\n                    galerias: {\n                        _id: req.body.__id\n                    }\n                }\n            });\n            res.status(200).json({\n                message: \"La imagen se eliminó perfectamente\",\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController remove_imagen - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    },\n    show: async(req, res) => {\n        try {\n            var product_id = req.params.id;\n            let product = await models.Product.findById({_id: product_id}).populate(\"categorie\");\n            let variedades = await models.Variedad.find({product: product_id});\n            res.status(200).json({\n                product: resources.Product.product_list(product, variedades)\n            })\n        } catch (error) {\n            res.status(500).send({\n                message: \"debbug: ProductController show - OCURRIÓ UN PROBLEMA\"\n            });\n            console.log(error);\n        }\n    }\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,GAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAwB,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAET;EACXG,QAAQ,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,KAAK;IACzB,IAAI;MACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,IAAIC,aAAa,GAAG,MAAMC,eAAM,CAACC,OAAO,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,IAAI,CAACM;MAAK,CAAC,CAAC;MAErE,IAAGJ,aAAa,EAAE;QACdH,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,IAAI,EAAE,GAAG;UACTC,OAAO,EAAE;QACb,CAAC,CAAC;QACF;MACJ;MAEAV,IAAI,CAACW,IAAI,GAAGX,IAAI,CAACM,KAAK,CAACM,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,EAAC,GAAG,CAAC,CAACA,OAAO,CAAC,UAAU,EAAC,EAAE,CAAC;MAE7E,IAAIf,GAAG,CAACgB,KAAK,EAAE;QACX,IAAIC,QAAQ,GAAGjB,GAAG,CAACgB,KAAK,CAACE,MAAM,CAACC,IAAI;QACpC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC;QAC9B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAC1BlB,IAAI,CAACqB,OAAO,GAAGD,YAAY;MAC/B;MAEA,IAAIE,OAAO,GAAG,MAAMnB,eAAM,CAACC,OAAO,CAACmB,MAAM,CAACvB,IAAI,CAAC;MAE/CD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAC;QACjBd,OAAO,EAAE;MACb,CAAC,CAAC;IAEN,CAAC,CAAC,OAAOe,KAAK,EAAE;MACZ1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDgB,MAAM,EAAE,MAAAA,CAAM5B,GAAG,EAAEC,GAAG,KAAK;IACvB,IAAI;MACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,IAAIC,aAAa,GAAG,MAAMC,eAAM,CAACC,OAAO,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,IAAI,CAACM,KAAK;QAAEqB,GAAG,EAAE;UAACC,GAAG,EAAE5B,IAAI,CAAC2B;QAAG;MAAE,CAAC,CAAC;MAE5F,IAAGzB,aAAa,EAAE;QACdH,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,IAAI,EAAE,GAAG;UACTC,OAAO,EAAE;QACb,CAAC,CAAC;QACF;MACJ;MAEAV,IAAI,CAACW,IAAI,GAAGX,IAAI,CAACM,KAAK,CAACM,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,EAAC,GAAG,CAAC,CAACA,OAAO,CAAC,UAAU,EAAC,EAAE,CAAC;MAE7E,IAAIf,GAAG,CAACgB,KAAK,IAAIhB,GAAG,CAACgB,KAAK,CAACE,MAAM,EAAE;QAC/B,IAAID,QAAQ,GAAGjB,GAAG,CAACgB,KAAK,CAACE,MAAM,CAACC,IAAI;QACpC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC;QAC9B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAC1BlB,IAAI,CAACqB,OAAO,GAAGD,YAAY;MAC/B;MAEA,MAAMjB,eAAM,CAACC,OAAO,CAACyB,iBAAiB,CAAC;QAACF,GAAG,EAAE3B,IAAI,CAAC2B;MAAG,CAAC,EAAE3B,IAAI,CAAC;MAE7DD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAC;QACjBd,OAAO,EAAE;MACb,CAAC,CAAC;IAEN,CAAC,CAAC,OAAOe,KAAK,EAAE;MACZK,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;MAClB1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDsB,IAAI,EAAE,MAAAA,CAAMlC,GAAG,EAAEC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIkC,MAAM,GAAGnC,GAAG,CAACoC,KAAK,CAACD,MAAM;MAC7B,IAAIE,SAAS,GAAGrC,GAAG,CAACoC,KAAK,CAACC,SAAS;MACnC,IAAIC,QAAQ,GAAG,MAAMjC,eAAM,CAACC,OAAO,CAACiC,IAAI,CAAC;QACrCC,GAAG,EAAC,CACA;UAAC,OAAO,EAAE,IAAIC,MAAM,CAACN,MAAM,EAAE,GAAG;QAAC,CAAC,EAClC;UAAC,WAAW,EAAEE;QAAS,CAAC;MAEhC,CAAC,CAAC,CAACK,QAAQ,CAAC,WAAW,CAAC;MAExBJ,QAAQ,GAAGA,QAAQ,CAACK,GAAG,CAACnB,OAAO,IAAI;QAC/B,OAAOoB,kBAAS,CAACtC,OAAO,CAACuC,YAAY,CAACrB,OAAO,CAAC;MAClD,CAAC,CAAC;MAEFvB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAC;QACjBY,QAAQ,EAAEA;MACd,CAAC,CAAC;IACN,CAAC,CAAC,OAAOX,KAAK,EAAE;MACZ1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;MACFoB,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;IACtB;EACJ,CAAC;EACDmB,MAAM,EAAE,MAAAA,CAAM9C,GAAG,EAAEC,GAAG,KAAK;IACvB,IAAI;MACA,IAAI4B,GAAG,GAAG7B,GAAG,CAAC+C,MAAM,CAAClB,GAAG;MACxB,MAAMxB,eAAM,CAACC,OAAO,CAAC0C,iBAAiB,CAAC;QAACnB,GAAG,EAAEA;MAAG,CAAC,CAAC;MAClDoB,QAAQ,CAACxC,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAC;QACtBd,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOe,KAAK,EAAE;MACZ1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;MACFoB,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;IACtB;EACJ,CAAC;EACDuB,QAAQ,EAAE,MAAAA,CAAMlD,GAAG,EAAEC,GAAG,KAAK;IACzB,IAAI;MACA,IAAIkD,GAAG,GAAGnD,GAAG,CAAC+C,MAAM,CAAC,KAAK,CAAC;MAE3BK,WAAE,CAACC,IAAI,CAAC,oBAAoB,GAACF,GAAG,EAAE,UAASG,GAAG,EAAC;QAC3C,IAAG,CAACA,GAAG,EAAC;UACJ,IAAIC,QAAQ,GAAG,oBAAoB,GAACJ,GAAG;UACvClD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAAC+C,QAAQ,CAACrC,aAAI,CAACsC,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD,CAAC,MAAI;UACD,IAAIA,QAAQ,GAAG,uBAAuB;UACtCtD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAAC+C,QAAQ,CAACrC,aAAI,CAACsC,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD;MACJ,CAAC,CAAC;IACN,CAAC,CAAC,OAAO5B,KAAK,EAAE;MACZ1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;MACFoB,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;IACtB;EACJ,CAAC;EACD+B,eAAe,EAAE,MAAAA,CAAM1D,GAAG,EAAEC,GAAG,KAAK;IAChC,IAAI;MACA,IAAIgB,QAAQ,GAAGjB,GAAG,CAACgB,KAAK,CAACE,MAAM,CAACC,IAAI;MACpC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC;MAC9B,IAAIsC,WAAW,GAAGvC,IAAI,CAAC,CAAC,CAAC;MAEzB,IAAII,OAAO,GAAG,MAAMnB,eAAM,CAACC,OAAO,CAACyB,iBAAiB,CAAC;QAACF,GAAG,EAAE7B,GAAG,CAACG,IAAI,CAAC0B;MAAG,CAAC,EAAE;QACtE+B,KAAK,EAAE;UACHC,QAAQ,EAAE;YACN3C,MAAM,EAAEyC,WAAW;YACnB9B,GAAG,EAAE7B,GAAG,CAACG,IAAI,CAAC2D;UAClB;QACJ;MACJ,CAAC,CAAC;MACF7D,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAC;QACjBd,OAAO,EAAE,kCAAkC;QAC3CM,MAAM,EAAE;UACJ;UACAA,MAAM,EAAE,uBAAuB,GAAC,gCAAgC,GAACyC,WAAW;UAC5E9B,GAAG,EAAE7B,GAAG,CAACG,IAAI,CAAC2D;QAClB;MACJ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOnC,KAAK,EAAE;MACZ1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;MACFoB,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;IACtB;EACJ,CAAC;EACDoC,aAAa,EAAE,MAAAA,CAAM/D,GAAG,EAAEC,GAAG,KAAK;IAC9B,IAAI;MACA,MAAMI,eAAM,CAACC,OAAO,CAACyB,iBAAiB,CAAC;QAACF,GAAG,EAAE7B,GAAG,CAACG,IAAI,CAAC0B;MAAG,CAAC,EAAE;QACxDmC,KAAK,EAAE;UACHH,QAAQ,EAAE;YACNhC,GAAG,EAAE7B,GAAG,CAACG,IAAI,CAAC2D;UAClB;QACJ;MACJ,CAAC,CAAC;MACF7D,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAC;QACjBd,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOe,KAAK,EAAE;MACZ1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;MACFoB,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;IACtB;EACJ,CAAC;EACDsC,IAAI,EAAE,MAAAA,CAAMjE,GAAG,EAAEC,GAAG,KAAK;IACrB,IAAI;MACA,IAAIiE,UAAU,GAAGlE,GAAG,CAAC+C,MAAM,CAACoB,EAAE;MAC9B,IAAI3C,OAAO,GAAG,MAAMnB,eAAM,CAACC,OAAO,CAAC8D,QAAQ,CAAC;QAACvC,GAAG,EAAEqC;MAAU,CAAC,CAAC,CAACxB,QAAQ,CAAC,WAAW,CAAC;MACpF,IAAI2B,UAAU,GAAG,MAAMhE,eAAM,CAACiE,QAAQ,CAAC/B,IAAI,CAAC;QAACf,OAAO,EAAE0C;MAAU,CAAC,CAAC;MAClEjE,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAC;QACjBF,OAAO,EAAEoB,kBAAS,CAACtC,OAAO,CAACuC,YAAY,CAACrB,OAAO,EAAE6C,UAAU;MAC/D,CAAC,CAAC;IACN,CAAC,CAAC,OAAO1C,KAAK,EAAE;MACZ1B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAE;MACb,CAAC,CAAC;MACFoB,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC"}},"mtime":1701994409311},"{\"assumptions\":{},\"sourceRoot\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"filename\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"La variedad se eleminó correctamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJ2YXJpZWRhZF9leGl0cyIsIm1vZGVscyIsIlZhcmllZGFkIiwiZmluZE9uZSIsInZhbG9yIiwicHJvZHVjdCIsInZhcmllZGFkIiwic3RvY2siLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsImZpbmRCeUlkIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlIiwiZGVsZXRlIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2VkZHlsdWphbi9Eb2N1bWVudHMvREVTQVJST0xMTy9XRUIvRUNPTU1FUkNFL0VDT01NRVJDRS1NRUFOL2FwaV9lY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJWYXJpZWRhZENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZWdpc3Rlcjphc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuICAgICAgICAgICAgbGV0IHZhcmllZGFkX2V4aXRzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe3ZhbG9yOiBkYXRhLnZhbG9yLCBwcm9kdWN0OiBkYXRhLnByb2R1Y3R9KTtcbiAgICAgICAgICAgIHZhciB2YXJpZWRhZCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICh2YXJpZWRhZF9leGl0cykge1xuICAgICAgICAgICAgICAgIGRhdGEuc3RvY2sgPSB2YXJpZWRhZF9leGl0cy5zdG9jayArIGRhdGEuc3RvY2s7XG4gICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0sIGRhdGEpO1xuICAgICAgICAgICAgICAgIHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5jcmVhdGUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICB2YXJpZWRhZDp2YXJpZWRhZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRGViYnVnIC0gVmFyaWVkYWRDb250cm9sbGVyOiAgT2N1cnJpbyB1biBwcm9ibGVtYSBlbiBlbCBtZWRvdG8gcmVnaXN0ZXJcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZTphc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LCBkYXRhKTtcbiAgICAgICAgICAgIGxldCB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZCh7X2lkOiBkYXRhLl9pZH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIHZhcmllZGFkOnZhcmllZGFkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJEZWJidWcgLSBWYXJpZWRhZENvbnRyb2xsZXI6ICBPY3VycmlvIHVuIHByb2JsZW1hIGVuIGVsIG1lZG90byByZWdpc3RlclwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGVsZXRlOmFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcIkxhIHZhcmllZGFkIHNlIGVsZW1pbsOzIGNvcnJlY3RhbWVudGVcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRGViYnVnIC0gVmFyaWVkYWRDb250cm9sbGVyOiAgT2N1cnJpbyB1biBwcm9ibGVtYSBlbiBlbCBtZWRvdG8gcmVnaXN0ZXJcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFaEI7RUFDWEcsUUFBUSxFQUFDLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3ZCLElBQUk7TUFDQSxJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSTtNQUNuQixJQUFJQyxjQUFjLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxRQUFRLENBQUNDLE9BQU8sQ0FBQztRQUFDQyxLQUFLLEVBQUVOLElBQUksQ0FBQ00sS0FBSztRQUFFQyxPQUFPLEVBQUVQLElBQUksQ0FBQ087TUFBTyxDQUFDLENBQUM7TUFDOUYsSUFBSUMsUUFBUSxHQUFHLElBQUk7TUFFbkIsSUFBSU4sY0FBYyxFQUFFO1FBQ2hCRixJQUFJLENBQUNTLEtBQUssR0FBR1AsY0FBYyxDQUFDTyxLQUFLLEdBQUdULElBQUksQ0FBQ1MsS0FBSztRQUM5QyxNQUFNTixlQUFNLENBQUNDLFFBQVEsQ0FBQ00saUJBQWlCLENBQUM7VUFBQ0MsR0FBRyxFQUFFVCxjQUFjLENBQUNTO1FBQUcsQ0FBQyxFQUFFWCxJQUFJLENBQUM7UUFDeEVRLFFBQVEsR0FBRyxNQUFNTCxlQUFNLENBQUNDLFFBQVEsQ0FBQ1EsUUFBUSxDQUFDO1VBQUNELEdBQUcsRUFBRVQsY0FBYyxDQUFDUztRQUFHLENBQUMsQ0FBQztNQUN4RSxDQUFDLE1BQU07UUFDSEgsUUFBUSxHQUFHLE1BQU1MLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDUyxNQUFNLENBQUNiLElBQUksQ0FBQztNQUNqRDtNQUVBRCxHQUFHLENBQUNlLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCUCxRQUFRLEVBQUNBO01BQ2IsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9RLEtBQUssRUFBRTtNQUNaakIsR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO01BQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSixDQUFDO0VBQ0RLLE1BQU0sRUFBQyxNQUFBQSxDQUFNdkIsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDckIsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BQ25CLE1BQU1FLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDTSxpQkFBaUIsQ0FBQztRQUFDQyxHQUFHLEVBQUNYLElBQUksQ0FBQ1c7TUFBRyxDQUFDLEVBQUVYLElBQUksQ0FBQztNQUM3RCxJQUFJUSxRQUFRLEdBQUcsTUFBTUwsZUFBTSxDQUFDQyxRQUFRLENBQUNRLFFBQVEsQ0FBQztRQUFDRCxHQUFHLEVBQUVYLElBQUksQ0FBQ1c7TUFBRyxDQUFDLENBQUM7TUFDOURaLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJQLFFBQVEsRUFBQ0E7TUFDYixDQUFDLENBQUM7SUFDTixDQUFDLENBQUMsT0FBT1EsS0FBSyxFQUFFO01BQ1pqQixHQUFHLENBQUNlLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztJQUN0QjtFQUNKLENBQUM7RUFDRE0sTUFBTSxFQUFDLE1BQUFBLENBQU14QixHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUNyQixJQUFJO01BQ0EsSUFBSVksR0FBRyxHQUFHYixHQUFHLENBQUN5QixNQUFNLENBQUNDLEVBQUU7TUFDdkIsTUFBTXJCLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDcUIsaUJBQWlCLENBQUM7UUFBQ2QsR0FBRyxFQUFDQTtNQUFHLENBQUMsQ0FBQztNQUNsRFosR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkcsT0FBTyxFQUFDO01BQ1osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9GLEtBQUssRUFBRTtNQUNaakIsR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO01BQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSjtBQUNKLENBQUMifQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","send","message","console","log","update","delete","params","id","findByIdAndDelete"],"sourceRoot":"/Users/eddylujan/Documents/DESARROLLO/WEB/ECOMMERCE/ECOMMERCE-MEAN/api_ecommerce/controllers/","sources":["VariedadController.js"],"sourcesContent":["import models from \"../models\";\n\nexport default {\n    register:async(req,res) => {\n        try {\n            let data = req.body;\n            let variedad_exits = await models.Variedad.findOne({valor: data.valor, product: data.product});\n            var variedad = null;\n\n            if (variedad_exits) {\n                data.stock = variedad_exits.stock + data.stock;\n                await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id}, data);\n                variedad = await models.Variedad.findById({_id: variedad_exits._id});\n            } else {\n                variedad = await models.Variedad.create(data);\n            }\n            \n            res.status(200).json({\n                variedad:variedad,\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n            });\n            console.log(error);\n        }\n    },\n    update:async(req,res) => {\n        try {\n            let data = req.body;\n            await models.Variedad.findByIdAndUpdate({_id:data._id}, data);\n            let variedad = await models.Variedad.findById({_id: data._id});\n            res.status(200).json({\n                variedad:variedad,\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n            });\n            console.log(error);\n        }\n    },\n    delete:async(req,res) => {\n        try {\n            let _id = req.params.id;\n            await models.Variedad.findByIdAndDelete({_id:_id});\n            res.status(200).json({\n                message:\"La variedad se eleminó correctamente\",\n            });\n        } catch (error) {\n            res.status(500).send({\n                message: \"Debbug - VariedadController:  Ocurrio un problema en el medoto register\"\n            });\n            console.log(error);\n        }\n    },\n}"],"mappings":"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"}},"mtime":1701962309375}}